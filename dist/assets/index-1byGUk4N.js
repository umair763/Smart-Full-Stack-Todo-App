function dq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PS={exports:{}},qg={},CS={exports:{}},pn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v3;function fq(){if(v3)return pn;v3=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=f&&q[f]||q["@@iterator"],typeof q=="function"?q:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function b(q,ne,ve){this.props=q,this.context=ne,this.refs=S,this.updater=ve||y}b.prototype.isReactComponent={},b.prototype.setState=function(q,ne){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ne,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function _(){}_.prototype=b.prototype;function E(q,ne,ve){this.props=q,this.context=ne,this.refs=S,this.updater=ve||y}var M=E.prototype=new _;M.constructor=E,x(M,b.prototype),M.isPureReactComponent=!0;var P=Array.isArray,C=Object.prototype.hasOwnProperty,N={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function D(q,ne,ve){var se,de={},Ee=null,Ve=null;if(ne!=null)for(se in ne.ref!==void 0&&(Ve=ne.ref),ne.key!==void 0&&(Ee=""+ne.key),ne)C.call(ne,se)&&!O.hasOwnProperty(se)&&(de[se]=ne[se]);var Ue=arguments.length-2;if(Ue===1)de.children=ve;else if(1<Ue){for(var ye=Array(Ue),We=0;We<Ue;We++)ye[We]=arguments[We+2];de.children=ye}if(q&&q.defaultProps)for(se in Ue=q.defaultProps,Ue)de[se]===void 0&&(de[se]=Ue[se]);return{$$typeof:t,type:q,key:Ee,ref:Ve,props:de,_owner:N.current}}function U(q,ne){return{$$typeof:t,type:q.type,key:ne,ref:q.ref,props:q.props,_owner:q._owner}}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function I(q){var ne={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ve){return ne[ve]})}var $=/\/+/g;function X(q,ne){return typeof q=="object"&&q!==null&&q.key!=null?I(""+q.key):ne.toString(36)}function V(q,ne,ve,se,de){var Ee=typeof q;(Ee==="undefined"||Ee==="boolean")&&(q=null);var Ve=!1;if(q===null)Ve=!0;else switch(Ee){case"string":case"number":Ve=!0;break;case"object":switch(q.$$typeof){case t:case e:Ve=!0}}if(Ve)return Ve=q,de=de(Ve),q=se===""?"."+X(Ve,0):se,P(de)?(ve="",q!=null&&(ve=q.replace($,"$&/")+"/"),V(de,ne,ve,"",function(We){return We})):de!=null&&(L(de)&&(de=U(de,ve+(!de.key||Ve&&Ve.key===de.key?"":(""+de.key).replace($,"$&/")+"/")+q)),ne.push(de)),1;if(Ve=0,se=se===""?".":se+":",P(q))for(var Ue=0;Ue<q.length;Ue++){Ee=q[Ue];var ye=se+X(Ee,Ue);Ve+=V(Ee,ne,ve,ye,de)}else if(ye=g(q),typeof ye=="function")for(q=ye.call(q),Ue=0;!(Ee=q.next()).done;)Ee=Ee.value,ye=se+X(Ee,Ue++),Ve+=V(Ee,ne,ve,ye,de);else if(Ee==="object")throw ne=String(q),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Z(q,ne,ve){if(q==null)return q;var se=[],de=0;return V(q,se,"","",function(Ee){return ne.call(ve,Ee,de++)}),se}function ee(q){if(q._status===-1){var ne=q._result;ne=ne(),ne.then(function(ve){(q._status===0||q._status===-1)&&(q._status=1,q._result=ve)},function(ve){(q._status===0||q._status===-1)&&(q._status=2,q._result=ve)}),q._status===-1&&(q._status=0,q._result=ne)}if(q._status===1)return q._result.default;throw q._result}var re={current:null},H={transition:null},J={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:H,ReactCurrentOwner:N};function K(){throw Error("act(...) is not supported in production builds of React.")}return pn.Children={map:Z,forEach:function(q,ne,ve){Z(q,function(){ne.apply(this,arguments)},ve)},count:function(q){var ne=0;return Z(q,function(){ne++}),ne},toArray:function(q){return Z(q,function(ne){return ne})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},pn.Component=b,pn.Fragment=n,pn.Profiler=i,pn.PureComponent=E,pn.StrictMode=r,pn.Suspense=l,pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,pn.act=K,pn.cloneElement=function(q,ne,ve){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var se=x({},q.props),de=q.key,Ee=q.ref,Ve=q._owner;if(ne!=null){if(ne.ref!==void 0&&(Ee=ne.ref,Ve=N.current),ne.key!==void 0&&(de=""+ne.key),q.type&&q.type.defaultProps)var Ue=q.type.defaultProps;for(ye in ne)C.call(ne,ye)&&!O.hasOwnProperty(ye)&&(se[ye]=ne[ye]===void 0&&Ue!==void 0?Ue[ye]:ne[ye])}var ye=arguments.length-2;if(ye===1)se.children=ve;else if(1<ye){Ue=Array(ye);for(var We=0;We<ye;We++)Ue[We]=arguments[We+2];se.children=Ue}return{$$typeof:t,type:q.type,key:de,ref:Ee,props:se,_owner:Ve}},pn.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},pn.createElement=D,pn.createFactory=function(q){var ne=D.bind(null,q);return ne.type=q,ne},pn.createRef=function(){return{current:null}},pn.forwardRef=function(q){return{$$typeof:o,render:q}},pn.isValidElement=L,pn.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:ee}},pn.memo=function(q,ne){return{$$typeof:c,type:q,compare:ne===void 0?null:ne}},pn.startTransition=function(q){var ne=H.transition;H.transition={};try{q()}finally{H.transition=ne}},pn.unstable_act=K,pn.useCallback=function(q,ne){return re.current.useCallback(q,ne)},pn.useContext=function(q){return re.current.useContext(q)},pn.useDebugValue=function(){},pn.useDeferredValue=function(q){return re.current.useDeferredValue(q)},pn.useEffect=function(q,ne){return re.current.useEffect(q,ne)},pn.useId=function(){return re.current.useId()},pn.useImperativeHandle=function(q,ne,ve){return re.current.useImperativeHandle(q,ne,ve)},pn.useInsertionEffect=function(q,ne){return re.current.useInsertionEffect(q,ne)},pn.useLayoutEffect=function(q,ne){return re.current.useLayoutEffect(q,ne)},pn.useMemo=function(q,ne){return re.current.useMemo(q,ne)},pn.useReducer=function(q,ne,ve){return re.current.useReducer(q,ne,ve)},pn.useRef=function(q){return re.current.useRef(q)},pn.useState=function(q){return re.current.useState(q)},pn.useSyncExternalStore=function(q,ne,ve){return re.current.useSyncExternalStore(q,ne,ve)},pn.useTransition=function(){return re.current.useTransition()},pn.version="18.3.1",pn}var y3;function Rw(){return y3||(y3=1,CS.exports=fq()),CS.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x3;function hq(){if(x3)return qg;x3=1;var t=Rw(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var d,f={},g=null,y=null;c!==void 0&&(g=""+c),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(y=l.ref);for(d in l)r.call(l,d)&&!s.hasOwnProperty(d)&&(f[d]=l[d]);if(o&&o.defaultProps)for(d in l=o.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:e,type:o,key:g,ref:y,props:f,_owner:i.current}}return qg.Fragment=n,qg.jsx=a,qg.jsxs=a,qg}var b3;function pq(){return b3||(b3=1,PS.exports=hq()),PS.exports}var p=pq(),B=Rw();const oe=Rn(B),mq=dq({__proto__:null,default:oe},[B]);var Mx={},NS={exports:{}},ks={},RS={exports:{}},kS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w3;function gq(){return w3||(w3=1,function(t){function e(H,J){var K=H.length;H.push(J);e:for(;0<K;){var q=K-1>>>1,ne=H[q];if(0<i(ne,J))H[q]=J,H[K]=ne,K=q;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],K=H.pop();if(K!==J){H[0]=K;e:for(var q=0,ne=H.length,ve=ne>>>1;q<ve;){var se=2*(q+1)-1,de=H[se],Ee=se+1,Ve=H[Ee];if(0>i(de,K))Ee<ne&&0>i(Ve,de)?(H[q]=Ve,H[Ee]=K,q=Ee):(H[q]=de,H[se]=K,q=se);else if(Ee<ne&&0>i(Ve,K))H[q]=Ve,H[Ee]=K,q=Ee;else break e}}return J}function i(H,J){var K=H.sortIndex-J.sortIndex;return K!==0?K:H.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,g=3,y=!1,x=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(H){for(var J=n(c);J!==null;){if(J.callback===null)r(c);else if(J.startTime<=H)r(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(c)}}function P(H){if(S=!1,M(H),!x)if(n(l)!==null)x=!0,ee(C);else{var J=n(c);J!==null&&re(P,J.startTime-H)}}function C(H,J){x=!1,S&&(S=!1,_(D),D=-1),y=!0;var K=g;try{for(M(J),f=n(l);f!==null&&(!(f.expirationTime>J)||H&&!I());){var q=f.callback;if(typeof q=="function"){f.callback=null,g=f.priorityLevel;var ne=q(f.expirationTime<=J);J=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),M(J)}else r(l);f=n(l)}if(f!==null)var ve=!0;else{var se=n(c);se!==null&&re(P,se.startTime-J),ve=!1}return ve}finally{f=null,g=K,y=!1}}var N=!1,O=null,D=-1,U=5,L=-1;function I(){return!(t.unstable_now()-L<U)}function $(){if(O!==null){var H=t.unstable_now();L=H;var J=!0;try{J=O(!0,H)}finally{J?X():(N=!1,O=null)}}else N=!1}var X;if(typeof E=="function")X=function(){E($)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Z=V.port2;V.port1.onmessage=$,X=function(){Z.postMessage(null)}}else X=function(){b($,0)};function ee(H){O=H,N||(N=!0,X())}function re(H,J){D=b(function(){H(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,ee(C))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var K=g;g=J;try{return H()}finally{g=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=g;g=H;try{return J()}finally{g=K}},t.unstable_scheduleCallback=function(H,J,K){var q=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?q+K:q):K=q,H){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=K+ne,H={id:d++,callback:J,priorityLevel:H,startTime:K,expirationTime:ne,sortIndex:-1},K>q?(H.sortIndex=K,e(c,H),n(l)===null&&H===n(c)&&(S?(_(D),D=-1):S=!0,re(P,K-q))):(H.sortIndex=ne,e(l,H),x||y||(x=!0,ee(C))),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var J=g;return function(){var K=g;g=J;try{return H.apply(this,arguments)}finally{g=K}}}}(kS)),kS}var _3;function vq(){return _3||(_3=1,RS.exports=gq()),RS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S3;function yq(){if(S3)return ks;S3=1;var t=Rw(),e=vq();function n(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,w=1;w<arguments.length;w++)h+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,h){a(u,h),a(u+"Capture",h)}function a(u,h){for(i[u]=h,u=0;u<h.length;u++)r.add(h[u])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function g(u){return l.call(f,u)?!0:l.call(d,u)?!1:c.test(u)?f[u]=!0:(d[u]=!0,!1)}function y(u,h,w,T){if(w!==null&&w.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return T?!1:w!==null?!w.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function x(u,h,w,T){if(h===null||typeof h>"u"||y(u,h,w,T))return!0;if(T)return!1;if(w!==null)switch(w.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function S(u,h,w,T,k,F,G){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=T,this.attributeNamespace=k,this.mustUseProperty=w,this.propertyName=u,this.type=h,this.sanitizeURL=F,this.removeEmptyString=G}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){b[u]=new S(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];b[h]=new S(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){b[u]=new S(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){b[u]=new S(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){b[u]=new S(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){b[u]=new S(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){b[u]=new S(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){b[u]=new S(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){b[u]=new S(u,5,!1,u.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(_,E);b[h]=new S(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(_,E);b[h]=new S(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(_,E);b[h]=new S(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){b[u]=new S(u,1,!1,u.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){b[u]=new S(u,1,!1,u.toLowerCase(),null,!0,!0)});function M(u,h,w,T){var k=b.hasOwnProperty(h)?b[h]:null;(k!==null?k.type!==0:T||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(x(h,w,k,T)&&(w=null),T||k===null?g(h)&&(w===null?u.removeAttribute(h):u.setAttribute(h,""+w)):k.mustUseProperty?u[k.propertyName]=w===null?k.type===3?!1:"":w:(h=k.attributeName,T=k.attributeNamespace,w===null?u.removeAttribute(h):(k=k.type,w=k===3||k===4&&w===!0?"":""+w,T?u.setAttributeNS(T,h,w):u.setAttribute(h,w))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),I=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),H=Symbol.iterator;function J(u){return u===null||typeof u!="object"?null:(u=H&&u[H]||u["@@iterator"],typeof u=="function"?u:null)}var K=Object.assign,q;function ne(u){if(q===void 0)try{throw Error()}catch(w){var h=w.stack.trim().match(/\n( *(at )?)/);q=h&&h[1]||""}return`
`+q+u}var ve=!1;function se(u,h){if(!u||ve)return"";ve=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ce){var T=Ce}Reflect.construct(u,[],h)}else{try{h.call()}catch(Ce){T=Ce}u.call(h.prototype)}else{try{throw Error()}catch(Ce){T=Ce}u()}}catch(Ce){if(Ce&&T&&typeof Ce.stack=="string"){for(var k=Ce.stack.split(`
`),F=T.stack.split(`
`),G=k.length-1,le=F.length-1;1<=G&&0<=le&&k[G]!==F[le];)le--;for(;1<=G&&0<=le;G--,le--)if(k[G]!==F[le]){if(G!==1||le!==1)do if(G--,le--,0>le||k[G]!==F[le]){var ue=`
`+k[G].replace(" at new "," at ");return u.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",u.displayName)),ue}while(1<=G&&0<=le);break}}}finally{ve=!1,Error.prepareStackTrace=w}return(u=u?u.displayName||u.name:"")?ne(u):""}function de(u){switch(u.tag){case 5:return ne(u.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return u=se(u.type,!1),u;case 11:return u=se(u.type.render,!1),u;case 1:return u=se(u.type,!0),u;default:return""}}function Ee(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case O:return"Fragment";case N:return"Portal";case U:return"Profiler";case D:return"StrictMode";case X:return"Suspense";case V:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case I:return(u.displayName||"Context")+".Consumer";case L:return(u._context.displayName||"Context")+".Provider";case $:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Z:return h=u.displayName||null,h!==null?h:Ee(u.type)||"Memo";case ee:h=u._payload,u=u._init;try{return Ee(u(h))}catch{}}return null}function Ve(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(h);case 8:return h===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Ue(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ye(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function We(u){var h=ye(u)?"checked":"value",w=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),T=""+u[h];if(!u.hasOwnProperty(h)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var k=w.get,F=w.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return k.call(this)},set:function(G){T=""+G,F.call(this,G)}}),Object.defineProperty(u,h,{enumerable:w.enumerable}),{getValue:function(){return T},setValue:function(G){T=""+G},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function ze(u){u._valueTracker||(u._valueTracker=We(u))}function Y(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var w=h.getValue(),T="";return u&&(T=ye(u)?u.checked?"true":"false":u.value),u=T,u!==w?(h.setValue(u),!0):!1}function Ie(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function ce(u,h){var w=h.checked;return K({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??u._wrapperState.initialChecked})}function xe(u,h){var w=h.defaultValue==null?"":h.defaultValue,T=h.checked!=null?h.checked:h.defaultChecked;w=Ue(h.value!=null?h.value:w),u._wrapperState={initialChecked:T,initialValue:w,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function me(u,h){h=h.checked,h!=null&&M(u,"checked",h,!1)}function Fe(u,h){me(u,h);var w=Ue(h.value),T=h.type;if(w!=null)T==="number"?(w===0&&u.value===""||u.value!=w)&&(u.value=""+w):u.value!==""+w&&(u.value=""+w);else if(T==="submit"||T==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?He(u,h.type,w):h.hasOwnProperty("defaultValue")&&He(u,h.type,Ue(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function Be(u,h,w){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var T=h.type;if(!(T!=="submit"&&T!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,w||h===u.value||(u.value=h),u.defaultValue=h}w=u.name,w!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,w!==""&&(u.name=w)}function He(u,h,w){(h!=="number"||Ie(u.ownerDocument)!==u)&&(w==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+w&&(u.defaultValue=""+w))}var Ge=Array.isArray;function Q(u,h,w,T){if(u=u.options,h){h={};for(var k=0;k<w.length;k++)h["$"+w[k]]=!0;for(w=0;w<u.length;w++)k=h.hasOwnProperty("$"+u[w].value),u[w].selected!==k&&(u[w].selected=k),k&&T&&(u[w].defaultSelected=!0)}else{for(w=""+Ue(w),h=null,k=0;k<u.length;k++){if(u[k].value===w){u[k].selected=!0,T&&(u[k].defaultSelected=!0);return}h!==null||u[k].disabled||(h=u[k])}h!==null&&(h.selected=!0)}}function W(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function be(u,h){var w=h.value;if(w==null){if(w=h.children,h=h.defaultValue,w!=null){if(h!=null)throw Error(n(92));if(Ge(w)){if(1<w.length)throw Error(n(93));w=w[0]}h=w}h==null&&(h=""),w=h}u._wrapperState={initialValue:Ue(w)}}function Se(u,h){var w=Ue(h.value),T=Ue(h.defaultValue);w!=null&&(w=""+w,w!==u.value&&(u.value=w),h.defaultValue==null&&u.defaultValue!==w&&(u.defaultValue=w)),T!=null&&(u.defaultValue=""+T)}function Oe(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function De(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?De(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var vt,Ke=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,w,T,k){MSApp.execUnsafeLocalFunction(function(){return u(h,w,T,k)})}:u}(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(vt=vt||document.createElement("div"),vt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=vt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function Je(u,h){if(h){var w=u.firstChild;if(w&&w===u.lastChild&&w.nodeType===3){w.nodeValue=h;return}}u.textContent=h}var Ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qe=["Webkit","ms","Moz","O"];Object.keys(Ot).forEach(function(u){Qe.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),Ot[h]=Ot[u]})});function Cn(u,h,w){return h==null||typeof h=="boolean"||h===""?"":w||typeof h!="number"||h===0||Ot.hasOwnProperty(u)&&Ot[u]?(""+h).trim():h+"px"}function Ut(u,h){u=u.style;for(var w in h)if(h.hasOwnProperty(w)){var T=w.indexOf("--")===0,k=Cn(w,h[w],T);w==="float"&&(w="cssFloat"),T?u.setProperty(w,k):u[w]=k}}var It=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mt(u,h){if(h){if(It[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function St(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tn=null;function zt(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var En=null,fe=null,it=null;function Pe(u){if(u=Ga(u)){if(typeof En!="function")throw Error(n(280));var h=u.stateNode;h&&(h=Nh(h),En(u.stateNode,u.type,h))}}function nt(u){fe?it?it.push(u):it=[u]:fe=u}function lt(){if(fe){var u=fe,h=it;if(it=fe=null,Pe(u),h)for(u=0;u<h.length;u++)Pe(h[u])}}function nn(u,h){return u(h)}function vn(){}var Ye=!1;function st(u,h,w){if(Ye)return u(h,w);Ye=!0;try{return nn(u,h,w)}finally{Ye=!1,(fe!==null||it!==null)&&(vn(),lt())}}function at(u,h){var w=u.stateNode;if(w===null)return null;var T=Nh(w);if(T===null)return null;w=T[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(u=u.type,T=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!T;break e;default:u=!1}if(u)return null;if(w&&typeof w!="function")throw Error(n(231,h,typeof w));return w}var Vt=!1;if(o)try{var un={};Object.defineProperty(un,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{Vt=!1}function bi(u,h,w,T,k,F,G,le,ue){var Ce=Array.prototype.slice.call(arguments,3);try{h.apply(w,Ce)}catch(Xe){this.onError(Xe)}}var Dt=!1,Dn=null,pr=!1,wi=null,_i={onError:function(u){Dt=!0,Dn=u}};function _c(u,h,w,T,k,F,G,le,ue){Dt=!1,Dn=null,bi.apply(_i,arguments)}function Jm(u,h,w,T,k,F,G,le,ue){if(_c.apply(this,arguments),Dt){if(Dt){var Ce=Dn;Dt=!1,Dn=null}else throw Error(n(198));pr||(pr=!0,wi=Ce)}}function ja(u){var h=u,w=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(w=h.return),u=h.return;while(u)}return h.tag===3?w:null}function Zf(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function te(u){if(ja(u)!==u)throw Error(n(188))}function we(u){var h=u.alternate;if(!h){if(h=ja(u),h===null)throw Error(n(188));return h!==u?null:u}for(var w=u,T=h;;){var k=w.return;if(k===null)break;var F=k.alternate;if(F===null){if(T=k.return,T!==null){w=T;continue}break}if(k.child===F.child){for(F=k.child;F;){if(F===w)return te(k),u;if(F===T)return te(k),h;F=F.sibling}throw Error(n(188))}if(w.return!==T.return)w=k,T=F;else{for(var G=!1,le=k.child;le;){if(le===w){G=!0,w=k,T=F;break}if(le===T){G=!0,T=k,w=F;break}le=le.sibling}if(!G){for(le=F.child;le;){if(le===w){G=!0,w=F,T=k;break}if(le===T){G=!0,T=F,w=k;break}le=le.sibling}if(!G)throw Error(n(189))}}if(w.alternate!==T)throw Error(n(190))}if(w.tag!==3)throw Error(n(188));return w.stateNode.current===w?u:h}function Ne(u){return u=we(u),u!==null?Re(u):null}function Re(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=Re(u);if(h!==null)return h;u=u.sibling}return null}var Te=e.unstable_scheduleCallback,ht=e.unstable_cancelCallback,Rt=e.unstable_shouldYield,jt=e.unstable_requestPaint,pt=e.unstable_now,Yt=e.unstable_getCurrentPriorityLevel,Ht=e.unstable_ImmediatePriority,Xt=e.unstable_UserBlockingPriority,Un=e.unstable_NormalPriority,Yr=e.unstable_LowPriority,zn=e.unstable_IdlePriority,mr=null,Ct=null;function yt(u){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(mr,u,void 0,(u.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:ha,rn=Math.log,cr=Math.LN2;function ha(u){return u>>>=0,u===0?32:31-(rn(u)/cr|0)|0}var Si=64,gr=4194304;function qn(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Qi(u,h){var w=u.pendingLanes;if(w===0)return 0;var T=0,k=u.suspendedLanes,F=u.pingedLanes,G=w&268435455;if(G!==0){var le=G&~k;le!==0?T=qn(le):(F&=G,F!==0&&(T=qn(F)))}else G=w&~k,G!==0?T=qn(G):F!==0&&(T=qn(F));if(T===0)return 0;if(h!==0&&h!==T&&(h&k)===0&&(k=T&-T,F=h&-h,k>=F||k===16&&(F&4194240)!==0))return h;if((T&4)!==0&&(T|=w&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=T;0<h;)w=31-lr(h),k=1<<w,T|=u[w],h&=~k;return T}function Sc(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(u,h){for(var w=u.suspendedLanes,T=u.pingedLanes,k=u.expirationTimes,F=u.pendingLanes;0<F;){var G=31-lr(F),le=1<<G,ue=k[G];ue===-1?((le&w)===0||(le&T)!==0)&&(k[G]=Sc(le,h)):ue<=h&&(u.expiredLanes|=le),F&=~le}}function Po(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Li(){var u=Si;return Si<<=1,(Si&4194240)===0&&(Si=64),u}function Mc(u){for(var h=[],w=0;31>w;w++)h.push(u);return h}function Xu(u,h,w){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-lr(h),u[h]=w}function J_(u,h){var w=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var T=u.eventTimes;for(u=u.expirationTimes;0<w;){var k=31-lr(w),F=1<<k;h[k]=0,T[k]=-1,u[k]=-1,w&=~F}}function Ec(u,h){var w=u.entangledLanes|=h;for(u=u.entanglements;w;){var T=31-lr(w),k=1<<T;k&h|u[T]&h&&(u[T]|=h),w&=~k}}var bn=0;function Ac(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Yu,Qm,Ry,Jf,Qf,ol=!1,eh=[],pa=null,dn=null,Fa=null,ll=new Map,Tc=new Map,Co=[],Q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nr(u,h){switch(u){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":ll.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(h.pointerId)}}function cl(u,h,w,T,k,F){return u===null||u.nativeEvent!==F?(u={blockedOn:h,domEventName:w,eventSystemFlags:T,nativeEvent:F,targetContainers:[k]},h!==null&&(h=Ga(h),h!==null&&Qm(h)),u):(u.eventSystemFlags|=T,h=u.targetContainers,k!==null&&h.indexOf(k)===-1&&h.push(k),u)}function eS(u,h,w,T,k){switch(h){case"focusin":return pa=cl(pa,u,h,w,T,k),!0;case"dragenter":return dn=cl(dn,u,h,w,T,k),!0;case"mouseover":return Fa=cl(Fa,u,h,w,T,k),!0;case"pointerover":var F=k.pointerId;return ll.set(F,cl(ll.get(F)||null,u,h,w,T,k)),!0;case"gotpointercapture":return F=k.pointerId,Tc.set(F,cl(Tc.get(F)||null,u,h,w,T,k)),!0}return!1}function th(u){var h=Do(u.target);if(h!==null){var w=ja(h);if(w!==null){if(h=w.tag,h===13){if(h=Zf(w),h!==null){u.blockedOn=h,Qf(u.priority,function(){Ry(w)});return}}else if(h===3&&w.stateNode.current.memoizedState.isDehydrated){u.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}u.blockedOn=null}function nh(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var w=_s(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(w===null){w=u.nativeEvent;var T=new w.constructor(w.type,w);tn=T,w.target.dispatchEvent(T),tn=null}else return h=Ga(w),h!==null&&Qm(h),u.blockedOn=w,!1;h.shift()}return!0}function Ku(u,h,w){nh(u)&&w.delete(h)}function ma(){ol=!1,pa!==null&&nh(pa)&&(pa=null),dn!==null&&nh(dn)&&(dn=null),Fa!==null&&nh(Fa)&&(Fa=null),ll.forEach(Ku),Tc.forEach(Ku)}function Zu(u,h){u.blockedOn===h&&(u.blockedOn=null,ol||(ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ma)))}function Ju(u){function h(k){return Zu(k,u)}if(0<eh.length){Zu(eh[0],u);for(var w=1;w<eh.length;w++){var T=eh[w];T.blockedOn===u&&(T.blockedOn=null)}}for(pa!==null&&Zu(pa,u),dn!==null&&Zu(dn,u),Fa!==null&&Zu(Fa,u),ll.forEach(h),Tc.forEach(h),w=0;w<Co.length;w++)T=Co[w],T.blockedOn===u&&(T.blockedOn=null);for(;0<Co.length&&(w=Co[0],w.blockedOn===null);)th(w),w.blockedOn===null&&Co.shift()}var Mi=P.ReactCurrentBatchConfig,ws=!0;function rh(u,h,w,T){var k=bn,F=Mi.transition;Mi.transition=null;try{bn=1,ih(u,h,w,T)}finally{bn=k,Mi.transition=F}}function eg(u,h,w,T){var k=bn,F=Mi.transition;Mi.transition=null;try{bn=4,ih(u,h,w,T)}finally{bn=k,Mi.transition=F}}function ih(u,h,w,T){if(ws){var k=_s(u,h,w,T);if(k===null)Mh(u,h,T,sh,w),Nr(u,T);else if(eS(k,u,h,w,T))T.stopPropagation();else if(Nr(u,T),h&4&&-1<Q_.indexOf(u)){for(;k!==null;){var F=Ga(k);if(F!==null&&Yu(F),F=_s(u,h,w,T),F===null&&Mh(u,h,T,sh,w),F===k)break;k=F}k!==null&&T.stopPropagation()}else Mh(u,h,T,null,w)}}var sh=null;function _s(u,h,w,T){if(sh=null,u=zt(T),u=Do(u),u!==null)if(h=ja(u),h===null)u=null;else if(w=h.tag,w===13){if(u=Zf(h),u!==null)return u;u=null}else if(w===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return sh=u,null}function ky(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yt()){case Ht:return 1;case Xt:return 4;case Un:case Yr:return 16;case zn:return 536870912;default:return 16}default:return 16}}var Us=null,tg=null,Di=null;function Qu(){if(Di)return Di;var u,h=tg,w=h.length,T,k="value"in Us?Us.value:Us.textContent,F=k.length;for(u=0;u<w&&h[u]===k[u];u++);var G=w-u;for(T=1;T<=G&&h[w-T]===k[F-T];T++);return Di=k.slice(u,1<T?1-T:void 0)}function ul(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Ba(){return!0}function ah(){return!1}function Ei(u){function h(w,T,k,F,G){this._reactName=w,this._targetInst=k,this.type=T,this.nativeEvent=F,this.target=G,this.currentTarget=null;for(var le in u)u.hasOwnProperty(le)&&(w=u[le],this[le]=w?w(F):F[le]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Ba:ah,this.isPropagationStopped=ah,this}return K(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),h}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ed=Ei(dl),fl=K({},dl,{view:0,detail:0}),Pc=Ei(fl),ji,Ss,Ms,Cc=K({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ms&&(Ms&&u.type==="mousemove"?(ji=u.screenX-Ms.screenX,Ss=u.screenY-Ms.screenY):Ss=ji=0,Ms=u),ji)},movementY:function(u){return"movementY"in u?u.movementY:Ss}}),ng=Ei(Cc),Ua=K({},Cc,{dataTransfer:0}),No=Ei(Ua),oh=K({},fl,{relatedTarget:0}),lh=Ei(oh),ch=K({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),Oy=Ei(ch),Iy=K({},dl,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),rg=Ei(Iy),uh=K({},dl,{data:0}),ig=Ei(uh),Ly={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nc(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=sg[u])?!!h[u]:!1}function Ro(){return Nc}var dh=K({},fl,{key:function(u){if(u.key){var h=Ly[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=ul(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Dy[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(u){return u.type==="keypress"?ul(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?ul(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),fh=Ei(dh),Es=K({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=Ei(Es),hl=K({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),za=Ei(hl),Va=K({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),pl=Ei(Va),jy=K({},Cc,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),ag=Ei(jy),og=[9,13,27,32],Ai=o&&"CompositionEvent"in window,Zr=null;o&&"documentMode"in document&&(Zr=document.documentMode);var Zn=o&&"TextEvent"in window&&!Zr,Rc=o&&(!Ai||Zr&&8<Zr&&11>=Zr),As=" ",lg=!1;function cg(u,h){switch(u){case"keyup":return og.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hh(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var ko=!1;function Fy(u,h){switch(u){case"compositionend":return hh(h);case"keypress":return h.which!==32?null:(lg=!0,As);case"textInput":return u=h.data,u===As&&lg?null:u;default:return null}}function td(u,h){if(ko)return u==="compositionend"||!Ai&&cg(u,h)?(u=Qu(),Di=tg=Us=null,ko=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Rc&&h.locale!=="ko"?null:h.data;default:return null}}var kc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ph(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!kc[u.type]:h==="textarea"}function Oc(u,h,w,T){nt(T),h=Eh(h,"onChange"),0<h.length&&(w=new ed("onChange","change",null,w,T),u.push({event:w,listeners:h}))}var Oo=null,Ic=null;function By(u){Fc(u,0)}function Ha(u){var h=vr(u);if(Y(h))return u}function Uy(u,h){if(u==="change")return h}var Lc=!1;if(o){var Fi;if(o){var ml="oninput"in document;if(!ml){var gl=document.createElement("div");gl.setAttribute("oninput","return;"),ml=typeof gl.oninput=="function"}Fi=ml}else Fi=!1;Lc=Fi&&(!document.documentMode||9<document.documentMode)}function zs(){Oo&&(Oo.detachEvent("onpropertychange",mh),Ic=Oo=null)}function mh(u){if(u.propertyName==="value"&&Ha(Ic)){var h=[];Oc(h,Ic,u,zt(u)),st(By,h)}}function Dc(u,h,w){u==="focusin"?(zs(),Oo=h,Ic=w,Oo.attachEvent("onpropertychange",mh)):u==="focusout"&&zs()}function zy(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Ha(Ic)}function ug(u,h){if(u==="click")return Ha(h)}function rr(u,h){if(u==="input"||u==="change")return Ha(h)}function gh(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var ts=typeof Object.is=="function"?Object.is:gh;function vl(u,h){if(ts(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var w=Object.keys(u),T=Object.keys(h);if(w.length!==T.length)return!1;for(T=0;T<w.length;T++){var k=w[T];if(!l.call(h,k)||!ts(u[k],h[k]))return!1}return!0}function nd(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function ns(u,h){var w=nd(u);u=0;for(var T;w;){if(w.nodeType===3){if(T=u+w.textContent.length,u<=h&&T>=h)return{node:w,offset:h-u};u=T}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=nd(w)}}function yl(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?yl(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function ir(){for(var u=window,h=Ie();h instanceof u.HTMLIFrameElement;){try{var w=typeof h.contentWindow.location.href=="string"}catch{w=!1}if(w)u=h.contentWindow;else break;h=Ie(u.document)}return h}function Fr(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function Br(u){var h=ir(),w=u.focusedElem,T=u.selectionRange;if(h!==w&&w&&w.ownerDocument&&yl(w.ownerDocument.documentElement,w)){if(T!==null&&Fr(w)){if(h=T.start,u=T.end,u===void 0&&(u=h),"selectionStart"in w)w.selectionStart=h,w.selectionEnd=Math.min(u,w.value.length);else if(u=(h=w.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var k=w.textContent.length,F=Math.min(T.start,k);T=T.end===void 0?F:Math.min(T.end,k),!u.extend&&F>T&&(k=T,T=F,F=k),k=ns(w,F);var G=ns(w,T);k&&G&&(u.rangeCount!==1||u.anchorNode!==k.node||u.anchorOffset!==k.offset||u.focusNode!==G.node||u.focusOffset!==G.offset)&&(h=h.createRange(),h.setStart(k.node,k.offset),u.removeAllRanges(),F>T?(u.addRange(h),u.extend(G.node,G.offset)):(h.setEnd(G.node,G.offset),u.addRange(h)))}}for(h=[],u=w;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<h.length;w++)u=h[w],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var vh=o&&"documentMode"in document&&11>=document.documentMode,ga=null,xl=null,rd=null,Ur=!1;function yh(u,h,w){var T=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Ur||ga==null||ga!==Ie(T)||(T=ga,"selectionStart"in T&&Fr(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),rd&&vl(rd,T)||(rd=T,T=Eh(xl,"onSelect"),0<T.length&&(h=new ed("onSelect","select",null,h,w),u.push({event:h,listeners:T}),h.target=ga)))}function jc(u,h){var w={};return w[u.toLowerCase()]=h.toLowerCase(),w["Webkit"+u]="webkit"+h,w["Moz"+u]="moz"+h,w}var Io={animationend:jc("Animation","AnimationEnd"),animationiteration:jc("Animation","AnimationIteration"),animationstart:jc("Animation","AnimationStart"),transitionend:jc("Transition","TransitionEnd")},Vs={},Hs={};o&&(Hs=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function va(u){if(Vs[u])return Vs[u];if(!Io[u])return u;var h=Io[u],w;for(w in h)if(h.hasOwnProperty(w)&&w in Hs)return Vs[u]=h[w];return u}var id=va("animationend"),sd=va("animationiteration"),dg=va("animationstart"),fg=va("transitionend"),hg=new Map,pg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $a(u,h){hg.set(u,h),s(h,[u])}for(var xh=0;xh<pg.length;xh++){var ad=pg[xh],od=ad.toLowerCase(),Vy=ad[0].toUpperCase()+ad.slice(1);$a(od,"on"+Vy)}$a(id,"onAnimationEnd"),$a(sd,"onAnimationIteration"),$a(dg,"onAnimationStart"),$a("dblclick","onDoubleClick"),$a("focusin","onFocus"),$a("focusout","onBlur"),$a(fg,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function wh(u,h,w){var T=u.type||"unknown-event";u.currentTarget=w,Jm(T,h,void 0,u),u.currentTarget=null}function Fc(u,h){h=(h&4)!==0;for(var w=0;w<u.length;w++){var T=u[w],k=T.event;T=T.listeners;e:{var F=void 0;if(h)for(var G=T.length-1;0<=G;G--){var le=T[G],ue=le.instance,Ce=le.currentTarget;if(le=le.listener,ue!==F&&k.isPropagationStopped())break e;wh(k,le,Ce),F=ue}else for(G=0;G<T.length;G++){if(le=T[G],ue=le.instance,Ce=le.currentTarget,le=le.listener,ue!==F&&k.isPropagationStopped())break e;wh(k,le,Ce),F=ue}}}if(pr)throw u=wi,pr=!1,wi=null,u}function Vn(u,h){var w=h[_l];w===void 0&&(w=h[_l]=new Set);var T=u+"__bubble";w.has(T)||(Sh(h,u,2,!1),w.add(T))}function _h(u,h,w){var T=0;h&&(T|=4),Sh(w,u,T,h)}var ld="_reactListening"+Math.random().toString(36).slice(2);function Bc(u){if(!u[ld]){u[ld]=!0,r.forEach(function(w){w!=="selectionchange"&&(bh.has(w)||_h(w,!1,u),_h(w,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[ld]||(h[ld]=!0,_h("selectionchange",!1,h))}}function Sh(u,h,w,T){switch(ky(h)){case 1:var k=rh;break;case 4:k=eg;break;default:k=ih}w=k.bind(null,h,w,u),k=void 0,!Vt||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(k=!0),T?k!==void 0?u.addEventListener(h,w,{capture:!0,passive:k}):u.addEventListener(h,w,!0):k!==void 0?u.addEventListener(h,w,{passive:k}):u.addEventListener(h,w,!1)}function Mh(u,h,w,T,k){var F=T;if((h&1)===0&&(h&2)===0&&T!==null)e:for(;;){if(T===null)return;var G=T.tag;if(G===3||G===4){var le=T.stateNode.containerInfo;if(le===k||le.nodeType===8&&le.parentNode===k)break;if(G===4)for(G=T.return;G!==null;){var ue=G.tag;if((ue===3||ue===4)&&(ue=G.stateNode.containerInfo,ue===k||ue.nodeType===8&&ue.parentNode===k))return;G=G.return}for(;le!==null;){if(G=Do(le),G===null)return;if(ue=G.tag,ue===5||ue===6){T=F=G;continue e}le=le.parentNode}}T=T.return}st(function(){var Ce=F,Xe=zt(w),Ze=[];e:{var qe=hg.get(u);if(qe!==void 0){var gt=ed,Et=u;switch(u){case"keypress":if(ul(w)===0)break e;case"keydown":case"keyup":gt=fh;break;case"focusin":Et="focus",gt=lh;break;case"focusout":Et="blur",gt=lh;break;case"beforeblur":case"afterblur":gt=lh;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=No;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=za;break;case id:case sd:case dg:gt=Oy;break;case fg:gt=pl;break;case"scroll":gt=Pc;break;case"wheel":gt=ag;break;case"copy":case"cut":case"paste":gt=rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=es}var At=(h&4)!==0,kr=!At&&u==="scroll",_e=At?qe!==null?qe+"Capture":null:qe;At=[];for(var he=Ce,Me;he!==null;){Me=he;var rt=Me.stateNode;if(Me.tag===5&&rt!==null&&(Me=rt,_e!==null&&(rt=at(he,_e),rt!=null&&At.push(Uc(he,rt,Me)))),kr)break;he=he.return}0<At.length&&(qe=new gt(qe,Et,null,w,Xe),Ze.push({event:qe,listeners:At}))}}if((h&7)===0){e:{if(qe=u==="mouseover"||u==="pointerover",gt=u==="mouseout"||u==="pointerout",qe&&w!==tn&&(Et=w.relatedTarget||w.fromElement)&&(Do(Et)||Et[rs]))break e;if((gt||qe)&&(qe=Xe.window===Xe?Xe:(qe=Xe.ownerDocument)?qe.defaultView||qe.parentWindow:window,gt?(Et=w.relatedTarget||w.toElement,gt=Ce,Et=Et?Do(Et):null,Et!==null&&(kr=ja(Et),Et!==kr||Et.tag!==5&&Et.tag!==6)&&(Et=null)):(gt=null,Et=Ce),gt!==Et)){if(At=ng,rt="onMouseLeave",_e="onMouseEnter",he="mouse",(u==="pointerout"||u==="pointerover")&&(At=es,rt="onPointerLeave",_e="onPointerEnter",he="pointer"),kr=gt==null?qe:vr(gt),Me=Et==null?qe:vr(Et),qe=new At(rt,he+"leave",gt,w,Xe),qe.target=kr,qe.relatedTarget=Me,rt=null,Do(Xe)===Ce&&(At=new At(_e,he+"enter",Et,w,Xe),At.target=Me,At.relatedTarget=kr,rt=At),kr=rt,gt&&Et)t:{for(At=gt,_e=Et,he=0,Me=At;Me;Me=bl(Me))he++;for(Me=0,rt=_e;rt;rt=bl(rt))Me++;for(;0<he-Me;)At=bl(At),he--;for(;0<Me-he;)_e=bl(_e),Me--;for(;he--;){if(At===_e||_e!==null&&At===_e.alternate)break t;At=bl(At),_e=bl(_e)}At=null}else At=null;gt!==null&&Hy(Ze,qe,gt,At,!1),Et!==null&&kr!==null&&Hy(Ze,kr,Et,At,!0)}}e:{if(qe=Ce?vr(Ce):window,gt=qe.nodeName&&qe.nodeName.toLowerCase(),gt==="select"||gt==="input"&&qe.type==="file")var Nt=Uy;else if(ph(qe))if(Lc)Nt=rr;else{Nt=zy;var Ft=Dc}else(gt=qe.nodeName)&&gt.toLowerCase()==="input"&&(qe.type==="checkbox"||qe.type==="radio")&&(Nt=ug);if(Nt&&(Nt=Nt(u,Ce))){Oc(Ze,Nt,w,Xe);break e}Ft&&Ft(u,qe,Ce),u==="focusout"&&(Ft=qe._wrapperState)&&Ft.controlled&&qe.type==="number"&&He(qe,"number",qe.value)}switch(Ft=Ce?vr(Ce):window,u){case"focusin":(ph(Ft)||Ft.contentEditable==="true")&&(ga=Ft,xl=Ce,rd=null);break;case"focusout":rd=xl=ga=null;break;case"mousedown":Ur=!0;break;case"contextmenu":case"mouseup":case"dragend":Ur=!1,yh(Ze,w,Xe);break;case"selectionchange":if(vh)break;case"keydown":case"keyup":yh(Ze,w,Xe)}var Bt;if(Ai)e:{switch(u){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else ko?cg(u,w)&&(Kt="onCompositionEnd"):u==="keydown"&&w.keyCode===229&&(Kt="onCompositionStart");Kt&&(Rc&&w.locale!=="ko"&&(ko||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&ko&&(Bt=Qu()):(Us=Xe,tg="value"in Us?Us.value:Us.textContent,ko=!0)),Ft=Eh(Ce,Kt),0<Ft.length&&(Kt=new ig(Kt,u,null,w,Xe),Ze.push({event:Kt,listeners:Ft}),Bt?Kt.data=Bt:(Bt=hh(w),Bt!==null&&(Kt.data=Bt)))),(Bt=Zn?Fy(u,w):td(u,w))&&(Ce=Eh(Ce,"onBeforeInput"),0<Ce.length&&(Xe=new ig("onBeforeInput","beforeinput",null,w,Xe),Ze.push({event:Xe,listeners:Ce}),Xe.data=Bt))}Fc(Ze,h)})}function Uc(u,h,w){return{instance:u,listener:h,currentTarget:w}}function Eh(u,h){for(var w=h+"Capture",T=[];u!==null;){var k=u,F=k.stateNode;k.tag===5&&F!==null&&(k=F,F=at(u,w),F!=null&&T.unshift(Uc(u,F,k)),F=at(u,h),F!=null&&T.push(Uc(u,F,k))),u=u.return}return T}function bl(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function Hy(u,h,w,T,k){for(var F=h._reactName,G=[];w!==null&&w!==T;){var le=w,ue=le.alternate,Ce=le.stateNode;if(ue!==null&&ue===T)break;le.tag===5&&Ce!==null&&(le=Ce,k?(ue=at(w,F),ue!=null&&G.unshift(Uc(w,ue,le))):k||(ue=at(w,F),ue!=null&&G.push(Uc(w,ue,le)))),w=w.return}G.length!==0&&u.push({event:h,listeners:G})}var tS=/\r\n?/g,$y=/\u0000|\uFFFD/g;function mg(u){return(typeof u=="string"?u:""+u).replace(tS,`
`).replace($y,"")}function cd(u,h,w){if(h=mg(h),mg(u)!==h&&w)throw Error(n(425))}function ud(){}var zc=null,gg=null;function vg(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var yg=typeof setTimeout=="function"?setTimeout:void 0,xg=typeof clearTimeout=="function"?clearTimeout:void 0,Ah=typeof Promise=="function"?Promise:void 0,nS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ah<"u"?function(u){return Ah.resolve(null).then(u).catch(Wy)}:yg;function Wy(u){setTimeout(function(){throw u})}function Th(u,h){var w=h,T=0;do{var k=w.nextSibling;if(u.removeChild(w),k&&k.nodeType===8)if(w=k.data,w==="/$"){if(T===0){u.removeChild(k),Ju(h);return}T--}else w!=="$"&&w!=="$?"&&w!=="$!"||T++;w=k}while(w);Ju(h)}function Wa(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function bg(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var w=u.data;if(w==="$"||w==="$!"||w==="$?"){if(h===0)return u;h--}else w==="/$"&&h++}u=u.previousSibling}return null}var wl=Math.random().toString(36).slice(2),Rr="__reactFiber$"+wl,Vc="__reactProps$"+wl,rs="__reactContainer$"+wl,_l="__reactEvents$"+wl,Ph="__reactListeners$"+wl,Ch="__reactHandles$"+wl;function Do(u){var h=u[Rr];if(h)return h;for(var w=u.parentNode;w;){if(h=w[rs]||w[Rr]){if(w=h.alternate,h.child!==null||w!==null&&w.child!==null)for(u=bg(u);u!==null;){if(w=u[Rr])return w;u=bg(u)}return h}u=w,w=u.parentNode}return null}function Ga(u){return u=u[Rr]||u[rs],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function vr(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function Nh(u){return u[Vc]||null}var wg=[],zr=-1;function ur(u){return{current:u}}function Hn(u){0>zr||(u.current=wg[zr],wg[zr]=null,zr--)}function jn(u,h){zr++,wg[zr]=u.current,u.current=h}var qa={},Jr=ur(qa),Ti=ur(!1),Xa=qa;function Sl(u,h){var w=u.type.contextTypes;if(!w)return qa;var T=u.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===h)return T.__reactInternalMemoizedMaskedChildContext;var k={},F;for(F in w)k[F]=h[F];return T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=k),k}function ui(u){return u=u.childContextTypes,u!=null}function dd(){Hn(Ti),Hn(Jr)}function _g(u,h,w){if(Jr.current!==qa)throw Error(n(168));jn(Jr,h),jn(Ti,w)}function fd(u,h,w){var T=u.stateNode;if(h=h.childContextTypes,typeof T.getChildContext!="function")return w;T=T.getChildContext();for(var k in T)if(!(k in h))throw Error(n(108,Ve(u)||"Unknown",k));return K({},w,T)}function Ml(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||qa,Xa=Jr.current,jn(Jr,u),jn(Ti,Ti.current),!0}function Sg(u,h,w){var T=u.stateNode;if(!T)throw Error(n(169));w?(u=fd(u,h,Xa),T.__reactInternalMemoizedMergedChildContext=u,Hn(Ti),Hn(Jr),jn(Jr,u)):Hn(Ti),jn(Ti,w)}var $s=null,hd=!1,Rh=!1;function pd(u){$s===null?$s=[u]:$s.push(u)}function Gy(u){hd=!0,pd(u)}function ya(){if(!Rh&&$s!==null){Rh=!0;var u=0,h=bn;try{var w=$s;for(bn=1;u<w.length;u++){var T=w[u];do T=T(!0);while(T!==null)}$s=null,hd=!1}catch(k){throw $s!==null&&($s=$s.slice(u+1)),Te(Ht,ya),k}finally{bn=h,Rh=!1}}return null}var El=[],Bi=0,kh=null,Oh=0,Pi=[],Vr=0,Al=null,ot=1,Ts="";function Ya(u,h){El[Bi++]=Oh,El[Bi++]=kh,kh=u,Oh=h}function Mg(u,h,w){Pi[Vr++]=ot,Pi[Vr++]=Ts,Pi[Vr++]=Al,Al=u;var T=ot;u=Ts;var k=32-lr(T)-1;T&=~(1<<k),w+=1;var F=32-lr(h)+k;if(30<F){var G=k-k%5;F=(T&(1<<G)-1).toString(32),T>>=G,k-=G,ot=1<<32-lr(h)+k|w<<k|T,Ts=F+u}else ot=1<<F|w<<k|T,Ts=u}function Eg(u){u.return!==null&&(Ya(u,1),Mg(u,1,0))}function Ka(u){for(;u===kh;)kh=El[--Bi],El[Bi]=null,Oh=El[--Bi],El[Bi]=null;for(;u===Al;)Al=Pi[--Vr],Pi[Vr]=null,Ts=Pi[--Vr],Pi[Vr]=null,ot=Pi[--Vr],Pi[Vr]=null}var Qr=null,Ci=null,Xn=!1,Ps=null;function Ag(u,h){var w=Sa(5,null,null,0);w.elementType="DELETED",w.stateNode=h,w.return=u,h=u.deletions,h===null?(u.deletions=[w],u.flags|=16):h.push(w)}function Tg(u,h){switch(u.tag){case 5:var w=u.type;return h=h.nodeType!==1||w.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,Qr=u,Ci=Wa(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,Qr=u,Ci=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(w=Al!==null?{id:ot,overflow:Ts}:null,u.memoizedState={dehydrated:h,treeContext:w,retryLane:1073741824},w=Sa(18,null,null,0),w.stateNode=h,w.return=u,u.child=w,Qr=u,Ci=null,!0):!1;default:return!1}}function Ih(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Lh(u){if(Xn){var h=Ci;if(h){var w=h;if(!Tg(u,h)){if(Ih(u))throw Error(n(418));h=Wa(w.nextSibling);var T=Qr;h&&Tg(u,h)?Ag(T,w):(u.flags=u.flags&-4097|2,Xn=!1,Qr=u)}}else{if(Ih(u))throw Error(n(418));u.flags=u.flags&-4097|2,Xn=!1,Qr=u}}}function Dh(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Qr=u}function Hc(u){if(u!==Qr)return!1;if(!Xn)return Dh(u),Xn=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!vg(u.type,u.memoizedProps)),h&&(h=Ci)){if(Ih(u))throw Pg(),Error(n(418));for(;h;)Ag(u,h),h=Wa(h.nextSibling)}if(Dh(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var w=u.data;if(w==="/$"){if(h===0){Ci=Wa(u.nextSibling);break e}h--}else w!=="$"&&w!=="$!"&&w!=="$?"||h++}u=u.nextSibling}Ci=null}}else Ci=Qr?Wa(u.stateNode.nextSibling):null;return!0}function Pg(){for(var u=Ci;u;)u=Wa(u.nextSibling)}function jo(){Ci=Qr=null,Xn=!1}function $c(u){Ps===null?Ps=[u]:Ps.push(u)}var rS=P.ReactCurrentBatchConfig;function md(u,h,w){if(u=w.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(n(309));var T=w.stateNode}if(!T)throw Error(n(147,u));var k=T,F=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===F?h.ref:(h=function(G){var le=k.refs;G===null?delete le[F]:le[F]=G},h._stringRef=F,h)}if(typeof u!="string")throw Error(n(284));if(!w._owner)throw Error(n(290,u))}return u}function gd(u,h){throw u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function Cg(u){var h=u._init;return h(u._payload)}function Ng(u){function h(_e,he){if(u){var Me=_e.deletions;Me===null?(_e.deletions=[he],_e.flags|=16):Me.push(he)}}function w(_e,he){if(!u)return null;for(;he!==null;)h(_e,he),he=he.sibling;return null}function T(_e,he){for(_e=new Map;he!==null;)he.key!==null?_e.set(he.key,he):_e.set(he.index,he),he=he.sibling;return _e}function k(_e,he){return _e=tu(_e,he),_e.index=0,_e.sibling=null,_e}function F(_e,he,Me){return _e.index=Me,u?(Me=_e.alternate,Me!==null?(Me=Me.index,Me<he?(_e.flags|=2,he):Me):(_e.flags|=2,he)):(_e.flags|=1048576,he)}function G(_e){return u&&_e.alternate===null&&(_e.flags|=2),_e}function le(_e,he,Me,rt){return he===null||he.tag!==6?(he=_S(Me,_e.mode,rt),he.return=_e,he):(he=k(he,Me),he.return=_e,he)}function ue(_e,he,Me,rt){var Nt=Me.type;return Nt===O?Xe(_e,he,Me.props.children,rt,Me.key):he!==null&&(he.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===ee&&Cg(Nt)===he.type)?(rt=k(he,Me.props),rt.ref=md(_e,he,Me),rt.return=_e,rt):(rt=mx(Me.type,Me.key,Me.props,null,_e.mode,rt),rt.ref=md(_e,he,Me),rt.return=_e,rt)}function Ce(_e,he,Me,rt){return he===null||he.tag!==4||he.stateNode.containerInfo!==Me.containerInfo||he.stateNode.implementation!==Me.implementation?(he=SS(Me,_e.mode,rt),he.return=_e,he):(he=k(he,Me.children||[]),he.return=_e,he)}function Xe(_e,he,Me,rt,Nt){return he===null||he.tag!==7?(he=Od(Me,_e.mode,rt,Nt),he.return=_e,he):(he=k(he,Me),he.return=_e,he)}function Ze(_e,he,Me){if(typeof he=="string"&&he!==""||typeof he=="number")return he=_S(""+he,_e.mode,Me),he.return=_e,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case C:return Me=mx(he.type,he.key,he.props,null,_e.mode,Me),Me.ref=md(_e,null,he),Me.return=_e,Me;case N:return he=SS(he,_e.mode,Me),he.return=_e,he;case ee:var rt=he._init;return Ze(_e,rt(he._payload),Me)}if(Ge(he)||J(he))return he=Od(he,_e.mode,Me,null),he.return=_e,he;gd(_e,he)}return null}function qe(_e,he,Me,rt){var Nt=he!==null?he.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Nt!==null?null:le(_e,he,""+Me,rt);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case C:return Me.key===Nt?ue(_e,he,Me,rt):null;case N:return Me.key===Nt?Ce(_e,he,Me,rt):null;case ee:return Nt=Me._init,qe(_e,he,Nt(Me._payload),rt)}if(Ge(Me)||J(Me))return Nt!==null?null:Xe(_e,he,Me,rt,null);gd(_e,Me)}return null}function gt(_e,he,Me,rt,Nt){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return _e=_e.get(Me)||null,le(he,_e,""+rt,Nt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case C:return _e=_e.get(rt.key===null?Me:rt.key)||null,ue(he,_e,rt,Nt);case N:return _e=_e.get(rt.key===null?Me:rt.key)||null,Ce(he,_e,rt,Nt);case ee:var Ft=rt._init;return gt(_e,he,Me,Ft(rt._payload),Nt)}if(Ge(rt)||J(rt))return _e=_e.get(Me)||null,Xe(he,_e,rt,Nt,null);gd(he,rt)}return null}function Et(_e,he,Me,rt){for(var Nt=null,Ft=null,Bt=he,Kt=he=0,pi=null;Bt!==null&&Kt<Me.length;Kt++){Bt.index>Kt?(pi=Bt,Bt=null):pi=Bt.sibling;var An=qe(_e,Bt,Me[Kt],rt);if(An===null){Bt===null&&(Bt=pi);break}u&&Bt&&An.alternate===null&&h(_e,Bt),he=F(An,he,Kt),Ft===null?Nt=An:Ft.sibling=An,Ft=An,Bt=pi}if(Kt===Me.length)return w(_e,Bt),Xn&&Ya(_e,Kt),Nt;if(Bt===null){for(;Kt<Me.length;Kt++)Bt=Ze(_e,Me[Kt],rt),Bt!==null&&(he=F(Bt,he,Kt),Ft===null?Nt=Bt:Ft.sibling=Bt,Ft=Bt);return Xn&&Ya(_e,Kt),Nt}for(Bt=T(_e,Bt);Kt<Me.length;Kt++)pi=gt(Bt,_e,Kt,Me[Kt],rt),pi!==null&&(u&&pi.alternate!==null&&Bt.delete(pi.key===null?Kt:pi.key),he=F(pi,he,Kt),Ft===null?Nt=pi:Ft.sibling=pi,Ft=pi);return u&&Bt.forEach(function(nu){return h(_e,nu)}),Xn&&Ya(_e,Kt),Nt}function At(_e,he,Me,rt){var Nt=J(Me);if(typeof Nt!="function")throw Error(n(150));if(Me=Nt.call(Me),Me==null)throw Error(n(151));for(var Ft=Nt=null,Bt=he,Kt=he=0,pi=null,An=Me.next();Bt!==null&&!An.done;Kt++,An=Me.next()){Bt.index>Kt?(pi=Bt,Bt=null):pi=Bt.sibling;var nu=qe(_e,Bt,An.value,rt);if(nu===null){Bt===null&&(Bt=pi);break}u&&Bt&&nu.alternate===null&&h(_e,Bt),he=F(nu,he,Kt),Ft===null?Nt=nu:Ft.sibling=nu,Ft=nu,Bt=pi}if(An.done)return w(_e,Bt),Xn&&Ya(_e,Kt),Nt;if(Bt===null){for(;!An.done;Kt++,An=Me.next())An=Ze(_e,An.value,rt),An!==null&&(he=F(An,he,Kt),Ft===null?Nt=An:Ft.sibling=An,Ft=An);return Xn&&Ya(_e,Kt),Nt}for(Bt=T(_e,Bt);!An.done;Kt++,An=Me.next())An=gt(Bt,_e,Kt,An.value,rt),An!==null&&(u&&An.alternate!==null&&Bt.delete(An.key===null?Kt:An.key),he=F(An,he,Kt),Ft===null?Nt=An:Ft.sibling=An,Ft=An);return u&&Bt.forEach(function(uq){return h(_e,uq)}),Xn&&Ya(_e,Kt),Nt}function kr(_e,he,Me,rt){if(typeof Me=="object"&&Me!==null&&Me.type===O&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case C:e:{for(var Nt=Me.key,Ft=he;Ft!==null;){if(Ft.key===Nt){if(Nt=Me.type,Nt===O){if(Ft.tag===7){w(_e,Ft.sibling),he=k(Ft,Me.props.children),he.return=_e,_e=he;break e}}else if(Ft.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===ee&&Cg(Nt)===Ft.type){w(_e,Ft.sibling),he=k(Ft,Me.props),he.ref=md(_e,Ft,Me),he.return=_e,_e=he;break e}w(_e,Ft);break}else h(_e,Ft);Ft=Ft.sibling}Me.type===O?(he=Od(Me.props.children,_e.mode,rt,Me.key),he.return=_e,_e=he):(rt=mx(Me.type,Me.key,Me.props,null,_e.mode,rt),rt.ref=md(_e,he,Me),rt.return=_e,_e=rt)}return G(_e);case N:e:{for(Ft=Me.key;he!==null;){if(he.key===Ft)if(he.tag===4&&he.stateNode.containerInfo===Me.containerInfo&&he.stateNode.implementation===Me.implementation){w(_e,he.sibling),he=k(he,Me.children||[]),he.return=_e,_e=he;break e}else{w(_e,he);break}else h(_e,he);he=he.sibling}he=SS(Me,_e.mode,rt),he.return=_e,_e=he}return G(_e);case ee:return Ft=Me._init,kr(_e,he,Ft(Me._payload),rt)}if(Ge(Me))return Et(_e,he,Me,rt);if(J(Me))return At(_e,he,Me,rt);gd(_e,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,he!==null&&he.tag===6?(w(_e,he.sibling),he=k(he,Me),he.return=_e,_e=he):(w(_e,he),he=_S(Me,_e.mode,rt),he.return=_e,_e=he),G(_e)):w(_e,he)}return kr}var Tl=Ng(!0),vd=Ng(!1),Pl=ur(null),Cl=null,Za=null,Wc=null;function Nl(){Wc=Za=Cl=null}function yd(u){var h=Pl.current;Hn(Pl),u._currentValue=h}function xd(u,h,w){for(;u!==null;){var T=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,T!==null&&(T.childLanes|=h)):T!==null&&(T.childLanes&h)!==h&&(T.childLanes|=h),u===w)break;u=u.return}}function Fo(u,h){Cl=u,Wc=Za=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(an=!0),u.firstContext=null)}function is(u){var h=u._currentValue;if(Wc!==u)if(u={context:u,memoizedValue:h,next:null},Za===null){if(Cl===null)throw Error(n(308));Za=u,Cl.dependencies={lanes:0,firstContext:u}}else Za=Za.next=u;return h}var Ja=null;function Rg(u){Ja===null?Ja=[u]:Ja.push(u)}function bd(u,h,w,T){var k=h.interleaved;return k===null?(w.next=w,Rg(h)):(w.next=k.next,k.next=w),h.interleaved=w,Ws(u,T)}function Ws(u,h){u.lanes|=h;var w=u.alternate;for(w!==null&&(w.lanes|=h),w=u,u=u.return;u!==null;)u.childLanes|=h,w=u.alternate,w!==null&&(w.childLanes|=h),w=u,u=u.return;return w.tag===3?w.stateNode:null}var kn=!1;function sn(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yr(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function On(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function Jn(u,h,w){var T=u.updateQueue;if(T===null)return null;if(T=T.shared,(_n&2)!==0){var k=T.pending;return k===null?h.next=h:(h.next=k.next,k.next=h),T.pending=h,Ws(u,w)}return k=T.interleaved,k===null?(h.next=h,Rg(T)):(h.next=k.next,k.next=h),T.interleaved=h,Ws(u,w)}function di(u,h,w){if(h=h.updateQueue,h!==null&&(h=h.shared,(w&4194240)!==0)){var T=h.lanes;T&=u.pendingLanes,w|=T,h.lanes=w,Ec(u,w)}}function Rl(u,h){var w=u.updateQueue,T=u.alternate;if(T!==null&&(T=T.updateQueue,w===T)){var k=null,F=null;if(w=w.firstBaseUpdate,w!==null){do{var G={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};F===null?k=F=G:F=F.next=G,w=w.next}while(w!==null);F===null?k=F=h:F=F.next=h}else k=F=h;w={baseState:T.baseState,firstBaseUpdate:k,lastBaseUpdate:F,shared:T.shared,effects:T.effects},u.updateQueue=w;return}u=w.lastBaseUpdate,u===null?w.firstBaseUpdate=h:u.next=h,w.lastBaseUpdate=h}function dr(u,h,w,T){var k=u.updateQueue;kn=!1;var F=k.firstBaseUpdate,G=k.lastBaseUpdate,le=k.shared.pending;if(le!==null){k.shared.pending=null;var ue=le,Ce=ue.next;ue.next=null,G===null?F=Ce:G.next=Ce,G=ue;var Xe=u.alternate;Xe!==null&&(Xe=Xe.updateQueue,le=Xe.lastBaseUpdate,le!==G&&(le===null?Xe.firstBaseUpdate=Ce:le.next=Ce,Xe.lastBaseUpdate=ue))}if(F!==null){var Ze=k.baseState;G=0,Xe=Ce=ue=null,le=F;do{var qe=le.lane,gt=le.eventTime;if((T&qe)===qe){Xe!==null&&(Xe=Xe.next={eventTime:gt,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var Et=u,At=le;switch(qe=h,gt=w,At.tag){case 1:if(Et=At.payload,typeof Et=="function"){Ze=Et.call(gt,Ze,qe);break e}Ze=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=At.payload,qe=typeof Et=="function"?Et.call(gt,Ze,qe):Et,qe==null)break e;Ze=K({},Ze,qe);break e;case 2:kn=!0}}le.callback!==null&&le.lane!==0&&(u.flags|=64,qe=k.effects,qe===null?k.effects=[le]:qe.push(le))}else gt={eventTime:gt,lane:qe,tag:le.tag,payload:le.payload,callback:le.callback,next:null},Xe===null?(Ce=Xe=gt,ue=Ze):Xe=Xe.next=gt,G|=qe;if(le=le.next,le===null){if(le=k.shared.pending,le===null)break;qe=le,le=qe.next,qe.next=null,k.lastBaseUpdate=qe,k.shared.pending=null}}while(!0);if(Xe===null&&(ue=Ze),k.baseState=ue,k.firstBaseUpdate=Ce,k.lastBaseUpdate=Xe,h=k.shared.interleaved,h!==null){k=h;do G|=k.lane,k=k.next;while(k!==h)}else F===null&&(k.shared.lanes=0);Cd|=G,u.lanes=G,u.memoizedState=Ze}}function Gc(u,h,w){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var T=u[h],k=T.callback;if(k!==null){if(T.callback=null,T=w,typeof k!="function")throw Error(n(191,k));k.call(T)}}}var xa={},ss=ur(xa),kl=ur(xa),Qa=ur(xa);function _r(u){if(u===xa)throw Error(n(174));return u}function wd(u,h){switch(jn(Qa,h),jn(kl,u),jn(ss,xa),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:dt(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=dt(h,u)}Hn(ss),jn(ss,h)}function Bo(){Hn(ss),Hn(kl),Hn(Qa)}function Ol(u){_r(Qa.current);var h=_r(ss.current),w=dt(h,u.type);h!==w&&(jn(kl,u),jn(ss,w))}function qc(u){kl.current===u&&(Hn(ss),Hn(kl))}var Yn=ur(0);function Gs(u){for(var h=u;h!==null;){if(h.tag===13){var w=h.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Xc=[];function ba(){for(var u=0;u<Xc.length;u++)Xc[u]._workInProgressVersionPrimary=null;Xc.length=0}var Il=P.ReactCurrentDispatcher,Ll=P.ReactCurrentBatchConfig,eo=0,$n=null,fr=null,wn=null,qs=!1,fi=!1,Uo=0,Ui=0;function ei(){throw Error(n(321))}function _d(u,h){if(h===null)return!1;for(var w=0;w<h.length&&w<u.length;w++)if(!ts(u[w],h[w]))return!1;return!0}function Sd(u,h,w,T,k,F){if(eo=F,$n=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Il.current=u===null||u.memoizedState===null?Qy:ex,u=w(T,k),fi){F=0;do{if(fi=!1,Uo=0,25<=F)throw Error(n(301));F+=1,wn=fr=null,h.updateQueue=null,Il.current=tx,u=w(T,k)}while(fi)}if(Il.current=Hh,h=fr!==null&&fr.next!==null,eo=0,wn=fr=$n=null,qs=!1,h)throw Error(n(300));return u}function kg(){var u=Uo!==0;return Uo=0,u}function ti(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?$n.memoizedState=wn=u:wn=wn.next=u,wn}function as(){if(fr===null){var u=$n.alternate;u=u!==null?u.memoizedState:null}else u=fr.next;var h=wn===null?$n.memoizedState:wn.next;if(h!==null)wn=h,fr=u;else{if(u===null)throw Error(n(310));fr=u,u={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},wn===null?$n.memoizedState=wn=u:wn=wn.next=u}return wn}function Yc(u,h){return typeof h=="function"?h(u):h}function Md(u){var h=as(),w=h.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=u;var T=fr,k=T.baseQueue,F=w.pending;if(F!==null){if(k!==null){var G=k.next;k.next=F.next,F.next=G}T.baseQueue=k=F,w.pending=null}if(k!==null){F=k.next,T=T.baseState;var le=G=null,ue=null,Ce=F;do{var Xe=Ce.lane;if((eo&Xe)===Xe)ue!==null&&(ue=ue.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),T=Ce.hasEagerState?Ce.eagerState:u(T,Ce.action);else{var Ze={lane:Xe,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};ue===null?(le=ue=Ze,G=T):ue=ue.next=Ze,$n.lanes|=Xe,Cd|=Xe}Ce=Ce.next}while(Ce!==null&&Ce!==F);ue===null?G=T:ue.next=le,ts(T,h.memoizedState)||(an=!0),h.memoizedState=T,h.baseState=G,h.baseQueue=ue,w.lastRenderedState=T}if(u=w.interleaved,u!==null){k=u;do F=k.lane,$n.lanes|=F,Cd|=F,k=k.next;while(k!==u)}else k===null&&(w.lanes=0);return[h.memoizedState,w.dispatch]}function to(u){var h=as(),w=h.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=u;var T=w.dispatch,k=w.pending,F=h.memoizedState;if(k!==null){w.pending=null;var G=k=k.next;do F=u(F,G.action),G=G.next;while(G!==k);ts(F,h.memoizedState)||(an=!0),h.memoizedState=F,h.baseQueue===null&&(h.baseState=F),w.lastRenderedState=F}return[F,T]}function Og(){}function Ig(u,h){var w=$n,T=as(),k=h(),F=!ts(T.memoizedState,k);if(F&&(T.memoizedState=k,an=!0),T=T.queue,jg(qy.bind(null,w,T,u),[u]),T.getSnapshot!==h||F||wn!==null&&wn.memoizedState.tag&1){if(w.flags|=2048,Xs(9,Ed.bind(null,w,T,k,h),void 0,null),hi===null)throw Error(n(349));(eo&30)!==0||jh(w,h,k)}return k}function jh(u,h,w){u.flags|=16384,u={getSnapshot:h,value:w},h=$n.updateQueue,h===null?(h={lastEffect:null,stores:null},$n.updateQueue=h,h.stores=[u]):(w=h.stores,w===null?h.stores=[u]:w.push(u))}function Ed(u,h,w,T){h.value=w,h.getSnapshot=T,Xy(h)&&Lg(u)}function qy(u,h,w){return w(function(){Xy(h)&&Lg(u)})}function Xy(u){var h=u.getSnapshot;u=u.value;try{var w=h();return!ts(u,w)}catch{return!0}}function Lg(u){var h=Ws(u,1);h!==null&&ao(h,u,1,-1)}function Dg(u){var h=ti();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yc,lastRenderedState:u},h.queue=u,u=u.dispatch=Dl.bind(null,$n,u),[h.memoizedState,u]}function Xs(u,h,w,T){return u={tag:u,create:h,destroy:w,deps:T,next:null},h=$n.updateQueue,h===null?(h={lastEffect:null,stores:null},$n.updateQueue=h,h.lastEffect=u.next=u):(w=h.lastEffect,w===null?h.lastEffect=u.next=u:(T=w.next,w.next=u,u.next=T,h.lastEffect=u)),u}function Yy(){return as().memoizedState}function wa(u,h,w,T){var k=ti();$n.flags|=u,k.memoizedState=Xs(1|h,w,void 0,T===void 0?null:T)}function Ad(u,h,w,T){var k=as();T=T===void 0?null:T;var F=void 0;if(fr!==null){var G=fr.memoizedState;if(F=G.destroy,T!==null&&_d(T,G.deps)){k.memoizedState=Xs(h,w,F,T);return}}$n.flags|=u,k.memoizedState=Xs(1|h,w,F,T)}function Ni(u,h){return wa(8390656,8,u,h)}function jg(u,h){return Ad(2048,8,u,h)}function Fg(u,h){return Ad(4,2,u,h)}function Ky(u,h){return Ad(4,4,u,h)}function Zy(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function Bg(u,h,w){return w=w!=null?w.concat([u]):null,Ad(4,4,Zy.bind(null,h,u),w)}function Fh(){}function Jy(u,h){var w=as();h=h===void 0?null:h;var T=w.memoizedState;return T!==null&&h!==null&&_d(h,T[1])?T[0]:(w.memoizedState=[u,h],u)}function os(u,h){var w=as();h=h===void 0?null:h;var T=w.memoizedState;return T!==null&&h!==null&&_d(h,T[1])?T[0]:(u=u(),w.memoizedState=[u,h],u)}function Bh(u,h,w){return(eo&21)===0?(u.baseState&&(u.baseState=!1,an=!0),u.memoizedState=w):(ts(w,h)||(w=Li(),$n.lanes|=w,Cd|=w,u.baseState=!0),h)}function iS(u,h){var w=bn;bn=w!==0&&4>w?w:4,u(!0);var T=Ll.transition;Ll.transition={};try{u(!1),h()}finally{bn=w,Ll.transition=T}}function no(){return as().memoizedState}function Uh(u,h,w){var T=Qc(u);if(w={lane:T,action:w,hasEagerState:!1,eagerState:null,next:null},Td(u))zh(h,w);else if(w=bd(u,h,w,T),w!==null){var k=cs();ao(w,u,T,k),Vh(w,h,T)}}function Dl(u,h,w){var T=Qc(u),k={lane:T,action:w,hasEagerState:!1,eagerState:null,next:null};if(Td(u))zh(h,k);else{var F=u.alternate;if(u.lanes===0&&(F===null||F.lanes===0)&&(F=h.lastRenderedReducer,F!==null))try{var G=h.lastRenderedState,le=F(G,w);if(k.hasEagerState=!0,k.eagerState=le,ts(le,G)){var ue=h.interleaved;ue===null?(k.next=k,Rg(h)):(k.next=ue.next,ue.next=k),h.interleaved=k;return}}catch{}finally{}w=bd(u,h,k,T),w!==null&&(k=cs(),ao(w,u,T,k),Vh(w,h,T))}}function Td(u){var h=u.alternate;return u===$n||h!==null&&h===$n}function zh(u,h){fi=qs=!0;var w=u.pending;w===null?h.next=h:(h.next=w.next,w.next=h),u.pending=h}function Vh(u,h,w){if((w&4194240)!==0){var T=h.lanes;T&=u.pendingLanes,w|=T,h.lanes=w,Ec(u,w)}}var Hh={readContext:is,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},Qy={readContext:is,useCallback:function(u,h){return ti().memoizedState=[u,h===void 0?null:h],u},useContext:is,useEffect:Ni,useImperativeHandle:function(u,h,w){return w=w!=null?w.concat([u]):null,wa(4194308,4,Zy.bind(null,h,u),w)},useLayoutEffect:function(u,h){return wa(4194308,4,u,h)},useInsertionEffect:function(u,h){return wa(4,2,u,h)},useMemo:function(u,h){var w=ti();return h=h===void 0?null:h,u=u(),w.memoizedState=[u,h],u},useReducer:function(u,h,w){var T=ti();return h=w!==void 0?w(h):h,T.memoizedState=T.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},T.queue=u,u=u.dispatch=Uh.bind(null,$n,u),[T.memoizedState,u]},useRef:function(u){var h=ti();return u={current:u},h.memoizedState=u},useState:Dg,useDebugValue:Fh,useDeferredValue:function(u){return ti().memoizedState=u},useTransition:function(){var u=Dg(!1),h=u[0];return u=iS.bind(null,u[1]),ti().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,w){var T=$n,k=ti();if(Xn){if(w===void 0)throw Error(n(407));w=w()}else{if(w=h(),hi===null)throw Error(n(349));(eo&30)!==0||jh(T,h,w)}k.memoizedState=w;var F={value:w,getSnapshot:h};return k.queue=F,Ni(qy.bind(null,T,F,u),[u]),T.flags|=2048,Xs(9,Ed.bind(null,T,F,w,h),void 0,null),w},useId:function(){var u=ti(),h=hi.identifierPrefix;if(Xn){var w=Ts,T=ot;w=(T&~(1<<32-lr(T)-1)).toString(32)+w,h=":"+h+"R"+w,w=Uo++,0<w&&(h+="H"+w.toString(32)),h+=":"}else w=Ui++,h=":"+h+"r"+w.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},ex={readContext:is,useCallback:Jy,useContext:is,useEffect:jg,useImperativeHandle:Bg,useInsertionEffect:Fg,useLayoutEffect:Ky,useMemo:os,useReducer:Md,useRef:Yy,useState:function(){return Md(Yc)},useDebugValue:Fh,useDeferredValue:function(u){var h=as();return Bh(h,fr.memoizedState,u)},useTransition:function(){var u=Md(Yc)[0],h=as().memoizedState;return[u,h]},useMutableSource:Og,useSyncExternalStore:Ig,useId:no,unstable_isNewReconciler:!1},tx={readContext:is,useCallback:Jy,useContext:is,useEffect:jg,useImperativeHandle:Bg,useInsertionEffect:Fg,useLayoutEffect:Ky,useMemo:os,useReducer:to,useRef:Yy,useState:function(){return to(Yc)},useDebugValue:Fh,useDeferredValue:function(u){var h=as();return fr===null?h.memoizedState=u:Bh(h,fr.memoizedState,u)},useTransition:function(){var u=to(Yc)[0],h=as().memoizedState;return[u,h]},useMutableSource:Og,useSyncExternalStore:Ig,useId:no,unstable_isNewReconciler:!1};function Cs(u,h){if(u&&u.defaultProps){h=K({},h),u=u.defaultProps;for(var w in u)h[w]===void 0&&(h[w]=u[w]);return h}return h}function Pd(u,h,w,T){h=u.memoizedState,w=w(T,h),w=w==null?h:K({},h,w),u.memoizedState=w,u.lanes===0&&(u.updateQueue.baseState=w)}var $h={isMounted:function(u){return(u=u._reactInternals)?ja(u)===u:!1},enqueueSetState:function(u,h,w){u=u._reactInternals;var T=cs(),k=Qc(u),F=On(T,k);F.payload=h,w!=null&&(F.callback=w),h=Jn(u,F,k),h!==null&&(ao(h,u,k,T),di(h,u,k))},enqueueReplaceState:function(u,h,w){u=u._reactInternals;var T=cs(),k=Qc(u),F=On(T,k);F.tag=1,F.payload=h,w!=null&&(F.callback=w),h=Jn(u,F,k),h!==null&&(ao(h,u,k,T),di(h,u,k))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var w=cs(),T=Qc(u),k=On(w,T);k.tag=2,h!=null&&(k.callback=h),h=Jn(u,k,T),h!==null&&(ao(h,u,T,w),di(h,u,T))}};function nx(u,h,w,T,k,F,G){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(T,F,G):h.prototype&&h.prototype.isPureReactComponent?!vl(w,T)||!vl(k,F):!0}function m(u,h,w){var T=!1,k=qa,F=h.contextType;return typeof F=="object"&&F!==null?F=is(F):(k=ui(h)?Xa:Jr.current,T=h.contextTypes,F=(T=T!=null)?Sl(u,k):qa),h=new h(w,F),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=$h,u.stateNode=h,h._reactInternals=u,T&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=k,u.__reactInternalMemoizedMaskedChildContext=F),h}function v(u,h,w,T){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(w,T),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(w,T),h.state!==u&&$h.enqueueReplaceState(h,h.state,null)}function A(u,h,w,T){var k=u.stateNode;k.props=w,k.state=u.memoizedState,k.refs={},sn(u);var F=h.contextType;typeof F=="object"&&F!==null?k.context=is(F):(F=ui(h)?Xa:Jr.current,k.context=Sl(u,F)),k.state=u.memoizedState,F=h.getDerivedStateFromProps,typeof F=="function"&&(Pd(u,h,F,w),k.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(h=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),h!==k.state&&$h.enqueueReplaceState(k,k.state,null),dr(u,w,k,T),k.state=u.memoizedState),typeof k.componentDidMount=="function"&&(u.flags|=4194308)}function R(u,h){try{var w="",T=h;do w+=de(T),T=T.return;while(T);var k=w}catch(F){k=`
Error generating stack: `+F.message+`
`+F.stack}return{value:u,source:h,stack:k,digest:null}}function j(u,h,w){return{value:u,source:null,stack:w??null,digest:h??null}}function z(u,h){try{console.error(h.value)}catch(w){setTimeout(function(){throw w})}}var ae=typeof WeakMap=="function"?WeakMap:Map;function pe(u,h,w){w=On(-1,w),w.tag=3,w.payload={element:null};var T=h.value;return w.callback=function(){cx||(cx=!0,pS=T),z(u,h)},w}function Le(u,h,w){w=On(-1,w),w.tag=3;var T=u.type.getDerivedStateFromError;if(typeof T=="function"){var k=h.value;w.payload=function(){return T(k)},w.callback=function(){z(u,h)}}var F=u.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(w.callback=function(){z(u,h),typeof T!="function"&&(Zc===null?Zc=new Set([this]):Zc.add(this));var G=h.stack;this.componentDidCatch(h.value,{componentStack:G!==null?G:""})}),w}function tt(u,h,w){var T=u.pingCache;if(T===null){T=u.pingCache=new ae;var k=new Set;T.set(h,k)}else k=T.get(h),k===void 0&&(k=new Set,T.set(h,k));k.has(w)||(k.add(w),u=QG.bind(null,u,h,w),h.then(u,u))}function xt(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function Zt(u,h,w,T,k){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(h=On(-1,1),h.tag=2,Jn(w,h,1))),w.lanes|=1),u):(u.flags|=65536,u.lanes=k,u)}var Lt=P.ReactCurrentOwner,an=!1;function ft(u,h,w,T){h.child=u===null?vd(h,null,w,T):Tl(h,u.child,w,T)}function ni(u,h,w,T,k){w=w.render;var F=h.ref;return Fo(h,k),T=Sd(u,h,w,T,F,k),w=kg(),u!==null&&!an?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~k,jl(u,h,k)):(Xn&&w&&Eg(h),h.flags|=1,ft(u,h,T,k),h.child)}function ls(u,h,w,T,k){if(u===null){var F=w.type;return typeof F=="function"&&!wS(F)&&F.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(h.tag=15,h.type=F,Ae(u,h,F,T,k)):(u=mx(w.type,null,T,h,h.mode,k),u.ref=h.ref,u.return=h,h.child=u)}if(F=u.child,(u.lanes&k)===0){var G=F.memoizedProps;if(w=w.compare,w=w!==null?w:vl,w(G,T)&&u.ref===h.ref)return jl(u,h,k)}return h.flags|=1,u=tu(F,T),u.ref=h.ref,u.return=h,h.child=u}function Ae(u,h,w,T,k){if(u!==null){var F=u.memoizedProps;if(vl(F,T)&&u.ref===h.ref)if(an=!1,h.pendingProps=T=F,(u.lanes&k)!==0)(u.flags&131072)!==0&&(an=!0);else return h.lanes=u.lanes,jl(u,h,k)}return ut(u,h,w,T,k)}function ge(u,h,w){var T=h.pendingProps,k=T.children,F=u!==null?u.memoizedState:null;if(T.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},jn(Gh,Ys),Ys|=w;else{if((w&1073741824)===0)return u=F!==null?F.baseLanes|w:w,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,jn(Gh,Ys),Ys|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=F!==null?F.baseLanes:w,jn(Gh,Ys),Ys|=T}else F!==null?(T=F.baseLanes|w,h.memoizedState=null):T=w,jn(Gh,Ys),Ys|=T;return ft(u,h,k,w),h.child}function ke(u,h){var w=h.ref;(u===null&&w!==null||u!==null&&u.ref!==w)&&(h.flags|=512,h.flags|=2097152)}function ut(u,h,w,T,k){var F=ui(w)?Xa:Jr.current;return F=Sl(h,F),Fo(h,k),w=Sd(u,h,w,T,F,k),T=kg(),u!==null&&!an?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~k,jl(u,h,k)):(Xn&&T&&Eg(h),h.flags|=1,ft(u,h,w,k),h.child)}function Pt(u,h,w,T,k){if(ui(w)){var F=!0;Ml(h)}else F=!1;if(Fo(h,k),h.stateNode===null)ix(u,h),m(h,w,T),A(h,w,T,k),T=!0;else if(u===null){var G=h.stateNode,le=h.memoizedProps;G.props=le;var ue=G.context,Ce=w.contextType;typeof Ce=="object"&&Ce!==null?Ce=is(Ce):(Ce=ui(w)?Xa:Jr.current,Ce=Sl(h,Ce));var Xe=w.getDerivedStateFromProps,Ze=typeof Xe=="function"||typeof G.getSnapshotBeforeUpdate=="function";Ze||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(le!==T||ue!==Ce)&&v(h,G,T,Ce),kn=!1;var qe=h.memoizedState;G.state=qe,dr(h,T,G,k),ue=h.memoizedState,le!==T||qe!==ue||Ti.current||kn?(typeof Xe=="function"&&(Pd(h,w,Xe,T),ue=h.memoizedState),(le=kn||nx(h,w,le,T,qe,ue,Ce))?(Ze||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(h.flags|=4194308)):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=T,h.memoizedState=ue),G.props=T,G.state=ue,G.context=Ce,T=le):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),T=!1)}else{G=h.stateNode,yr(u,h),le=h.memoizedProps,Ce=h.type===h.elementType?le:Cs(h.type,le),G.props=Ce,Ze=h.pendingProps,qe=G.context,ue=w.contextType,typeof ue=="object"&&ue!==null?ue=is(ue):(ue=ui(w)?Xa:Jr.current,ue=Sl(h,ue));var gt=w.getDerivedStateFromProps;(Xe=typeof gt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(le!==Ze||qe!==ue)&&v(h,G,T,ue),kn=!1,qe=h.memoizedState,G.state=qe,dr(h,T,G,k);var Et=h.memoizedState;le!==Ze||qe!==Et||Ti.current||kn?(typeof gt=="function"&&(Pd(h,w,gt,T),Et=h.memoizedState),(Ce=kn||nx(h,w,Ce,T,qe,Et,ue)||!1)?(Xe||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(T,Et,ue),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(T,Et,ue)),typeof G.componentDidUpdate=="function"&&(h.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof G.componentDidUpdate!="function"||le===u.memoizedProps&&qe===u.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||le===u.memoizedProps&&qe===u.memoizedState||(h.flags|=1024),h.memoizedProps=T,h.memoizedState=Et),G.props=T,G.state=Et,G.context=ue,T=Ce):(typeof G.componentDidUpdate!="function"||le===u.memoizedProps&&qe===u.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||le===u.memoizedProps&&qe===u.memoizedState||(h.flags|=1024),T=!1)}return en(u,h,w,T,F,k)}function en(u,h,w,T,k,F){ke(u,h);var G=(h.flags&128)!==0;if(!T&&!G)return k&&Sg(h,w,!1),jl(u,h,F);T=h.stateNode,Lt.current=h;var le=G&&typeof w.getDerivedStateFromError!="function"?null:T.render();return h.flags|=1,u!==null&&G?(h.child=Tl(h,u.child,null,F),h.child=Tl(h,null,le,F)):ft(u,h,le,F),h.memoizedState=T.state,k&&Sg(h,w,!0),h.child}function Jt(u){var h=u.stateNode;h.pendingContext?_g(u,h.pendingContext,h.pendingContext!==h.context):h.context&&_g(u,h.context,!1),wd(u,h.containerInfo)}function yn(u,h,w,T,k){return jo(),$c(k),h.flags|=256,ft(u,h,w,T),h.child}var Sr={dehydrated:null,treeContext:null,retryLane:0};function gn(u){return{baseLanes:u,cachePool:null,transitions:null}}function ro(u,h,w){var T=h.pendingProps,k=Yn.current,F=!1,G=(h.flags&128)!==0,le;if((le=G)||(le=u!==null&&u.memoizedState===null?!1:(k&2)!==0),le?(F=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(k|=1),jn(Yn,k&1),u===null)return Lh(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(G=T.children,u=T.fallback,F?(T=h.mode,F=h.child,G={mode:"hidden",children:G},(T&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=G):F=gx(G,T,0,null),u=Od(u,T,w,null),F.return=h,u.return=h,F.sibling=u,h.child=F,h.child.memoizedState=gn(w),h.memoizedState=Sr,u):Ug(h,G));if(k=u.memoizedState,k!==null&&(le=k.dehydrated,le!==null))return zG(u,h,G,T,le,k,w);if(F){F=T.fallback,G=h.mode,k=u.child,le=k.sibling;var ue={mode:"hidden",children:T.children};return(G&1)===0&&h.child!==k?(T=h.child,T.childLanes=0,T.pendingProps=ue,h.deletions=null):(T=tu(k,ue),T.subtreeFlags=k.subtreeFlags&14680064),le!==null?F=tu(le,F):(F=Od(F,G,w,null),F.flags|=2),F.return=h,T.return=h,T.sibling=F,h.child=T,T=F,F=h.child,G=u.child.memoizedState,G=G===null?gn(w):{baseLanes:G.baseLanes|w,cachePool:null,transitions:G.transitions},F.memoizedState=G,F.childLanes=u.childLanes&~w,h.memoizedState=Sr,T}return F=u.child,u=F.sibling,T=tu(F,{mode:"visible",children:T.children}),(h.mode&1)===0&&(T.lanes=w),T.return=h,T.sibling=null,u!==null&&(w=h.deletions,w===null?(h.deletions=[u],h.flags|=16):w.push(u)),h.child=T,h.memoizedState=null,T}function Ug(u,h){return h=gx({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function rx(u,h,w,T){return T!==null&&$c(T),Tl(h,u.child,null,w),u=Ug(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function zG(u,h,w,T,k,F,G){if(w)return h.flags&256?(h.flags&=-257,T=j(Error(n(422))),rx(u,h,G,T)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(F=T.fallback,k=h.mode,T=gx({mode:"visible",children:T.children},k,0,null),F=Od(F,k,G,null),F.flags|=2,T.return=h,F.return=h,T.sibling=F,h.child=T,(h.mode&1)!==0&&Tl(h,u.child,null,G),h.child.memoizedState=gn(G),h.memoizedState=Sr,F);if((h.mode&1)===0)return rx(u,h,G,null);if(k.data==="$!"){if(T=k.nextSibling&&k.nextSibling.dataset,T)var le=T.dgst;return T=le,F=Error(n(419)),T=j(F,T,void 0),rx(u,h,G,T)}if(le=(G&u.childLanes)!==0,an||le){if(T=hi,T!==null){switch(G&-G){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(T.suspendedLanes|G))!==0?0:k,k!==0&&k!==F.retryLane&&(F.retryLane=k,Ws(u,k),ao(T,u,k,-1))}return bS(),T=j(Error(n(421))),rx(u,h,G,T)}return k.data==="$?"?(h.flags|=128,h.child=u.child,h=eq.bind(null,u),k._reactRetry=h,null):(u=F.treeContext,Ci=Wa(k.nextSibling),Qr=h,Xn=!0,Ps=null,u!==null&&(Pi[Vr++]=ot,Pi[Vr++]=Ts,Pi[Vr++]=Al,ot=u.id,Ts=u.overflow,Al=h),h=Ug(h,T.children),h.flags|=4096,h)}function UO(u,h,w){u.lanes|=h;var T=u.alternate;T!==null&&(T.lanes|=h),xd(u.return,h,w)}function sS(u,h,w,T,k){var F=u.memoizedState;F===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:T,tail:w,tailMode:k}:(F.isBackwards=h,F.rendering=null,F.renderingStartTime=0,F.last=T,F.tail=w,F.tailMode=k)}function zO(u,h,w){var T=h.pendingProps,k=T.revealOrder,F=T.tail;if(ft(u,h,T.children,w),T=Yn.current,(T&2)!==0)T=T&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&UO(u,w,h);else if(u.tag===19)UO(u,w,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}T&=1}if(jn(Yn,T),(h.mode&1)===0)h.memoizedState=null;else switch(k){case"forwards":for(w=h.child,k=null;w!==null;)u=w.alternate,u!==null&&Gs(u)===null&&(k=w),w=w.sibling;w=k,w===null?(k=h.child,h.child=null):(k=w.sibling,w.sibling=null),sS(h,!1,k,w,F);break;case"backwards":for(w=null,k=h.child,h.child=null;k!==null;){if(u=k.alternate,u!==null&&Gs(u)===null){h.child=k;break}u=k.sibling,k.sibling=w,w=k,k=u}sS(h,!0,w,null,F);break;case"together":sS(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function ix(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function jl(u,h,w){if(u!==null&&(h.dependencies=u.dependencies),Cd|=h.lanes,(w&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,w=tu(u,u.pendingProps),h.child=w,w.return=h;u.sibling!==null;)u=u.sibling,w=w.sibling=tu(u,u.pendingProps),w.return=h;w.sibling=null}return h.child}function VG(u,h,w){switch(h.tag){case 3:Jt(h),jo();break;case 5:Ol(h);break;case 1:ui(h.type)&&Ml(h);break;case 4:wd(h,h.stateNode.containerInfo);break;case 10:var T=h.type._context,k=h.memoizedProps.value;jn(Pl,T._currentValue),T._currentValue=k;break;case 13:if(T=h.memoizedState,T!==null)return T.dehydrated!==null?(jn(Yn,Yn.current&1),h.flags|=128,null):(w&h.child.childLanes)!==0?ro(u,h,w):(jn(Yn,Yn.current&1),u=jl(u,h,w),u!==null?u.sibling:null);jn(Yn,Yn.current&1);break;case 19:if(T=(w&h.childLanes)!==0,(u.flags&128)!==0){if(T)return zO(u,h,w);h.flags|=128}if(k=h.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),jn(Yn,Yn.current),T)break;return null;case 22:case 23:return h.lanes=0,ge(u,h,w)}return jl(u,h,w)}var VO,aS,HO,$O;VO=function(u,h){for(var w=h.child;w!==null;){if(w.tag===5||w.tag===6)u.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},aS=function(){},HO=function(u,h,w,T){var k=u.memoizedProps;if(k!==T){u=h.stateNode,_r(ss.current);var F=null;switch(w){case"input":k=ce(u,k),T=ce(u,T),F=[];break;case"select":k=K({},k,{value:void 0}),T=K({},T,{value:void 0}),F=[];break;case"textarea":k=W(u,k),T=W(u,T),F=[];break;default:typeof k.onClick!="function"&&typeof T.onClick=="function"&&(u.onclick=ud)}Mt(w,T);var G;w=null;for(Ce in k)if(!T.hasOwnProperty(Ce)&&k.hasOwnProperty(Ce)&&k[Ce]!=null)if(Ce==="style"){var le=k[Ce];for(G in le)le.hasOwnProperty(G)&&(w||(w={}),w[G]="")}else Ce!=="dangerouslySetInnerHTML"&&Ce!=="children"&&Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&Ce!=="autoFocus"&&(i.hasOwnProperty(Ce)?F||(F=[]):(F=F||[]).push(Ce,null));for(Ce in T){var ue=T[Ce];if(le=k!=null?k[Ce]:void 0,T.hasOwnProperty(Ce)&&ue!==le&&(ue!=null||le!=null))if(Ce==="style")if(le){for(G in le)!le.hasOwnProperty(G)||ue&&ue.hasOwnProperty(G)||(w||(w={}),w[G]="");for(G in ue)ue.hasOwnProperty(G)&&le[G]!==ue[G]&&(w||(w={}),w[G]=ue[G])}else w||(F||(F=[]),F.push(Ce,w)),w=ue;else Ce==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,le=le?le.__html:void 0,ue!=null&&le!==ue&&(F=F||[]).push(Ce,ue)):Ce==="children"?typeof ue!="string"&&typeof ue!="number"||(F=F||[]).push(Ce,""+ue):Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ce)?(ue!=null&&Ce==="onScroll"&&Vn("scroll",u),F||le===ue||(F=[])):(F=F||[]).push(Ce,ue))}w&&(F=F||[]).push("style",w);var Ce=F;(h.updateQueue=Ce)&&(h.flags|=4)}},$O=function(u,h,w,T){w!==T&&(h.flags|=4)};function zg(u,h){if(!Xn)switch(u.tailMode){case"hidden":h=u.tail;for(var w=null;h!==null;)h.alternate!==null&&(w=h),h=h.sibling;w===null?u.tail=null:w.sibling=null;break;case"collapsed":w=u.tail;for(var T=null;w!==null;)w.alternate!==null&&(T=w),w=w.sibling;T===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:T.sibling=null}}function zi(u){var h=u.alternate!==null&&u.alternate.child===u.child,w=0,T=0;if(h)for(var k=u.child;k!==null;)w|=k.lanes|k.childLanes,T|=k.subtreeFlags&14680064,T|=k.flags&14680064,k.return=u,k=k.sibling;else for(k=u.child;k!==null;)w|=k.lanes|k.childLanes,T|=k.subtreeFlags,T|=k.flags,k.return=u,k=k.sibling;return u.subtreeFlags|=T,u.childLanes=w,h}function HG(u,h,w){var T=h.pendingProps;switch(Ka(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zi(h),null;case 1:return ui(h.type)&&dd(),zi(h),null;case 3:return T=h.stateNode,Bo(),Hn(Ti),Hn(Jr),ba(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(u===null||u.child===null)&&(Hc(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Ps!==null&&(vS(Ps),Ps=null))),aS(u,h),zi(h),null;case 5:qc(h);var k=_r(Qa.current);if(w=h.type,u!==null&&h.stateNode!=null)HO(u,h,w,T,k),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!T){if(h.stateNode===null)throw Error(n(166));return zi(h),null}if(u=_r(ss.current),Hc(h)){T=h.stateNode,w=h.type;var F=h.memoizedProps;switch(T[Rr]=h,T[Vc]=F,u=(h.mode&1)!==0,w){case"dialog":Vn("cancel",T),Vn("close",T);break;case"iframe":case"object":case"embed":Vn("load",T);break;case"video":case"audio":for(k=0;k<Lo.length;k++)Vn(Lo[k],T);break;case"source":Vn("error",T);break;case"img":case"image":case"link":Vn("error",T),Vn("load",T);break;case"details":Vn("toggle",T);break;case"input":xe(T,F),Vn("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!F.multiple},Vn("invalid",T);break;case"textarea":be(T,F),Vn("invalid",T)}Mt(w,F),k=null;for(var G in F)if(F.hasOwnProperty(G)){var le=F[G];G==="children"?typeof le=="string"?T.textContent!==le&&(F.suppressHydrationWarning!==!0&&cd(T.textContent,le,u),k=["children",le]):typeof le=="number"&&T.textContent!==""+le&&(F.suppressHydrationWarning!==!0&&cd(T.textContent,le,u),k=["children",""+le]):i.hasOwnProperty(G)&&le!=null&&G==="onScroll"&&Vn("scroll",T)}switch(w){case"input":ze(T),Be(T,F,!0);break;case"textarea":ze(T),Oe(T);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(T.onclick=ud)}T=k,h.updateQueue=T,T!==null&&(h.flags|=4)}else{G=k.nodeType===9?k:k.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=De(w)),u==="http://www.w3.org/1999/xhtml"?w==="script"?(u=G.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof T.is=="string"?u=G.createElement(w,{is:T.is}):(u=G.createElement(w),w==="select"&&(G=u,T.multiple?G.multiple=!0:T.size&&(G.size=T.size))):u=G.createElementNS(u,w),u[Rr]=h,u[Vc]=T,VO(u,h,!1,!1),h.stateNode=u;e:{switch(G=St(w,T),w){case"dialog":Vn("cancel",u),Vn("close",u),k=T;break;case"iframe":case"object":case"embed":Vn("load",u),k=T;break;case"video":case"audio":for(k=0;k<Lo.length;k++)Vn(Lo[k],u);k=T;break;case"source":Vn("error",u),k=T;break;case"img":case"image":case"link":Vn("error",u),Vn("load",u),k=T;break;case"details":Vn("toggle",u),k=T;break;case"input":xe(u,T),k=ce(u,T),Vn("invalid",u);break;case"option":k=T;break;case"select":u._wrapperState={wasMultiple:!!T.multiple},k=K({},T,{value:void 0}),Vn("invalid",u);break;case"textarea":be(u,T),k=W(u,T),Vn("invalid",u);break;default:k=T}Mt(w,k),le=k;for(F in le)if(le.hasOwnProperty(F)){var ue=le[F];F==="style"?Ut(u,ue):F==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&Ke(u,ue)):F==="children"?typeof ue=="string"?(w!=="textarea"||ue!=="")&&Je(u,ue):typeof ue=="number"&&Je(u,""+ue):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?ue!=null&&F==="onScroll"&&Vn("scroll",u):ue!=null&&M(u,F,ue,G))}switch(w){case"input":ze(u),Be(u,T,!1);break;case"textarea":ze(u),Oe(u);break;case"option":T.value!=null&&u.setAttribute("value",""+Ue(T.value));break;case"select":u.multiple=!!T.multiple,F=T.value,F!=null?Q(u,!!T.multiple,F,!1):T.defaultValue!=null&&Q(u,!!T.multiple,T.defaultValue,!0);break;default:typeof k.onClick=="function"&&(u.onclick=ud)}switch(w){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return zi(h),null;case 6:if(u&&h.stateNode!=null)$O(u,h,u.memoizedProps,T);else{if(typeof T!="string"&&h.stateNode===null)throw Error(n(166));if(w=_r(Qa.current),_r(ss.current),Hc(h)){if(T=h.stateNode,w=h.memoizedProps,T[Rr]=h,(F=T.nodeValue!==w)&&(u=Qr,u!==null))switch(u.tag){case 3:cd(T.nodeValue,w,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&cd(T.nodeValue,w,(u.mode&1)!==0)}F&&(h.flags|=4)}else T=(w.nodeType===9?w:w.ownerDocument).createTextNode(T),T[Rr]=h,h.stateNode=T}return zi(h),null;case 13:if(Hn(Yn),T=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Xn&&Ci!==null&&(h.mode&1)!==0&&(h.flags&128)===0)Pg(),jo(),h.flags|=98560,F=!1;else if(F=Hc(h),T!==null&&T.dehydrated!==null){if(u===null){if(!F)throw Error(n(318));if(F=h.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(n(317));F[Rr]=h}else jo(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;zi(h),F=!1}else Ps!==null&&(vS(Ps),Ps=null),F=!0;if(!F)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=w,h):(T=T!==null,T!==(u!==null&&u.memoizedState!==null)&&T&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(Yn.current&1)!==0?ri===0&&(ri=3):bS())),h.updateQueue!==null&&(h.flags|=4),zi(h),null);case 4:return Bo(),aS(u,h),u===null&&Bc(h.stateNode.containerInfo),zi(h),null;case 10:return yd(h.type._context),zi(h),null;case 17:return ui(h.type)&&dd(),zi(h),null;case 19:if(Hn(Yn),F=h.memoizedState,F===null)return zi(h),null;if(T=(h.flags&128)!==0,G=F.rendering,G===null)if(T)zg(F,!1);else{if(ri!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(G=Gs(u),G!==null){for(h.flags|=128,zg(F,!1),T=G.updateQueue,T!==null&&(h.updateQueue=T,h.flags|=4),h.subtreeFlags=0,T=w,w=h.child;w!==null;)F=w,u=T,F.flags&=14680066,G=F.alternate,G===null?(F.childLanes=0,F.lanes=u,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=G.childLanes,F.lanes=G.lanes,F.child=G.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=G.memoizedProps,F.memoizedState=G.memoizedState,F.updateQueue=G.updateQueue,F.type=G.type,u=G.dependencies,F.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),w=w.sibling;return jn(Yn,Yn.current&1|2),h.child}u=u.sibling}F.tail!==null&&pt()>qh&&(h.flags|=128,T=!0,zg(F,!1),h.lanes=4194304)}else{if(!T)if(u=Gs(G),u!==null){if(h.flags|=128,T=!0,w=u.updateQueue,w!==null&&(h.updateQueue=w,h.flags|=4),zg(F,!0),F.tail===null&&F.tailMode==="hidden"&&!G.alternate&&!Xn)return zi(h),null}else 2*pt()-F.renderingStartTime>qh&&w!==1073741824&&(h.flags|=128,T=!0,zg(F,!1),h.lanes=4194304);F.isBackwards?(G.sibling=h.child,h.child=G):(w=F.last,w!==null?w.sibling=G:h.child=G,F.last=G)}return F.tail!==null?(h=F.tail,F.rendering=h,F.tail=h.sibling,F.renderingStartTime=pt(),h.sibling=null,w=Yn.current,jn(Yn,T?w&1|2:w&1),h):(zi(h),null);case 22:case 23:return xS(),T=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==T&&(h.flags|=8192),T&&(h.mode&1)!==0?(Ys&1073741824)!==0&&(zi(h),h.subtreeFlags&6&&(h.flags|=8192)):zi(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function $G(u,h){switch(Ka(h),h.tag){case 1:return ui(h.type)&&dd(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Bo(),Hn(Ti),Hn(Jr),ba(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return qc(h),null;case 13:if(Hn(Yn),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));jo()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return Hn(Yn),null;case 4:return Bo(),null;case 10:return yd(h.type._context),null;case 22:case 23:return xS(),null;case 24:return null;default:return null}}var sx=!1,Vi=!1,WG=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Wh(u,h){var w=u.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(T){Mr(u,h,T)}else w.current=null}function oS(u,h,w){try{w()}catch(T){Mr(u,h,T)}}var WO=!1;function GG(u,h){if(zc=ws,u=ir(),Fr(u)){if("selectionStart"in u)var w={start:u.selectionStart,end:u.selectionEnd};else e:{w=(w=u.ownerDocument)&&w.defaultView||window;var T=w.getSelection&&w.getSelection();if(T&&T.rangeCount!==0){w=T.anchorNode;var k=T.anchorOffset,F=T.focusNode;T=T.focusOffset;try{w.nodeType,F.nodeType}catch{w=null;break e}var G=0,le=-1,ue=-1,Ce=0,Xe=0,Ze=u,qe=null;t:for(;;){for(var gt;Ze!==w||k!==0&&Ze.nodeType!==3||(le=G+k),Ze!==F||T!==0&&Ze.nodeType!==3||(ue=G+T),Ze.nodeType===3&&(G+=Ze.nodeValue.length),(gt=Ze.firstChild)!==null;)qe=Ze,Ze=gt;for(;;){if(Ze===u)break t;if(qe===w&&++Ce===k&&(le=G),qe===F&&++Xe===T&&(ue=G),(gt=Ze.nextSibling)!==null)break;Ze=qe,qe=Ze.parentNode}Ze=gt}w=le===-1||ue===-1?null:{start:le,end:ue}}else w=null}w=w||{start:0,end:0}}else w=null;for(gg={focusedElem:u,selectionRange:w},ws=!1,wt=h;wt!==null;)if(h=wt,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,wt=u;else for(;wt!==null;){h=wt;try{var Et=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Et!==null){var At=Et.memoizedProps,kr=Et.memoizedState,_e=h.stateNode,he=_e.getSnapshotBeforeUpdate(h.elementType===h.type?At:Cs(h.type,At),kr);_e.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var Me=h.stateNode.containerInfo;Me.nodeType===1?Me.textContent="":Me.nodeType===9&&Me.documentElement&&Me.removeChild(Me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(rt){Mr(h,h.return,rt)}if(u=h.sibling,u!==null){u.return=h.return,wt=u;break}wt=h.return}return Et=WO,WO=!1,Et}function Vg(u,h,w){var T=h.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var k=T=T.next;do{if((k.tag&u)===u){var F=k.destroy;k.destroy=void 0,F!==void 0&&oS(h,w,F)}k=k.next}while(k!==T)}}function ax(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var w=h=h.next;do{if((w.tag&u)===u){var T=w.create;w.destroy=T()}w=w.next}while(w!==h)}}function lS(u){var h=u.ref;if(h!==null){var w=u.stateNode;switch(u.tag){case 5:u=w;break;default:u=w}typeof h=="function"?h(u):h.current=u}}function GO(u){var h=u.alternate;h!==null&&(u.alternate=null,GO(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[Rr],delete h[Vc],delete h[_l],delete h[Ph],delete h[Ch])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function qO(u){return u.tag===5||u.tag===3||u.tag===4}function XO(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||qO(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function cS(u,h,w){var T=u.tag;if(T===5||T===6)u=u.stateNode,h?w.nodeType===8?w.parentNode.insertBefore(u,h):w.insertBefore(u,h):(w.nodeType===8?(h=w.parentNode,h.insertBefore(u,w)):(h=w,h.appendChild(u)),w=w._reactRootContainer,w!=null||h.onclick!==null||(h.onclick=ud));else if(T!==4&&(u=u.child,u!==null))for(cS(u,h,w),u=u.sibling;u!==null;)cS(u,h,w),u=u.sibling}function uS(u,h,w){var T=u.tag;if(T===5||T===6)u=u.stateNode,h?w.insertBefore(u,h):w.appendChild(u);else if(T!==4&&(u=u.child,u!==null))for(uS(u,h,w),u=u.sibling;u!==null;)uS(u,h,w),u=u.sibling}var Ri=null,io=!1;function Kc(u,h,w){for(w=w.child;w!==null;)YO(u,h,w),w=w.sibling}function YO(u,h,w){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(mr,w)}catch{}switch(w.tag){case 5:Vi||Wh(w,h);case 6:var T=Ri,k=io;Ri=null,Kc(u,h,w),Ri=T,io=k,Ri!==null&&(io?(u=Ri,w=w.stateNode,u.nodeType===8?u.parentNode.removeChild(w):u.removeChild(w)):Ri.removeChild(w.stateNode));break;case 18:Ri!==null&&(io?(u=Ri,w=w.stateNode,u.nodeType===8?Th(u.parentNode,w):u.nodeType===1&&Th(u,w),Ju(u)):Th(Ri,w.stateNode));break;case 4:T=Ri,k=io,Ri=w.stateNode.containerInfo,io=!0,Kc(u,h,w),Ri=T,io=k;break;case 0:case 11:case 14:case 15:if(!Vi&&(T=w.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){k=T=T.next;do{var F=k,G=F.destroy;F=F.tag,G!==void 0&&((F&2)!==0||(F&4)!==0)&&oS(w,h,G),k=k.next}while(k!==T)}Kc(u,h,w);break;case 1:if(!Vi&&(Wh(w,h),T=w.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=w.memoizedProps,T.state=w.memoizedState,T.componentWillUnmount()}catch(le){Mr(w,h,le)}Kc(u,h,w);break;case 21:Kc(u,h,w);break;case 22:w.mode&1?(Vi=(T=Vi)||w.memoizedState!==null,Kc(u,h,w),Vi=T):Kc(u,h,w);break;default:Kc(u,h,w)}}function KO(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var w=u.stateNode;w===null&&(w=u.stateNode=new WG),h.forEach(function(T){var k=tq.bind(null,u,T);w.has(T)||(w.add(T),T.then(k,k))})}}function so(u,h){var w=h.deletions;if(w!==null)for(var T=0;T<w.length;T++){var k=w[T];try{var F=u,G=h,le=G;e:for(;le!==null;){switch(le.tag){case 5:Ri=le.stateNode,io=!1;break e;case 3:Ri=le.stateNode.containerInfo,io=!0;break e;case 4:Ri=le.stateNode.containerInfo,io=!0;break e}le=le.return}if(Ri===null)throw Error(n(160));YO(F,G,k),Ri=null,io=!1;var ue=k.alternate;ue!==null&&(ue.return=null),k.return=null}catch(Ce){Mr(k,h,Ce)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)ZO(h,u),h=h.sibling}function ZO(u,h){var w=u.alternate,T=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(so(h,u),zo(u),T&4){try{Vg(3,u,u.return),ax(3,u)}catch(At){Mr(u,u.return,At)}try{Vg(5,u,u.return)}catch(At){Mr(u,u.return,At)}}break;case 1:so(h,u),zo(u),T&512&&w!==null&&Wh(w,w.return);break;case 5:if(so(h,u),zo(u),T&512&&w!==null&&Wh(w,w.return),u.flags&32){var k=u.stateNode;try{Je(k,"")}catch(At){Mr(u,u.return,At)}}if(T&4&&(k=u.stateNode,k!=null)){var F=u.memoizedProps,G=w!==null?w.memoizedProps:F,le=u.type,ue=u.updateQueue;if(u.updateQueue=null,ue!==null)try{le==="input"&&F.type==="radio"&&F.name!=null&&me(k,F),St(le,G);var Ce=St(le,F);for(G=0;G<ue.length;G+=2){var Xe=ue[G],Ze=ue[G+1];Xe==="style"?Ut(k,Ze):Xe==="dangerouslySetInnerHTML"?Ke(k,Ze):Xe==="children"?Je(k,Ze):M(k,Xe,Ze,Ce)}switch(le){case"input":Fe(k,F);break;case"textarea":Se(k,F);break;case"select":var qe=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!F.multiple;var gt=F.value;gt!=null?Q(k,!!F.multiple,gt,!1):qe!==!!F.multiple&&(F.defaultValue!=null?Q(k,!!F.multiple,F.defaultValue,!0):Q(k,!!F.multiple,F.multiple?[]:"",!1))}k[Vc]=F}catch(At){Mr(u,u.return,At)}}break;case 6:if(so(h,u),zo(u),T&4){if(u.stateNode===null)throw Error(n(162));k=u.stateNode,F=u.memoizedProps;try{k.nodeValue=F}catch(At){Mr(u,u.return,At)}}break;case 3:if(so(h,u),zo(u),T&4&&w!==null&&w.memoizedState.isDehydrated)try{Ju(h.containerInfo)}catch(At){Mr(u,u.return,At)}break;case 4:so(h,u),zo(u);break;case 13:so(h,u),zo(u),k=u.child,k.flags&8192&&(F=k.memoizedState!==null,k.stateNode.isHidden=F,!F||k.alternate!==null&&k.alternate.memoizedState!==null||(hS=pt())),T&4&&KO(u);break;case 22:if(Xe=w!==null&&w.memoizedState!==null,u.mode&1?(Vi=(Ce=Vi)||Xe,so(h,u),Vi=Ce):so(h,u),zo(u),T&8192){if(Ce=u.memoizedState!==null,(u.stateNode.isHidden=Ce)&&!Xe&&(u.mode&1)!==0)for(wt=u,Xe=u.child;Xe!==null;){for(Ze=wt=Xe;wt!==null;){switch(qe=wt,gt=qe.child,qe.tag){case 0:case 11:case 14:case 15:Vg(4,qe,qe.return);break;case 1:Wh(qe,qe.return);var Et=qe.stateNode;if(typeof Et.componentWillUnmount=="function"){T=qe,w=qe.return;try{h=T,Et.props=h.memoizedProps,Et.state=h.memoizedState,Et.componentWillUnmount()}catch(At){Mr(T,w,At)}}break;case 5:Wh(qe,qe.return);break;case 22:if(qe.memoizedState!==null){e3(Ze);continue}}gt!==null?(gt.return=qe,wt=gt):e3(Ze)}Xe=Xe.sibling}e:for(Xe=null,Ze=u;;){if(Ze.tag===5){if(Xe===null){Xe=Ze;try{k=Ze.stateNode,Ce?(F=k.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(le=Ze.stateNode,ue=Ze.memoizedProps.style,G=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,le.style.display=Cn("display",G))}catch(At){Mr(u,u.return,At)}}}else if(Ze.tag===6){if(Xe===null)try{Ze.stateNode.nodeValue=Ce?"":Ze.memoizedProps}catch(At){Mr(u,u.return,At)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===u)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===u)break e;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===u)break e;Xe===Ze&&(Xe=null),Ze=Ze.return}Xe===Ze&&(Xe=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}break;case 19:so(h,u),zo(u),T&4&&KO(u);break;case 21:break;default:so(h,u),zo(u)}}function zo(u){var h=u.flags;if(h&2){try{e:{for(var w=u.return;w!==null;){if(qO(w)){var T=w;break e}w=w.return}throw Error(n(160))}switch(T.tag){case 5:var k=T.stateNode;T.flags&32&&(Je(k,""),T.flags&=-33);var F=XO(u);uS(u,F,k);break;case 3:case 4:var G=T.stateNode.containerInfo,le=XO(u);cS(u,le,G);break;default:throw Error(n(161))}}catch(ue){Mr(u,u.return,ue)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function qG(u,h,w){wt=u,JO(u)}function JO(u,h,w){for(var T=(u.mode&1)!==0;wt!==null;){var k=wt,F=k.child;if(k.tag===22&&T){var G=k.memoizedState!==null||sx;if(!G){var le=k.alternate,ue=le!==null&&le.memoizedState!==null||Vi;le=sx;var Ce=Vi;if(sx=G,(Vi=ue)&&!Ce)for(wt=k;wt!==null;)G=wt,ue=G.child,G.tag===22&&G.memoizedState!==null?t3(k):ue!==null?(ue.return=G,wt=ue):t3(k);for(;F!==null;)wt=F,JO(F),F=F.sibling;wt=k,sx=le,Vi=Ce}QO(u)}else(k.subtreeFlags&8772)!==0&&F!==null?(F.return=k,wt=F):QO(u)}}function QO(u){for(;wt!==null;){var h=wt;if((h.flags&8772)!==0){var w=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Vi||ax(5,h);break;case 1:var T=h.stateNode;if(h.flags&4&&!Vi)if(w===null)T.componentDidMount();else{var k=h.elementType===h.type?w.memoizedProps:Cs(h.type,w.memoizedProps);T.componentDidUpdate(k,w.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var F=h.updateQueue;F!==null&&Gc(h,F,T);break;case 3:var G=h.updateQueue;if(G!==null){if(w=null,h.child!==null)switch(h.child.tag){case 5:w=h.child.stateNode;break;case 1:w=h.child.stateNode}Gc(h,G,w)}break;case 5:var le=h.stateNode;if(w===null&&h.flags&4){w=le;var ue=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&w.focus();break;case"img":ue.src&&(w.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var Ce=h.alternate;if(Ce!==null){var Xe=Ce.memoizedState;if(Xe!==null){var Ze=Xe.dehydrated;Ze!==null&&Ju(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Vi||h.flags&512&&lS(h)}catch(qe){Mr(h,h.return,qe)}}if(h===u){wt=null;break}if(w=h.sibling,w!==null){w.return=h.return,wt=w;break}wt=h.return}}function e3(u){for(;wt!==null;){var h=wt;if(h===u){wt=null;break}var w=h.sibling;if(w!==null){w.return=h.return,wt=w;break}wt=h.return}}function t3(u){for(;wt!==null;){var h=wt;try{switch(h.tag){case 0:case 11:case 15:var w=h.return;try{ax(4,h)}catch(ue){Mr(h,w,ue)}break;case 1:var T=h.stateNode;if(typeof T.componentDidMount=="function"){var k=h.return;try{T.componentDidMount()}catch(ue){Mr(h,k,ue)}}var F=h.return;try{lS(h)}catch(ue){Mr(h,F,ue)}break;case 5:var G=h.return;try{lS(h)}catch(ue){Mr(h,G,ue)}}}catch(ue){Mr(h,h.return,ue)}if(h===u){wt=null;break}var le=h.sibling;if(le!==null){le.return=h.return,wt=le;break}wt=h.return}}var XG=Math.ceil,ox=P.ReactCurrentDispatcher,dS=P.ReactCurrentOwner,_a=P.ReactCurrentBatchConfig,_n=0,hi=null,Hr=null,ki=0,Ys=0,Gh=ur(0),ri=0,Hg=null,Cd=0,lx=0,fS=0,$g=null,Ns=null,hS=0,qh=1/0,Fl=null,cx=!1,pS=null,Zc=null,ux=!1,Jc=null,dx=0,Wg=0,mS=null,fx=-1,hx=0;function cs(){return(_n&6)!==0?pt():fx!==-1?fx:fx=pt()}function Qc(u){return(u.mode&1)===0?1:(_n&2)!==0&&ki!==0?ki&-ki:rS.transition!==null?(hx===0&&(hx=Li()),hx):(u=bn,u!==0||(u=window.event,u=u===void 0?16:ky(u.type)),u)}function ao(u,h,w,T){if(50<Wg)throw Wg=0,mS=null,Error(n(185));Xu(u,w,T),((_n&2)===0||u!==hi)&&(u===hi&&((_n&2)===0&&(lx|=w),ri===4&&eu(u,ki)),Rs(u,T),w===1&&_n===0&&(h.mode&1)===0&&(qh=pt()+500,hd&&ya()))}function Rs(u,h){var w=u.callbackNode;Kr(u,h);var T=Qi(u,u===hi?ki:0);if(T===0)w!==null&&ht(w),u.callbackNode=null,u.callbackPriority=0;else if(h=T&-T,u.callbackPriority!==h){if(w!=null&&ht(w),h===1)u.tag===0?Gy(r3.bind(null,u)):pd(r3.bind(null,u)),nS(function(){(_n&6)===0&&ya()}),w=null;else{switch(Ac(T)){case 1:w=Ht;break;case 4:w=Xt;break;case 16:w=Un;break;case 536870912:w=zn;break;default:w=Un}w=d3(w,n3.bind(null,u))}u.callbackPriority=h,u.callbackNode=w}}function n3(u,h){if(fx=-1,hx=0,(_n&6)!==0)throw Error(n(327));var w=u.callbackNode;if(Xh()&&u.callbackNode!==w)return null;var T=Qi(u,u===hi?ki:0);if(T===0)return null;if((T&30)!==0||(T&u.expiredLanes)!==0||h)h=px(u,T);else{h=T;var k=_n;_n|=2;var F=s3();(hi!==u||ki!==h)&&(Fl=null,qh=pt()+500,Rd(u,h));do try{ZG();break}catch(le){i3(u,le)}while(!0);Nl(),ox.current=F,_n=k,Hr!==null?h=0:(hi=null,ki=0,h=ri)}if(h!==0){if(h===2&&(k=Po(u),k!==0&&(T=k,h=gS(u,k))),h===1)throw w=Hg,Rd(u,0),eu(u,T),Rs(u,pt()),w;if(h===6)eu(u,T);else{if(k=u.current.alternate,(T&30)===0&&!YG(k)&&(h=px(u,T),h===2&&(F=Po(u),F!==0&&(T=F,h=gS(u,F))),h===1))throw w=Hg,Rd(u,0),eu(u,T),Rs(u,pt()),w;switch(u.finishedWork=k,u.finishedLanes=T,h){case 0:case 1:throw Error(n(345));case 2:kd(u,Ns,Fl);break;case 3:if(eu(u,T),(T&130023424)===T&&(h=hS+500-pt(),10<h)){if(Qi(u,0)!==0)break;if(k=u.suspendedLanes,(k&T)!==T){cs(),u.pingedLanes|=u.suspendedLanes&k;break}u.timeoutHandle=yg(kd.bind(null,u,Ns,Fl),h);break}kd(u,Ns,Fl);break;case 4:if(eu(u,T),(T&4194240)===T)break;for(h=u.eventTimes,k=-1;0<T;){var G=31-lr(T);F=1<<G,G=h[G],G>k&&(k=G),T&=~F}if(T=k,T=pt()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*XG(T/1960))-T,10<T){u.timeoutHandle=yg(kd.bind(null,u,Ns,Fl),T);break}kd(u,Ns,Fl);break;case 5:kd(u,Ns,Fl);break;default:throw Error(n(329))}}}return Rs(u,pt()),u.callbackNode===w?n3.bind(null,u):null}function gS(u,h){var w=$g;return u.current.memoizedState.isDehydrated&&(Rd(u,h).flags|=256),u=px(u,h),u!==2&&(h=Ns,Ns=w,h!==null&&vS(h)),u}function vS(u){Ns===null?Ns=u:Ns.push.apply(Ns,u)}function YG(u){for(var h=u;;){if(h.flags&16384){var w=h.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var T=0;T<w.length;T++){var k=w[T],F=k.getSnapshot;k=k.value;try{if(!ts(F(),k))return!1}catch{return!1}}}if(w=h.child,h.subtreeFlags&16384&&w!==null)w.return=h,h=w;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function eu(u,h){for(h&=~fS,h&=~lx,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var w=31-lr(h),T=1<<w;u[w]=-1,h&=~T}}function r3(u){if((_n&6)!==0)throw Error(n(327));Xh();var h=Qi(u,0);if((h&1)===0)return Rs(u,pt()),null;var w=px(u,h);if(u.tag!==0&&w===2){var T=Po(u);T!==0&&(h=T,w=gS(u,T))}if(w===1)throw w=Hg,Rd(u,0),eu(u,h),Rs(u,pt()),w;if(w===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,kd(u,Ns,Fl),Rs(u,pt()),null}function yS(u,h){var w=_n;_n|=1;try{return u(h)}finally{_n=w,_n===0&&(qh=pt()+500,hd&&ya())}}function Nd(u){Jc!==null&&Jc.tag===0&&(_n&6)===0&&Xh();var h=_n;_n|=1;var w=_a.transition,T=bn;try{if(_a.transition=null,bn=1,u)return u()}finally{bn=T,_a.transition=w,_n=h,(_n&6)===0&&ya()}}function xS(){Ys=Gh.current,Hn(Gh)}function Rd(u,h){u.finishedWork=null,u.finishedLanes=0;var w=u.timeoutHandle;if(w!==-1&&(u.timeoutHandle=-1,xg(w)),Hr!==null)for(w=Hr.return;w!==null;){var T=w;switch(Ka(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&dd();break;case 3:Bo(),Hn(Ti),Hn(Jr),ba();break;case 5:qc(T);break;case 4:Bo();break;case 13:Hn(Yn);break;case 19:Hn(Yn);break;case 10:yd(T.type._context);break;case 22:case 23:xS()}w=w.return}if(hi=u,Hr=u=tu(u.current,null),ki=Ys=h,ri=0,Hg=null,fS=lx=Cd=0,Ns=$g=null,Ja!==null){for(h=0;h<Ja.length;h++)if(w=Ja[h],T=w.interleaved,T!==null){w.interleaved=null;var k=T.next,F=w.pending;if(F!==null){var G=F.next;F.next=k,T.next=G}w.pending=T}Ja=null}return u}function i3(u,h){do{var w=Hr;try{if(Nl(),Il.current=Hh,qs){for(var T=$n.memoizedState;T!==null;){var k=T.queue;k!==null&&(k.pending=null),T=T.next}qs=!1}if(eo=0,wn=fr=$n=null,fi=!1,Uo=0,dS.current=null,w===null||w.return===null){ri=1,Hg=h,Hr=null;break}e:{var F=u,G=w.return,le=w,ue=h;if(h=ki,le.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ce=ue,Xe=le,Ze=Xe.tag;if((Xe.mode&1)===0&&(Ze===0||Ze===11||Ze===15)){var qe=Xe.alternate;qe?(Xe.updateQueue=qe.updateQueue,Xe.memoizedState=qe.memoizedState,Xe.lanes=qe.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var gt=xt(G);if(gt!==null){gt.flags&=-257,Zt(gt,G,le,F,h),gt.mode&1&&tt(F,Ce,h),h=gt,ue=Ce;var Et=h.updateQueue;if(Et===null){var At=new Set;At.add(ue),h.updateQueue=At}else Et.add(ue);break e}else{if((h&1)===0){tt(F,Ce,h),bS();break e}ue=Error(n(426))}}else if(Xn&&le.mode&1){var kr=xt(G);if(kr!==null){(kr.flags&65536)===0&&(kr.flags|=256),Zt(kr,G,le,F,h),$c(R(ue,le));break e}}F=ue=R(ue,le),ri!==4&&(ri=2),$g===null?$g=[F]:$g.push(F),F=G;do{switch(F.tag){case 3:F.flags|=65536,h&=-h,F.lanes|=h;var _e=pe(F,ue,h);Rl(F,_e);break e;case 1:le=ue;var he=F.type,Me=F.stateNode;if((F.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(Zc===null||!Zc.has(Me)))){F.flags|=65536,h&=-h,F.lanes|=h;var rt=Le(F,le,h);Rl(F,rt);break e}}F=F.return}while(F!==null)}o3(w)}catch(Nt){h=Nt,Hr===w&&w!==null&&(Hr=w=w.return);continue}break}while(!0)}function s3(){var u=ox.current;return ox.current=Hh,u===null?Hh:u}function bS(){(ri===0||ri===3||ri===2)&&(ri=4),hi===null||(Cd&268435455)===0&&(lx&268435455)===0||eu(hi,ki)}function px(u,h){var w=_n;_n|=2;var T=s3();(hi!==u||ki!==h)&&(Fl=null,Rd(u,h));do try{KG();break}catch(k){i3(u,k)}while(!0);if(Nl(),_n=w,ox.current=T,Hr!==null)throw Error(n(261));return hi=null,ki=0,ri}function KG(){for(;Hr!==null;)a3(Hr)}function ZG(){for(;Hr!==null&&!Rt();)a3(Hr)}function a3(u){var h=u3(u.alternate,u,Ys);u.memoizedProps=u.pendingProps,h===null?o3(u):Hr=h,dS.current=null}function o3(u){var h=u;do{var w=h.alternate;if(u=h.return,(h.flags&32768)===0){if(w=HG(w,h,Ys),w!==null){Hr=w;return}}else{if(w=$G(w,h),w!==null){w.flags&=32767,Hr=w;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{ri=6,Hr=null;return}}if(h=h.sibling,h!==null){Hr=h;return}Hr=h=u}while(h!==null);ri===0&&(ri=5)}function kd(u,h,w){var T=bn,k=_a.transition;try{_a.transition=null,bn=1,JG(u,h,w,T)}finally{_a.transition=k,bn=T}return null}function JG(u,h,w,T){do Xh();while(Jc!==null);if((_n&6)!==0)throw Error(n(327));w=u.finishedWork;var k=u.finishedLanes;if(w===null)return null;if(u.finishedWork=null,u.finishedLanes=0,w===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var F=w.lanes|w.childLanes;if(J_(u,F),u===hi&&(Hr=hi=null,ki=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||ux||(ux=!0,d3(Un,function(){return Xh(),null})),F=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||F){F=_a.transition,_a.transition=null;var G=bn;bn=1;var le=_n;_n|=4,dS.current=null,GG(u,w),ZO(w,u),Br(gg),ws=!!zc,gg=zc=null,u.current=w,qG(w),jt(),_n=le,bn=G,_a.transition=F}else u.current=w;if(ux&&(ux=!1,Jc=u,dx=k),F=u.pendingLanes,F===0&&(Zc=null),yt(w.stateNode),Rs(u,pt()),h!==null)for(T=u.onRecoverableError,w=0;w<h.length;w++)k=h[w],T(k.value,{componentStack:k.stack,digest:k.digest});if(cx)throw cx=!1,u=pS,pS=null,u;return(dx&1)!==0&&u.tag!==0&&Xh(),F=u.pendingLanes,(F&1)!==0?u===mS?Wg++:(Wg=0,mS=u):Wg=0,ya(),null}function Xh(){if(Jc!==null){var u=Ac(dx),h=_a.transition,w=bn;try{if(_a.transition=null,bn=16>u?16:u,Jc===null)var T=!1;else{if(u=Jc,Jc=null,dx=0,(_n&6)!==0)throw Error(n(331));var k=_n;for(_n|=4,wt=u.current;wt!==null;){var F=wt,G=F.child;if((wt.flags&16)!==0){var le=F.deletions;if(le!==null){for(var ue=0;ue<le.length;ue++){var Ce=le[ue];for(wt=Ce;wt!==null;){var Xe=wt;switch(Xe.tag){case 0:case 11:case 15:Vg(8,Xe,F)}var Ze=Xe.child;if(Ze!==null)Ze.return=Xe,wt=Ze;else for(;wt!==null;){Xe=wt;var qe=Xe.sibling,gt=Xe.return;if(GO(Xe),Xe===Ce){wt=null;break}if(qe!==null){qe.return=gt,wt=qe;break}wt=gt}}}var Et=F.alternate;if(Et!==null){var At=Et.child;if(At!==null){Et.child=null;do{var kr=At.sibling;At.sibling=null,At=kr}while(At!==null)}}wt=F}}if((F.subtreeFlags&2064)!==0&&G!==null)G.return=F,wt=G;else e:for(;wt!==null;){if(F=wt,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:Vg(9,F,F.return)}var _e=F.sibling;if(_e!==null){_e.return=F.return,wt=_e;break e}wt=F.return}}var he=u.current;for(wt=he;wt!==null;){G=wt;var Me=G.child;if((G.subtreeFlags&2064)!==0&&Me!==null)Me.return=G,wt=Me;else e:for(G=he;wt!==null;){if(le=wt,(le.flags&2048)!==0)try{switch(le.tag){case 0:case 11:case 15:ax(9,le)}}catch(Nt){Mr(le,le.return,Nt)}if(le===G){wt=null;break e}var rt=le.sibling;if(rt!==null){rt.return=le.return,wt=rt;break e}wt=le.return}}if(_n=k,ya(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(mr,u)}catch{}T=!0}return T}finally{bn=w,_a.transition=h}}return!1}function l3(u,h,w){h=R(w,h),h=pe(u,h,1),u=Jn(u,h,1),h=cs(),u!==null&&(Xu(u,1,h),Rs(u,h))}function Mr(u,h,w){if(u.tag===3)l3(u,u,w);else for(;h!==null;){if(h.tag===3){l3(h,u,w);break}else if(h.tag===1){var T=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Zc===null||!Zc.has(T))){u=R(w,u),u=Le(h,u,1),h=Jn(h,u,1),u=cs(),h!==null&&(Xu(h,1,u),Rs(h,u));break}}h=h.return}}function QG(u,h,w){var T=u.pingCache;T!==null&&T.delete(h),h=cs(),u.pingedLanes|=u.suspendedLanes&w,hi===u&&(ki&w)===w&&(ri===4||ri===3&&(ki&130023424)===ki&&500>pt()-hS?Rd(u,0):fS|=w),Rs(u,h)}function c3(u,h){h===0&&((u.mode&1)===0?h=1:(h=gr,gr<<=1,(gr&130023424)===0&&(gr=4194304)));var w=cs();u=Ws(u,h),u!==null&&(Xu(u,h,w),Rs(u,w))}function eq(u){var h=u.memoizedState,w=0;h!==null&&(w=h.retryLane),c3(u,w)}function tq(u,h){var w=0;switch(u.tag){case 13:var T=u.stateNode,k=u.memoizedState;k!==null&&(w=k.retryLane);break;case 19:T=u.stateNode;break;default:throw Error(n(314))}T!==null&&T.delete(h),c3(u,w)}var u3;u3=function(u,h,w){if(u!==null)if(u.memoizedProps!==h.pendingProps||Ti.current)an=!0;else{if((u.lanes&w)===0&&(h.flags&128)===0)return an=!1,VG(u,h,w);an=(u.flags&131072)!==0}else an=!1,Xn&&(h.flags&1048576)!==0&&Mg(h,Oh,h.index);switch(h.lanes=0,h.tag){case 2:var T=h.type;ix(u,h),u=h.pendingProps;var k=Sl(h,Jr.current);Fo(h,w),k=Sd(null,h,T,u,k,w);var F=kg();return h.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ui(T)?(F=!0,Ml(h)):F=!1,h.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,sn(h),k.updater=$h,h.stateNode=k,k._reactInternals=h,A(h,T,u,w),h=en(null,h,T,!0,F,w)):(h.tag=0,Xn&&F&&Eg(h),ft(null,h,k,w),h=h.child),h;case 16:T=h.elementType;e:{switch(ix(u,h),u=h.pendingProps,k=T._init,T=k(T._payload),h.type=T,k=h.tag=rq(T),u=Cs(T,u),k){case 0:h=ut(null,h,T,u,w);break e;case 1:h=Pt(null,h,T,u,w);break e;case 11:h=ni(null,h,T,u,w);break e;case 14:h=ls(null,h,T,Cs(T.type,u),w);break e}throw Error(n(306,T,""))}return h;case 0:return T=h.type,k=h.pendingProps,k=h.elementType===T?k:Cs(T,k),ut(u,h,T,k,w);case 1:return T=h.type,k=h.pendingProps,k=h.elementType===T?k:Cs(T,k),Pt(u,h,T,k,w);case 3:e:{if(Jt(h),u===null)throw Error(n(387));T=h.pendingProps,F=h.memoizedState,k=F.element,yr(u,h),dr(h,T,null,w);var G=h.memoizedState;if(T=G.element,F.isDehydrated)if(F={element:T,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},h.updateQueue.baseState=F,h.memoizedState=F,h.flags&256){k=R(Error(n(423)),h),h=yn(u,h,T,w,k);break e}else if(T!==k){k=R(Error(n(424)),h),h=yn(u,h,T,w,k);break e}else for(Ci=Wa(h.stateNode.containerInfo.firstChild),Qr=h,Xn=!0,Ps=null,w=vd(h,null,T,w),h.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(jo(),T===k){h=jl(u,h,w);break e}ft(u,h,T,w)}h=h.child}return h;case 5:return Ol(h),u===null&&Lh(h),T=h.type,k=h.pendingProps,F=u!==null?u.memoizedProps:null,G=k.children,vg(T,k)?G=null:F!==null&&vg(T,F)&&(h.flags|=32),ke(u,h),ft(u,h,G,w),h.child;case 6:return u===null&&Lh(h),null;case 13:return ro(u,h,w);case 4:return wd(h,h.stateNode.containerInfo),T=h.pendingProps,u===null?h.child=Tl(h,null,T,w):ft(u,h,T,w),h.child;case 11:return T=h.type,k=h.pendingProps,k=h.elementType===T?k:Cs(T,k),ni(u,h,T,k,w);case 7:return ft(u,h,h.pendingProps,w),h.child;case 8:return ft(u,h,h.pendingProps.children,w),h.child;case 12:return ft(u,h,h.pendingProps.children,w),h.child;case 10:e:{if(T=h.type._context,k=h.pendingProps,F=h.memoizedProps,G=k.value,jn(Pl,T._currentValue),T._currentValue=G,F!==null)if(ts(F.value,G)){if(F.children===k.children&&!Ti.current){h=jl(u,h,w);break e}}else for(F=h.child,F!==null&&(F.return=h);F!==null;){var le=F.dependencies;if(le!==null){G=F.child;for(var ue=le.firstContext;ue!==null;){if(ue.context===T){if(F.tag===1){ue=On(-1,w&-w),ue.tag=2;var Ce=F.updateQueue;if(Ce!==null){Ce=Ce.shared;var Xe=Ce.pending;Xe===null?ue.next=ue:(ue.next=Xe.next,Xe.next=ue),Ce.pending=ue}}F.lanes|=w,ue=F.alternate,ue!==null&&(ue.lanes|=w),xd(F.return,w,h),le.lanes|=w;break}ue=ue.next}}else if(F.tag===10)G=F.type===h.type?null:F.child;else if(F.tag===18){if(G=F.return,G===null)throw Error(n(341));G.lanes|=w,le=G.alternate,le!==null&&(le.lanes|=w),xd(G,w,h),G=F.sibling}else G=F.child;if(G!==null)G.return=F;else for(G=F;G!==null;){if(G===h){G=null;break}if(F=G.sibling,F!==null){F.return=G.return,G=F;break}G=G.return}F=G}ft(u,h,k.children,w),h=h.child}return h;case 9:return k=h.type,T=h.pendingProps.children,Fo(h,w),k=is(k),T=T(k),h.flags|=1,ft(u,h,T,w),h.child;case 14:return T=h.type,k=Cs(T,h.pendingProps),k=Cs(T.type,k),ls(u,h,T,k,w);case 15:return Ae(u,h,h.type,h.pendingProps,w);case 17:return T=h.type,k=h.pendingProps,k=h.elementType===T?k:Cs(T,k),ix(u,h),h.tag=1,ui(T)?(u=!0,Ml(h)):u=!1,Fo(h,w),m(h,T,k),A(h,T,k,w),en(null,h,T,!0,u,w);case 19:return zO(u,h,w);case 22:return ge(u,h,w)}throw Error(n(156,h.tag))};function d3(u,h){return Te(u,h)}function nq(u,h,w,T){this.tag=u,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sa(u,h,w,T){return new nq(u,h,w,T)}function wS(u){return u=u.prototype,!(!u||!u.isReactComponent)}function rq(u){if(typeof u=="function")return wS(u)?1:0;if(u!=null){if(u=u.$$typeof,u===$)return 11;if(u===Z)return 14}return 2}function tu(u,h){var w=u.alternate;return w===null?(w=Sa(u.tag,h,u.key,u.mode),w.elementType=u.elementType,w.type=u.type,w.stateNode=u.stateNode,w.alternate=u,u.alternate=w):(w.pendingProps=h,w.type=u.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=u.flags&14680064,w.childLanes=u.childLanes,w.lanes=u.lanes,w.child=u.child,w.memoizedProps=u.memoizedProps,w.memoizedState=u.memoizedState,w.updateQueue=u.updateQueue,h=u.dependencies,w.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},w.sibling=u.sibling,w.index=u.index,w.ref=u.ref,w}function mx(u,h,w,T,k,F){var G=2;if(T=u,typeof u=="function")wS(u)&&(G=1);else if(typeof u=="string")G=5;else e:switch(u){case O:return Od(w.children,k,F,h);case D:G=8,k|=8;break;case U:return u=Sa(12,w,h,k|2),u.elementType=U,u.lanes=F,u;case X:return u=Sa(13,w,h,k),u.elementType=X,u.lanes=F,u;case V:return u=Sa(19,w,h,k),u.elementType=V,u.lanes=F,u;case re:return gx(w,k,F,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case L:G=10;break e;case I:G=9;break e;case $:G=11;break e;case Z:G=14;break e;case ee:G=16,T=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return h=Sa(G,w,h,k),h.elementType=u,h.type=T,h.lanes=F,h}function Od(u,h,w,T){return u=Sa(7,u,T,h),u.lanes=w,u}function gx(u,h,w,T){return u=Sa(22,u,T,h),u.elementType=re,u.lanes=w,u.stateNode={isHidden:!1},u}function _S(u,h,w){return u=Sa(6,u,null,h),u.lanes=w,u}function SS(u,h,w){return h=Sa(4,u.children!==null?u.children:[],u.key,h),h.lanes=w,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function iq(u,h,w,T,k){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mc(0),this.expirationTimes=Mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.identifierPrefix=T,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function MS(u,h,w,T,k,F,G,le,ue){return u=new iq(u,h,w,le,ue),h===1?(h=1,F===!0&&(h|=8)):h=0,F=Sa(3,null,null,h),u.current=F,F.stateNode=u,F.memoizedState={element:T,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},sn(F),u}function sq(u,h,w){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:T==null?null:""+T,children:u,containerInfo:h,implementation:w}}function f3(u){if(!u)return qa;u=u._reactInternals;e:{if(ja(u)!==u||u.tag!==1)throw Error(n(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ui(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(u.tag===1){var w=u.type;if(ui(w))return fd(u,w,h)}return h}function h3(u,h,w,T,k,F,G,le,ue){return u=MS(w,T,!0,u,k,F,G,le,ue),u.context=f3(null),w=u.current,T=cs(),k=Qc(w),F=On(T,k),F.callback=h??null,Jn(w,F,k),u.current.lanes=k,Xu(u,k,T),Rs(u,T),u}function vx(u,h,w,T){var k=h.current,F=cs(),G=Qc(k);return w=f3(w),h.context===null?h.context=w:h.pendingContext=w,h=On(F,G),h.payload={element:u},T=T===void 0?null:T,T!==null&&(h.callback=T),u=Jn(k,h,G),u!==null&&(ao(u,k,G,F),di(u,k,G)),G}function yx(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function p3(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var w=u.retryLane;u.retryLane=w!==0&&w<h?w:h}}function ES(u,h){p3(u,h),(u=u.alternate)&&p3(u,h)}function aq(){return null}var m3=typeof reportError=="function"?reportError:function(u){console.error(u)};function AS(u){this._internalRoot=u}xx.prototype.render=AS.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));vx(u,h,null,null)},xx.prototype.unmount=AS.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;Nd(function(){vx(null,u,null,null)}),h[rs]=null}};function xx(u){this._internalRoot=u}xx.prototype.unstable_scheduleHydration=function(u){if(u){var h=Jf();u={blockedOn:null,target:u,priority:h};for(var w=0;w<Co.length&&h!==0&&h<Co[w].priority;w++);Co.splice(w,0,u),w===0&&th(u)}};function TS(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function bx(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function g3(){}function oq(u,h,w,T,k){if(k){if(typeof T=="function"){var F=T;T=function(){var Ce=yx(G);F.call(Ce)}}var G=h3(h,T,u,0,null,!1,!1,"",g3);return u._reactRootContainer=G,u[rs]=G.current,Bc(u.nodeType===8?u.parentNode:u),Nd(),G}for(;k=u.lastChild;)u.removeChild(k);if(typeof T=="function"){var le=T;T=function(){var Ce=yx(ue);le.call(Ce)}}var ue=MS(u,0,!1,null,null,!1,!1,"",g3);return u._reactRootContainer=ue,u[rs]=ue.current,Bc(u.nodeType===8?u.parentNode:u),Nd(function(){vx(h,ue,w,T)}),ue}function wx(u,h,w,T,k){var F=w._reactRootContainer;if(F){var G=F;if(typeof k=="function"){var le=k;k=function(){var ue=yx(G);le.call(ue)}}vx(h,G,u,k)}else G=oq(w,h,u,k,T);return yx(G)}Yu=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var w=qn(h.pendingLanes);w!==0&&(Ec(h,w|1),Rs(h,pt()),(_n&6)===0&&(qh=pt()+500,ya()))}break;case 13:Nd(function(){var T=Ws(u,1);if(T!==null){var k=cs();ao(T,u,1,k)}}),ES(u,1)}},Qm=function(u){if(u.tag===13){var h=Ws(u,134217728);if(h!==null){var w=cs();ao(h,u,134217728,w)}ES(u,134217728)}},Ry=function(u){if(u.tag===13){var h=Qc(u),w=Ws(u,h);if(w!==null){var T=cs();ao(w,u,h,T)}ES(u,h)}},Jf=function(){return bn},Qf=function(u,h){var w=bn;try{return bn=u,h()}finally{bn=w}},En=function(u,h,w){switch(h){case"input":if(Fe(u,w),h=w.name,w.type==="radio"&&h!=null){for(w=u;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<w.length;h++){var T=w[h];if(T!==u&&T.form===u.form){var k=Nh(T);if(!k)throw Error(n(90));Y(T),Fe(T,k)}}}break;case"textarea":Se(u,w);break;case"select":h=w.value,h!=null&&Q(u,!!w.multiple,h,!1)}},nn=yS,vn=Nd;var lq={usingClientEntryPoint:!1,Events:[Ga,vr,Nh,nt,lt,yS]},Gg={findFiberByHostInstance:Do,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cq={bundleType:Gg.bundleType,version:Gg.version,rendererPackageName:Gg.rendererPackageName,rendererConfig:Gg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Ne(u),u===null?null:u.stateNode},findFiberByHostInstance:Gg.findFiberByHostInstance||aq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_x.isDisabled&&_x.supportsFiber)try{mr=_x.inject(cq),Ct=_x}catch{}}return ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lq,ks.createPortal=function(u,h){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TS(h))throw Error(n(200));return sq(u,h,null,w)},ks.createRoot=function(u,h){if(!TS(u))throw Error(n(299));var w=!1,T="",k=m3;return h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onRecoverableError!==void 0&&(k=h.onRecoverableError)),h=MS(u,1,!1,null,null,w,!1,T,k),u[rs]=h.current,Bc(u.nodeType===8?u.parentNode:u),new AS(h)},ks.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Ne(h),u=u===null?null:u.stateNode,u},ks.flushSync=function(u){return Nd(u)},ks.hydrate=function(u,h,w){if(!bx(h))throw Error(n(200));return wx(null,u,h,!0,w)},ks.hydrateRoot=function(u,h,w){if(!TS(u))throw Error(n(405));var T=w!=null&&w.hydratedSources||null,k=!1,F="",G=m3;if(w!=null&&(w.unstable_strictMode===!0&&(k=!0),w.identifierPrefix!==void 0&&(F=w.identifierPrefix),w.onRecoverableError!==void 0&&(G=w.onRecoverableError)),h=h3(h,null,u,1,w??null,k,!1,F,G),u[rs]=h.current,Bc(u),T)for(u=0;u<T.length;u++)w=T[u],k=w._getVersion,k=k(w._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[w,k]:h.mutableSourceEagerHydrationData.push(w,k);return new xx(h)},ks.render=function(u,h,w){if(!bx(h))throw Error(n(200));return wx(null,u,h,!1,w)},ks.unmountComponentAtNode=function(u){if(!bx(u))throw Error(n(40));return u._reactRootContainer?(Nd(function(){wx(null,null,u,!1,function(){u._reactRootContainer=null,u[rs]=null})}),!0):!1},ks.unstable_batchedUpdates=yS,ks.unstable_renderSubtreeIntoContainer=function(u,h,w,T){if(!bx(w))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return wx(u,h,w,!1,T)},ks.version="18.3.1-next-f1338f8080-20240426",ks}var M3;function _6(){if(M3)return NS.exports;M3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),NS.exports=yq(),NS.exports}var E3;function xq(){if(E3)return Mx;E3=1;var t=_6();return Mx.createRoot=t.createRoot,Mx.hydrateRoot=t.hydrateRoot,Mx}var bq=xq(),Lu=_6();const wq=Rn(Lu);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(this,arguments)}var xu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xu||(xu={}));const A3="popstate";function _q(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return nP("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:d1(i)}return Mq(e,n,null,t)}function jr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function S6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sq(){return Math.random().toString(36).substr(2,8)}function T3(t,e){return{usr:t.state,key:t.key,idx:e}}function nP(t,e,n,r){return n===void 0&&(n=null),q0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Pm(e):e,{state:n,key:e&&e.key||r||Sq()})}function d1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Pm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Mq(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=xu.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(q0({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=xu.Pop;let b=d(),_=b==null?null:b-c;c=b,l&&l({action:o,location:S.location,delta:_})}function g(b,_){o=xu.Push;let E=nP(S.location,b,_);c=d()+1;let M=T3(E,c),P=S.createHref(E);try{a.pushState(M,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(P)}s&&l&&l({action:o,location:S.location,delta:1})}function y(b,_){o=xu.Replace;let E=nP(S.location,b,_);c=d();let M=T3(E,c),P=S.createHref(E);a.replaceState(M,"",P),s&&l&&l({action:o,location:S.location,delta:0})}function x(b){let _=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof b=="string"?b:d1(b);return E=E.replace(/ $/,"%20"),jr(_,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,_)}let S={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(A3,f),l=b,()=>{i.removeEventListener(A3,f),l=null}},createHref(b){return e(i,b)},createURL:x,encodeLocation(b){let _=x(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:y,go(b){return a.go(b)}};return S}var P3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(P3||(P3={}));function Eq(t,e,n){return n===void 0&&(n="/"),Aq(t,e,n)}function Aq(t,e,n,r){let i=typeof e=="string"?Pm(e):e,s=ZN(i.pathname||"/",n);if(s==null)return null;let a=M6(t);Tq(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=Bq(s);o=Dq(a[l],c)}return o}function M6(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(jr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=_u([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(jr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),M6(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Iq(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of E6(s.path))i(s,a,l)}),e}function E6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=E6(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Tq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Lq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Pq=/^:[\w-]+$/,Cq=3,Nq=2,Rq=1,kq=10,Oq=-2,C3=t=>t==="*";function Iq(t,e){let n=t.split("/"),r=n.length;return n.some(C3)&&(r+=Oq),e&&(r+=Nq),n.filter(i=>!C3(i)).reduce((i,s)=>i+(Pq.test(s)?Cq:s===""?Rq:kq),r)}function Lq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Dq(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=jq({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),g=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:_u([s,f.pathname]),pathnameBase:Hq(_u([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=_u([s,f.pathnameBase]))}return a}function jq(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Fq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let S=o[f]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const x=o[f];return y&&!x?c[g]=void 0:c[g]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function Fq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),S6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Bq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return S6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ZN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Uq(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Pm(t):t;return{pathname:n?n.startsWith("/")?n:zq(n,e):e,search:$q(r),hash:Wq(i)}}function zq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function OS(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function JN(t,e){let n=Vq(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function QN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Pm(t):(i=q0({},t),jr(!i.pathname||!i.pathname.includes("?"),OS("?","pathname","search",i)),jr(!i.pathname||!i.pathname.includes("#"),OS("#","pathname","hash",i)),jr(!i.search||!i.search.includes("#"),OS("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}o=f>=0?e[f]:"/"}let l=Uq(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const _u=t=>t.join("/").replace(/\/\/+/g,"/"),Hq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$q=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Wq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Gq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const A6=["post","put","patch","delete"];new Set(A6);const qq=["get",...A6];new Set(qq);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}const eR=B.createContext(null),Xq=B.createContext(null),Du=B.createContext(null),kw=B.createContext(null),mc=B.createContext({outlet:null,matches:[],isDataRoute:!1}),T6=B.createContext(null);function Yq(t,e){let{relative:n}=e===void 0?{}:e;Cm()||jr(!1);let{basename:r,navigator:i}=B.useContext(Du),{hash:s,pathname:a,search:o}=C6(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:_u([r,a])),i.createHref({pathname:l,search:o,hash:s})}function Cm(){return B.useContext(kw)!=null}function Bf(){return Cm()||jr(!1),B.useContext(kw).location}function P6(t){B.useContext(Du).static||B.useLayoutEffect(t)}function iy(){let{isDataRoute:t}=B.useContext(mc);return t?uX():Kq()}function Kq(){Cm()||jr(!1);let t=B.useContext(eR),{basename:e,future:n,navigator:r}=B.useContext(Du),{matches:i}=B.useContext(mc),{pathname:s}=Bf(),a=JSON.stringify(JN(i,n.v7_relativeSplatPath)),o=B.useRef(!1);return P6(()=>{o.current=!0}),B.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=QN(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:_u([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,s,t])}const Zq=B.createContext(null);function Jq(t){let e=B.useContext(mc).outlet;return e&&B.createElement(Zq.Provider,{value:t},e)}function C6(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=B.useContext(Du),{matches:i}=B.useContext(mc),{pathname:s}=Bf(),a=JSON.stringify(JN(i,r.v7_relativeSplatPath));return B.useMemo(()=>QN(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function Qq(t,e){return eX(t,e)}function eX(t,e,n,r){Cm()||jr(!1);let{navigator:i}=B.useContext(Du),{matches:s}=B.useContext(mc),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Bf(),d;if(e){var f;let b=typeof e=="string"?Pm(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||jr(!1),d=b}else d=c;let g=d.pathname||"/",y=g;if(l!=="/"){let b=l.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=Eq(t,{pathname:y}),S=sX(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:_u([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:_u([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&S?B.createElement(kw.Provider,{value:{location:X0({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xu.Pop}},S):S}function tX(){let t=cX(),e=Gq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const nX=B.createElement(tX,null);class rX extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(mc.Provider,{value:this.props.routeContext},B.createElement(T6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iX(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(eR);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(mc.Provider,{value:e},r)}function sX(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||jr(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:g,errors:y}=n,x=f.route.loader&&g[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,g)=>{let y,x=!1,S=null,b=null;n&&(y=o&&f.route.id?o[f.route.id]:void 0,S=f.route.errorElement||nX,l&&(c<0&&g===0?(dX("route-fallback"),x=!0,b=null):c===g&&(x=!0,b=f.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,g+1)),E=()=>{let M;return y?M=S:x?M=b:f.route.Component?M=B.createElement(f.route.Component,null):f.route.element?M=f.route.element:M=d,B.createElement(iX,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:M})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?B.createElement(rX,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}var N6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(N6||{}),R6=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(R6||{});function aX(t){let e=B.useContext(eR);return e||jr(!1),e}function oX(t){let e=B.useContext(Xq);return e||jr(!1),e}function lX(t){let e=B.useContext(mc);return e||jr(!1),e}function k6(t){let e=lX(),n=e.matches[e.matches.length-1];return n.route.id||jr(!1),n.route.id}function cX(){var t;let e=B.useContext(T6),n=oX(),r=k6();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uX(){let{router:t}=aX(N6.UseNavigateStable),e=k6(R6.UseNavigateStable),n=B.useRef(!1);return P6(()=>{n.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,X0({fromRouteId:e},s)))},[t,e])}const N3={};function dX(t,e,n){N3[t]||(N3[t]=!0)}function fX(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function IS(t){let{to:e,replace:n,state:r,relative:i}=t;Cm()||jr(!1);let{future:s,static:a}=B.useContext(Du),{matches:o}=B.useContext(mc),{pathname:l}=Bf(),c=iy(),d=QN(e,JN(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return B.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function O6(t){return Jq(t.context)}function Qs(t){jr(!1)}function hX(t){let{basename:e="/",children:n=null,location:r,navigationType:i=xu.Pop,navigator:s,static:a=!1,future:o}=t;Cm()&&jr(!1);let l=e.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:s,static:a,future:X0({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Pm(r));let{pathname:d="/",search:f="",hash:g="",state:y=null,key:x="default"}=r,S=B.useMemo(()=>{let b=ZN(d,l);return b==null?null:{location:{pathname:b,search:f,hash:g,state:y,key:x},navigationType:i}},[l,d,f,g,y,x,i]);return S==null?null:B.createElement(Du.Provider,{value:c},B.createElement(kw.Provider,{children:n,value:S}))}function pX(t){let{children:e,location:n}=t;return Qq(rP(e),n)}new Promise(()=>{});function rP(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,i)=>{if(!B.isValidElement(r))return;let s=[...e,i];if(r.type===B.Fragment){n.push.apply(n,rP(r.props.children,s));return}r.type!==Qs&&jr(!1),!r.props.index||!r.props.children||jr(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=rP(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iP(){return iP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iP.apply(this,arguments)}function mX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vX(t,e){return t.button===0&&(!e||e==="_self")&&!gX(t)}const yX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xX="6";try{window.__reactRouterVersion=xX}catch{}const bX="startTransition",R3=mq[bX];function wX(t){let{basename:e,children:n,future:r,window:i}=t,s=B.useRef();s.current==null&&(s.current=_q({window:i,v5Compat:!0}));let a=s.current,[o,l]=B.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=B.useCallback(f=>{c&&R3?R3(()=>l(f)):l(f)},[l,c]);return B.useLayoutEffect(()=>a.listen(d),[a,d]),B.useEffect(()=>fX(r),[r]),B.createElement(hX,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const _X=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ls=B.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,g=mX(e,yX),{basename:y}=B.useContext(Du),x,S=!1;if(typeof c=="string"&&SX.test(c)&&(x=c,_X))try{let M=new URL(window.location.href),P=c.startsWith("//")?new URL(M.protocol+c):new URL(c),C=ZN(P.pathname,y);P.origin===M.origin&&C!=null?c=C+P.search+P.hash:S=!0}catch{}let b=Yq(c,{relative:i}),_=MX(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function E(M){r&&r(M),M.defaultPrevented||_(M)}return B.createElement("a",iP({},g,{href:x||b,onClick:S||s?r:E,ref:n,target:l}))});var k3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(k3||(k3={}));var O3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(O3||(O3={}));function MX(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=iy(),c=Bf(),d=C6(t,{relative:a});return B.useCallback(f=>{if(vX(f,n)){f.preventDefault();let g=r!==void 0?r:d1(c)===d1(d);l(t,{replace:g,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,r,i,n,t,s,a,o])}function EX(t={}){const{nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}=t,[i,s]=B.useState(!1),a=B.useRef(n);a.current=n;const o=B.useRef(r);return o.current=r,B.useEffect(()=>{const l=document.createElement("script");return l.src="https://accounts.google.com/gsi/client",l.async=!0,l.defer=!0,l.nonce=e,l.onload=()=>{var c;s(!0),(c=a.current)===null||c===void 0||c.call(a)},l.onerror=()=>{var c;s(!1),(c=o.current)===null||c===void 0||c.call(o)},document.body.appendChild(l),()=>{document.body.removeChild(l)}},[e]),i}const I6=B.createContext(null);function AX({clientId:t,nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r,children:i}){const s=EX({nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}),a=B.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:s}),[t,s]);return oe.createElement(I6.Provider,{value:a},i)}function TX(){const t=B.useContext(I6);if(!t)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return t}function PX(t){var e;return(e=t==null?void 0:t.clientId)!==null&&e!==void 0?e:t==null?void 0:t.client_id}const CX={large:40,medium:32,small:20};function NX({onSuccess:t,onError:e,useOneTap:n,promptMomentNotification:r,type:i="standard",theme:s="outline",size:a="large",text:o,shape:l,logo_alignment:c,width:d,locale:f,click_listener:g,containerProps:y,...x}){const S=B.useRef(null),{clientId:b,scriptLoadedSuccessfully:_}=TX(),E=B.useRef(t);E.current=t;const M=B.useRef(e);M.current=e;const P=B.useRef(r);return P.current=r,B.useEffect(()=>{var C,N,O,D,U,L,I,$,X;if(_)return(O=(N=(C=window==null?void 0:window.google)===null||C===void 0?void 0:C.accounts)===null||N===void 0?void 0:N.id)===null||O===void 0||O.initialize({client_id:b,callback:V=>{var Z;if(!(V!=null&&V.credential))return(Z=M.current)===null||Z===void 0?void 0:Z.call(M);const{credential:ee,select_by:re}=V;E.current({credential:ee,clientId:PX(V),select_by:re})},...x}),(L=(U=(D=window==null?void 0:window.google)===null||D===void 0?void 0:D.accounts)===null||U===void 0?void 0:U.id)===null||L===void 0||L.renderButton(S.current,{type:i,theme:s,size:a,text:o,shape:l,logo_alignment:c,width:d,locale:f,click_listener:g}),n&&((X=($=(I=window==null?void 0:window.google)===null||I===void 0?void 0:I.accounts)===null||$===void 0?void 0:$.id)===null||X===void 0||X.prompt(P.current)),()=>{var V,Z,ee;n&&((ee=(Z=(V=window==null?void 0:window.google)===null||V===void 0?void 0:V.accounts)===null||Z===void 0?void 0:Z.id)===null||ee===void 0||ee.cancel())}},[b,_,n,i,s,a,o,l,c,d,f]),oe.createElement("div",{...y,ref:S,style:{height:CX[a],...y==null?void 0:y.style}})}let RX={data:""},kX=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||RX,OX=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,IX=/\/\*[^]*?\*\/|  +/g,I3=/\n+/g,gu=(t,e)=>{let n="",r="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":r+=s[1]=="f"?gu(a,s):s+"{"+gu(a,s[1]=="k"?"":e)+"}":typeof a=="object"?r+=gu(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=gu.p?gu.p(s,a):s+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Bl={},L6=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+L6(t[n]);return e}return t},LX=(t,e,n,r,i)=>{let s=L6(t),a=Bl[s]||(Bl[s]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(s));if(!Bl[a]){let l=s!==t?t:(c=>{let d,f,g=[{}];for(;d=OX.exec(c.replace(IX,""));)d[4]?g.shift():d[3]?(f=d[3].replace(I3," ").trim(),g.unshift(g[0][f]=g[0][f]||{})):g[0][d[1]]=d[2].replace(I3," ").trim();return g[0]})(t);Bl[a]=gu(i?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&Bl.g?Bl.g:null;return n&&(Bl.g=Bl[a]),((l,c,d,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(Bl[a],e,r,o),a},DX=(t,e,n)=>t.reduce((r,i,s)=>{let a=e[s];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":gu(o,""):o===!1?"":o}return r+i+(a??"")},"");function Ow(t){let e=this||{},n=t.call?t(e.p):t;return LX(n.unshift?n.raw?DX(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,kX(e.target),e.g,e.o,e.k)}let D6,sP,aP;Ow.bind({g:1});let ac=Ow.bind({k:1});function jX(t,e,n,r){gu.p=e,D6=t,sP=n,aP=r}function ju(t,e){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:sP&&sP()},o),n.o=/ *go\d+/.test(l),o.className=Ow.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),aP&&c[0]&&aP(o),D6(c,o)}return i}}var FX=t=>typeof t=="function",f1=(t,e)=>FX(t)?t(e):t,BX=(()=>{let t=0;return()=>(++t).toString()})(),j6=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),UX=20,F6=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,UX)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return F6(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},$b=[],lf={toasts:[],pausedAt:void 0},Uf=t=>{lf=F6(lf,t),$b.forEach(e=>{e(lf)})},zX={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},VX=(t={})=>{let[e,n]=B.useState(lf),r=B.useRef(lf);B.useEffect(()=>(r.current!==lf&&n(lf),$b.push(n),()=>{let s=$b.indexOf(n);s>-1&&$b.splice(s,1)}),[]);let i=e.toasts.map(s=>{var a,o,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((a=t[s.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((o=t[s.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||zX[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},HX=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||BX()}),sy=t=>(e,n)=>{let r=HX(e,t,n);return Uf({type:2,toast:r}),r.id},Nn=(t,e)=>sy("blank")(t,e);Nn.error=sy("error");Nn.success=sy("success");Nn.loading=sy("loading");Nn.custom=sy("custom");Nn.dismiss=t=>{Uf({type:3,toastId:t})};Nn.remove=t=>Uf({type:4,toastId:t});Nn.promise=(t,e,n)=>{let r=Nn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?f1(e.success,i):void 0;return s?Nn.success(s,{id:r,...n,...n==null?void 0:n.success}):Nn.dismiss(r),i}).catch(i=>{let s=e.error?f1(e.error,i):void 0;s?Nn.error(s,{id:r,...n,...n==null?void 0:n.error}):Nn.dismiss(r)}),t};var $X=(t,e)=>{Uf({type:1,toast:{id:t,height:e}})},WX=()=>{Uf({type:5,time:Date.now()})},C0=new Map,GX=1e3,qX=(t,e=GX)=>{if(C0.has(t))return;let n=setTimeout(()=>{C0.delete(t),Uf({type:4,toastId:t})},e);C0.set(t,n)},XX=t=>{let{toasts:e,pausedAt:n}=VX(t);B.useEffect(()=>{if(n)return;let s=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(s-o.createdAt);if(l<0){o.visible&&Nn.dismiss(o.id);return}return setTimeout(()=>Nn.dismiss(o.id),l)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,n]);let r=B.useCallback(()=>{n&&Uf({type:6,time:Date.now()})},[n]),i=B.useCallback((s,a)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:c}=a||{},d=e.filter(y=>(y.position||c)===(s.position||c)&&y.height),f=d.findIndex(y=>y.id===s.id),g=d.filter((y,x)=>x<f&&y.visible).length;return d.filter(y=>y.visible).slice(...o?[g+1]:[0,g]).reduce((y,x)=>y+(x.height||0)+l,0)},[e]);return B.useEffect(()=>{e.forEach(s=>{if(s.dismissed)qX(s.id,s.removeDelay);else{let a=C0.get(s.id);a&&(clearTimeout(a),C0.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:$X,startPause:WX,endPause:r,calculateOffset:i}}},YX=ac`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,KX=ac`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ZX=ac`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,JX=ju("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${KX} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ZX} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,QX=ac`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,eY=ju("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${QX} 1s linear infinite;
`,tY=ac`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nY=ac`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rY=ju("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tY} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nY} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,iY=ju("div")`
  position: absolute;
`,sY=ju("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,aY=ac`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oY=ju("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${aY} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,lY=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?B.createElement(oY,null,e):e:n==="blank"?null:B.createElement(sY,null,B.createElement(eY,{...r}),n!=="loading"&&B.createElement(iY,null,n==="error"?B.createElement(JX,{...r}):B.createElement(rY,{...r})))},cY=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,uY=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,dY="0%{opacity:0;} 100%{opacity:1;}",fY="0%{opacity:1;} 100%{opacity:0;}",hY=ju("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pY=ju("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mY=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=j6()?[dY,fY]:[cY(n),uY(n)];return{animation:e?`${ac(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ac(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},gY=B.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?mY(t.position||e||"top-center",t.visible):{opacity:0},s=B.createElement(lY,{toast:t}),a=B.createElement(pY,{...t.ariaProps},f1(t.message,t));return B.createElement(hY,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:a}):B.createElement(B.Fragment,null,s,a))});jX(B.createElement);var vY=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=B.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;r(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return B.createElement("div",{ref:s,className:e,style:n},i)},yY=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:j6()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},xY=Ow`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ex=16,bY=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:o,handlers:l}=XX(n);return B.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ex,left:Ex,right:Ex,bottom:Ex,pointerEvents:"none",...s},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(c=>{let d=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),g=yY(d,f);return B.createElement(vY,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?xY:"",style:g},c.type==="custom"?f1(c.message,c):i?i(c):B.createElement(gY,{toast:c,position:d}))}))},Ax=Nn;const B6=B.createContext(),Ks={LIGHT:"light",DARK:"dark",SYSTEM:"system"},Nm=()=>{const t=B.useContext(B6);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},wY=({children:t})=>{const[e,n]=B.useState(Ks.SYSTEM),[r,i]=B.useState("light"),[s,a]=B.useState("light"),o=()=>typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",l=()=>{if(typeof window<"u"){const x=localStorage.getItem("theme");return x&&Object.values(Ks).includes(x)?x:Ks.SYSTEM}return Ks.SYSTEM},c=x=>{if(typeof window<"u"){const S=window.document.documentElement;x==="dark"?S.classList.add("dark"):S.classList.remove("dark"),a(x)}},d=(x,S)=>{switch(x){case Ks.LIGHT:return"light";case Ks.DARK:return"dark";case Ks.SYSTEM:default:return S}},f=x=>{if(Object.values(Ks).includes(x)){n(x),localStorage.setItem("theme",x);const S=d(x,r);c(S)}},g=()=>{const x=s==="light"?Ks.DARK:Ks.LIGHT;f(x)};B.useEffect(()=>{const x=l(),S=o();n(x),i(S);const b=d(x,S);c(b)},[]),B.useEffect(()=>{if(typeof window<"u"){const x=window.matchMedia("(prefers-color-scheme: dark)"),S=b=>{const _=b.matches?"dark":"light";i(_),e===Ks.SYSTEM&&c(_)};return x.addEventListener("change",S),()=>x.removeEventListener("change",S)}},[e]),B.useEffect(()=>{const x=d(e,r);c(x)},[e,r]);const y={theme:e,actualTheme:s,systemTheme:r,changeTheme:f,toggleTheme:g,isDark:s==="dark",isLight:s==="light",isSystem:e===Ks.SYSTEM,themes:Ks};return p.jsx(B6.Provider,{value:y,children:t})},tR=B.createContext({});function nR(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const Iw=B.createContext(null),rR=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class _Y extends B.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function SY({children:t,isPresent:e}){const n=B.useId(),r=B.useRef(null),i=B.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=B.useContext(rR);return B.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(e||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),p.jsx(_Y,{isPresent:e,childRef:r,sizeRef:i,children:B.cloneElement(t,{ref:r})})}const MY=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=nR(EY),l=B.useId(),c=B.useCallback(f=>{o.set(f,!0);for(const g of o.values())if(!g)return;r&&r()},[o,r]),d=B.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:f=>(o.set(f,!1),()=>o.delete(f))}),s?[Math.random(),c]:[n,c]);return B.useMemo(()=>{o.forEach((f,g)=>o.set(g,!1))},[n]),B.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(t=p.jsx(SY,{isPresent:n,children:t})),p.jsx(Iw.Provider,{value:d,children:t})};function EY(){return new Map}function U6(t=!0){const e=B.useContext(Iw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=B.useId();B.useEffect(()=>{t&&i(s)},[t]);const a=B.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Tx=t=>t.key||"";function L3(t){const e=[];return B.Children.forEach(t,n=>{B.isValidElement(n)&&e.push(n)}),e}const iR=typeof window<"u",z6=iR?B.useLayoutEffect:B.useEffect,D3=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1})=>{const[o,l]=U6(a),c=B.useMemo(()=>L3(t),[t]),d=a&&!o?[]:c.map(Tx),f=B.useRef(!0),g=B.useRef(c),y=nR(()=>new Map),[x,S]=B.useState(c),[b,_]=B.useState(c);z6(()=>{f.current=!1,g.current=c;for(let P=0;P<b.length;P++){const C=Tx(b[P]);d.includes(C)?y.delete(C):y.get(C)!==!0&&y.set(C,!1)}},[b,d.length,d.join("-")]);const E=[];if(c!==x){let P=[...c];for(let C=0;C<b.length;C++){const N=b[C],O=Tx(N);d.includes(O)||(P.splice(C,0,N),E.push(N))}s==="wait"&&E.length&&(P=E),_(L3(P)),S(c);return}const{forceRender:M}=B.useContext(tR);return p.jsx(p.Fragment,{children:b.map(P=>{const C=Tx(P),N=a&&!o?!1:c===b||d.includes(C),O=()=>{if(y.has(C))y.set(C,!0);else return;let D=!0;y.forEach(U=>{U||(D=!1)}),D&&(M==null||M(),_(g.current),a&&(l==null||l()),r&&r())};return p.jsx(MY,{isPresent:N,initial:!f.current||n?void 0:!1,custom:N?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:N?void 0:O,children:P},C)})})},oa=t=>t;let V6=oa;function sR(t){let e;return()=>(e===void 0&&(e=t()),e)}const qp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},tc=t=>t*1e3,nc=t=>t/1e3,AY={useManualTiming:!1};function TY(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){s.has(c)&&(l.schedule(c),t()),c(a)}const l={schedule:(c,d=!1,f=!1)=>{const y=f&&r?e:n;return d&&s.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(a=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const Px=["read","resolveKeyframes","update","preRender","render","postRender"],PY=40;function H6(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Px.reduce((_,E)=>(_[E]=TY(s),_),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:f,postRender:g}=a,y=()=>{const _=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,PY),1),i.timestamp=_,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),f.process(i),g.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},x=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:Px.reduce((_,E)=>{const M=a[E];return _[E]=(P,C=!1,N=!1)=>(n||x(),M.schedule(P,C,N)),_},{}),cancel:_=>{for(let E=0;E<Px.length;E++)a[Px[E]].cancel(_)},state:i,steps:a}}const{schedule:or,cancel:Nu,state:Ii,steps:LS}=H6(typeof requestAnimationFrame<"u"?requestAnimationFrame:oa,!0),$6=B.createContext({strict:!1}),j3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xp={};for(const t in j3)Xp[t]={isEnabled:e=>j3[t].some(n=>!!e[n])};function CY(t){for(const e in t)Xp[e]={...Xp[e],...t[e]}}const NY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function h1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||NY.has(t)}let W6=t=>!h1(t);function RY(t){t&&(W6=e=>e.startsWith("on")?!h1(e):t(e))}try{RY(require("@emotion/is-prop-valid").default)}catch{}function kY(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(W6(i)||n===!0&&h1(i)||!e&&!h1(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function OY(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Lw=B.createContext({});function Y0(t){return typeof t=="string"||Array.isArray(t)}function Dw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const aR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oR=["initial",...aR];function jw(t){return Dw(t.animate)||oR.some(e=>Y0(t[e]))}function G6(t){return!!(jw(t)||t.variants)}function IY(t,e){if(jw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Y0(n)?n:void 0,animate:Y0(r)?r:void 0}}return t.inherit!==!1?e:{}}function LY(t){const{initial:e,animate:n}=IY(t,B.useContext(Lw));return B.useMemo(()=>({initial:e,animate:n}),[F3(e),F3(n)])}function F3(t){return Array.isArray(t)?t.join(" "):t}const DY=Symbol.for("motionComponentSymbol");function Ep(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jY(t,e,n){return B.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ep(n)&&(n.current=r))},[e])}const lR=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FY="framerAppearId",q6="data-"+lR(FY),{schedule:cR}=H6(queueMicrotask,!1),X6=B.createContext({});function BY(t,e,n,r,i){var s,a;const{visualElement:o}=B.useContext(Lw),l=B.useContext($6),c=B.useContext(Iw),d=B.useContext(rR).reducedMotion,f=B.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const g=f.current,y=B.useContext(X6);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&UY(f.current,n,i,y);const x=B.useRef(!1);B.useInsertionEffect(()=>{g&&x.current&&g.update(n,c)});const S=n[q6],b=B.useRef(!!S&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,S))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,S)));return z6(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),cR.render(g.render),b.current&&g.animationState&&g.animationState.animateChanges())}),B.useEffect(()=>{g&&(!b.current&&g.animationState&&g.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,S)}),b.current=!1))}),g}function UY(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Y6(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Ep(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function Y6(t){if(t)return t.options.allowProjection!==!1?t.projection:Y6(t.parent)}function zY({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,a;t&&CY(t);function o(c,d){let f;const g={...B.useContext(rR),...c,layoutId:VY(c)},{isStatic:y}=g,x=LY(c),S=r(c,y);if(!y&&iR){HY();const b=$Y(g);f=b.MeasureLayout,x.visualElement=BY(i,S,g,e,b.ProjectionNode)}return p.jsxs(Lw.Provider,{value:x,children:[f&&x.visualElement?p.jsx(f,{visualElement:x.visualElement,...g}):null,n(i,c,jY(S,x.visualElement,d),S,y,x.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const l=B.forwardRef(o);return l[DY]=i,l}function VY({layoutId:t}){const e=B.useContext(tR).id;return e&&t!==void 0?e+"-"+t:t}function HY(t,e){B.useContext($6).strict}function $Y(t){const{drag:e,layout:n}=Xp;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const WY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uR(t){return typeof t!="string"||t.includes("-")?!1:!!(WY.indexOf(t)>-1||/[A-Z]/u.test(t))}function B3(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function dR(t,e,n,r){if(typeof e=="function"){const[i,s]=B3(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=B3(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const oP=t=>Array.isArray(t),GY=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),qY=t=>oP(t)?t[t.length-1]||0:t,Ki=t=>!!(t&&t.getVelocity);function Wb(t){const e=Ki(t)?t.get():t;return GY(e)?e.toValue():e}function XY({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const a={latestValues:YY(r,i,s,t),renderState:e()};return n&&(a.onMount=o=>n({props:r,current:o,...a}),a.onUpdate=o=>n(o)),a}const K6=t=>(e,n)=>{const r=B.useContext(Lw),i=B.useContext(Iw),s=()=>XY(t,e,r,i);return n?s():nR(s)};function YY(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=Wb(s[g]);let{initial:a,animate:o}=t;const l=jw(t),c=G6(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?o:a;if(f&&typeof f!="boolean"&&!Dw(f)){const g=Array.isArray(f)?f:[f];for(let y=0;y<g.length;y++){const x=dR(t,g[y]);if(x){const{transitionEnd:S,transition:b,..._}=x;for(const E in _){let M=_[E];if(Array.isArray(M)){const P=d?M.length-1:0;M=M[P]}M!==null&&(i[E]=M)}for(const E in S)i[E]=S[E]}}}return i}const Rm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zf=new Set(Rm),Z6=t=>e=>typeof e=="string"&&e.startsWith(t),J6=Z6("--"),KY=Z6("var(--"),fR=t=>KY(t)?ZY.test(t.split("/*")[0].trim()):!1,ZY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Q6=(t,e)=>e&&typeof t=="number"?e.transform(t):t,oc=(t,e,n)=>n>e?e:n<t?t:n,km={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},K0={...km,transform:t=>oc(0,1,t)},Cx={...km,default:1},ay=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fu=ay("deg"),qo=ay("%"),Wt=ay("px"),JY=ay("vh"),QY=ay("vw"),U3={...qo,parse:t=>qo.parse(t)/100,transform:t=>qo.transform(t*100)},eK={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,backgroundPositionX:Wt,backgroundPositionY:Wt},tK={rotate:fu,rotateX:fu,rotateY:fu,rotateZ:fu,scale:Cx,scaleX:Cx,scaleY:Cx,scaleZ:Cx,skew:fu,skewX:fu,skewY:fu,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:K0,originX:U3,originY:U3,originZ:Wt},z3={...km,transform:Math.round},hR={...eK,...tK,zIndex:z3,size:Wt,fillOpacity:K0,strokeOpacity:K0,numOctaves:z3},nK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rK=Rm.length;function iK(t,e,n){let r="",i=!0;for(let s=0;s<rK;s++){const a=Rm[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=Q6(o,hR[a]);if(!l){i=!1;const d=nK[a]||a;r+=`${d}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function pR(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(zf.has(l)){a=!0;continue}else if(J6(l)){i[l]=c;continue}else{const d=Q6(c,hR[l]);l.startsWith("origin")?(o=!0,s[l]=d):r[l]=d}}if(e.transform||(a||n?r.transform=iK(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const sK={offset:"stroke-dashoffset",array:"stroke-dasharray"},aK={offset:"strokeDashoffset",array:"strokeDasharray"};function oK(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?sK:aK;t[s.offset]=Wt.transform(-r);const a=Wt.transform(e),o=Wt.transform(n);t[s.array]=`${a} ${o}`}function V3(t,e,n){return typeof t=="string"?t:Wt.transform(e+n*t)}function lK(t,e,n){const r=V3(e,t.x,t.width),i=V3(n,t.y,t.height);return`${r} ${i}`}function mR(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},d,f){if(pR(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y,dimensions:x}=t;g.transform&&(x&&(y.transform=g.transform),delete g.transform),x&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=lK(x,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),a!==void 0&&oK(g,a,o,l,!1)}const gR=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),e8=()=>({...gR(),attrs:{}}),vR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function t8(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const n8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function r8(t,e,n,r){t8(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(n8.has(i)?i:lR(i),e.attrs[i])}const p1={};function cK(t){Object.assign(p1,t)}function i8(t,{layout:e,layoutId:n}){return zf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!p1[t]||t==="opacity")}function yR(t,e,n){var r;const{style:i}=t,s={};for(const a in i)(Ki(i[a])||e.style&&Ki(e.style[a])||i8(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function s8(t,e,n){const r=yR(t,e,n);for(const i in t)if(Ki(t[i])||Ki(e[i])){const s=Rm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function uK(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const H3=["x","y","width","height","cx","cy","r"],dK={useVisualState:K6({scrapeMotionValuesFromProps:s8,createRenderState:e8,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const o in i)if(zf.has(o)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let o=0;o<H3.length;o++){const l=H3[o];t[l]!==e[l]&&(a=!0)}a&&or.read(()=>{uK(n,r),or.render(()=>{mR(r,i,vR(n.tagName),t.transformTemplate),r8(n,r)})})}})},fK={useVisualState:K6({scrapeMotionValuesFromProps:yR,createRenderState:gR})};function a8(t,e,n){for(const r in e)!Ki(e[r])&&!i8(r,n)&&(t[r]=e[r])}function hK({transformTemplate:t},e){return B.useMemo(()=>{const n=gR();return pR(n,e,t),Object.assign({},n.vars,n.style)},[e])}function pK(t,e){const n=t.style||{},r={};return a8(r,n,t),Object.assign(r,hK(t,e)),r}function mK(t,e){const n={},r=pK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function gK(t,e,n,r){const i=B.useMemo(()=>{const s=e8();return mR(s,e,vR(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};a8(s,t.style,t),i.style={...s,...i.style}}return i}function vK(t=!1){return(n,r,i,{latestValues:s},a)=>{const l=(uR(n)?gK:mK)(r,s,a,n),c=kY(r,typeof n=="string",t),d=n!==B.Fragment?{...c,...l,ref:i}:{},{children:f}=r,g=B.useMemo(()=>Ki(f)?f.get():f,[f]);return B.createElement(n,{...d,children:g})}}function yK(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...uR(r)?dK:fK,preloadedFeatures:t,useRender:vK(i),createVisualElement:e,Component:r};return zY(a)}}function o8(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Fw(t,e,n){const r=t.getProps();return dR(r,e,n!==void 0?n:r.custom,t)}const xK=sR(()=>window.ScrollTimeline!==void 0);class bK{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(xK()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class wK extends bK{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function xR(t,e){return t?t[e]||t.default||t:void 0}const lP=2e4;function l8(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<lP;)e+=n,r=t.next(e);return e>=lP?1/0:e}function bR(t){return typeof t=="function"}function $3(t,e){t.timeline=e,t.onfinish=null}const wR=t=>Array.isArray(t)&&typeof t[0]=="number",_K={linearEasing:void 0};function SK(t,e){const n=sR(t);return()=>{var r;return(r=_K[e])!==null&&r!==void 0?r:n()}}const m1=SK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),c8=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(qp(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function u8(t){return!!(typeof t=="function"&&m1()||!t||typeof t=="string"&&(t in cP||m1())||wR(t)||Array.isArray(t)&&t.every(u8))}const w0=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,cP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:w0([0,.65,.55,1]),circOut:w0([.55,0,1,.45]),backIn:w0([.31,.01,.66,-.59]),backOut:w0([.33,1.53,.69,.99])};function d8(t,e){if(t)return typeof t=="function"&&m1()?c8(t,e):wR(t)?w0(t):Array.isArray(t)?t.map(n=>d8(n,e)||cP.easeOut):cP[t]}const ho={x:!1,y:!1};function f8(){return ho.x||ho.y}function MK(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function h8(t,e){const n=MK(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function W3(t){return e=>{e.pointerType==="touch"||f8()||t(e)}}function EK(t,e,n={}){const[r,i,s]=h8(t,n),a=W3(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const d=W3(f=>{c(f),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const p8=(t,e)=>e?t===e?!0:p8(t,e.parentElement):!1,_R=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,AK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TK(t){return AK.has(t.tagName)||t.tabIndex!==-1}const _0=new WeakSet;function G3(t){return e=>{e.key==="Enter"&&t(e)}}function DS(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const PK=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=G3(()=>{if(_0.has(n))return;DS(n,"down");const i=G3(()=>{DS(n,"up")}),s=()=>DS(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function q3(t){return _R(t)&&!f8()}function CK(t,e,n={}){const[r,i,s]=h8(t,n),a=o=>{const l=o.currentTarget;if(!q3(o)||_0.has(l))return;_0.add(l);const c=e(o),d=(y,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),!(!q3(y)||!_0.has(l))&&(_0.delete(l),typeof c=="function"&&c(y,{success:x}))},f=y=>{d(y,n.useGlobalTarget||p8(l,y.target))},g=y=>{d(y,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",g,i)};return r.forEach(o=>{!TK(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",c=>PK(c,i),i)}),s}function NK(t){return t==="x"||t==="y"?ho[t]?null:(ho[t]=!0,()=>{ho[t]=!1}):ho.x||ho.y?null:(ho.x=ho.y=!0,()=>{ho.x=ho.y=!1})}const m8=new Set(["width","height","top","left","right","bottom",...Rm]);let Gb;function RK(){Gb=void 0}const Xo={now:()=>(Gb===void 0&&Xo.set(Ii.isProcessing||AY.useManualTiming?Ii.timestamp:performance.now()),Gb),set:t=>{Gb=t,queueMicrotask(RK)}};function SR(t,e){t.indexOf(e)===-1&&t.push(e)}function MR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ER{constructor(){this.subscriptions=[]}add(e){return SR(this.subscriptions,e),()=>MR(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function g8(t,e){return e?t*(1e3/e):0}const X3=30,kK=t=>!isNaN(parseFloat(t));class OK{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Xo.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ER);const r=this.events[e].add(n);return e==="change"?()=>{r(),or.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>X3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,X3);return g8(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Z0(t,e){return new OK(t,e)}function IK(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Z0(n))}function LK(t,e){const n=Fw(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=qY(s[a]);IK(t,a,o)}}function DK(t){return!!(Ki(t)&&t.add)}function uP(t,e){const n=t.getValue("willChange");if(DK(n))return n.add(e)}function v8(t){return t.props[q6]}const y8=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jK=1e-7,FK=12;function BK(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=y8(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>jK&&++o<FK);return a}function oy(t,e,n,r){if(t===e&&n===r)return oa;const i=s=>BK(s,0,1,t,n);return s=>s===0||s===1?s:y8(i(s),e,r)}const x8=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,b8=t=>e=>1-t(1-e),w8=oy(.33,1.53,.69,.99),AR=b8(w8),_8=x8(AR),S8=t=>(t*=2)<1?.5*AR(t):.5*(2-Math.pow(2,-10*(t-1))),TR=t=>1-Math.sin(Math.acos(t)),M8=b8(TR),E8=x8(TR),A8=t=>/^0[^.\s]+$/u.test(t);function UK(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||A8(t):!0}const N0=t=>Math.round(t*1e5)/1e5,PR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zK(t){return t==null}const VK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,CR=(t,e)=>n=>!!(typeof n=="string"&&VK.test(n)&&n.startsWith(t)||e&&!zK(n)&&Object.prototype.hasOwnProperty.call(n,e)),T8=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(PR);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},HK=t=>oc(0,255,t),jS={...km,transform:t=>Math.round(HK(t))},cf={test:CR("rgb","red"),parse:T8("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+jS.transform(t)+", "+jS.transform(e)+", "+jS.transform(n)+", "+N0(K0.transform(r))+")"};function $K(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const dP={test:CR("#"),parse:$K,transform:cf.transform},Ap={test:CR("hsl","hue"),parse:T8("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+qo.transform(N0(e))+", "+qo.transform(N0(n))+", "+N0(K0.transform(r))+")"},Gi={test:t=>cf.test(t)||dP.test(t)||Ap.test(t),parse:t=>cf.test(t)?cf.parse(t):Ap.test(t)?Ap.parse(t):dP.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?cf.transform(t):Ap.transform(t)},WK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GK(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(PR))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(WK))===null||n===void 0?void 0:n.length)||0)>0}const P8="number",C8="color",qK="var",XK="var(",Y3="${}",YK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function J0(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(YK,l=>(Gi.test(l)?(r.color.push(s),i.push(C8),n.push(Gi.parse(l))):l.startsWith(XK)?(r.var.push(s),i.push(qK),n.push(l)):(r.number.push(s),i.push(P8),n.push(parseFloat(l))),++s,Y3)).split(Y3);return{values:n,split:o,indexes:r,types:i}}function N8(t){return J0(t).values}function R8(t){const{split:e,types:n}=J0(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===P8?s+=N0(i[a]):o===C8?s+=Gi.transform(i[a]):s+=i[a]}return s}}const KK=t=>typeof t=="number"?0:t;function ZK(t){const e=N8(t);return R8(t)(e.map(KK))}const Ru={test:GK,parse:N8,createTransformer:R8,getAnimatableNone:ZK},JK=new Set(["brightness","contrast","saturate","opacity"]);function QK(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(PR)||[];if(!r)return t;const i=n.replace(r,"");let s=JK.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const eZ=/\b([a-z-]*)\(.*?\)/gu,fP={...Ru,getAnimatableNone:t=>{const e=t.match(eZ);return e?e.map(QK).join(" "):t}},tZ={...hR,color:Gi,backgroundColor:Gi,outlineColor:Gi,fill:Gi,stroke:Gi,borderColor:Gi,borderTopColor:Gi,borderRightColor:Gi,borderBottomColor:Gi,borderLeftColor:Gi,filter:fP,WebkitFilter:fP},NR=t=>tZ[t];function k8(t,e){let n=NR(t);return n!==fP&&(n=Ru),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const nZ=new Set(["auto","none","0"]);function rZ(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!nZ.has(s)&&J0(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=k8(n,i)}const K3=t=>t===km||t===Wt,Z3=(t,e)=>parseFloat(t.split(", ")[e]),J3=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Z3(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?Z3(s[1],t):0}},iZ=new Set(["x","y","z"]),sZ=Rm.filter(t=>!iZ.has(t));function aZ(t){const e=[];return sZ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Yp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:J3(4,13),y:J3(5,14)};Yp.translateX=Yp.x;Yp.translateY=Yp.y;const bf=new Set;let hP=!1,pP=!1;function O8(){if(pP){const t=Array.from(bf).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=aZ(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pP=!1,hP=!1,bf.forEach(t=>t.complete()),bf.clear()}function I8(){bf.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(pP=!0)})}function oZ(){I8(),O8()}class RR{constructor(e,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bf.add(this),hP||(hP=!0,or.read(I8),or.resolveKeyframes(O8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const L8=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),lZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cZ(t){const e=lZ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function D8(t,e,n=1){const[r,i]=cZ(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return L8(a)?parseFloat(a):a}return fR(i)?D8(i,e,n+1):i}const j8=t=>e=>e.test(t),uZ={test:t=>t==="auto",parse:t=>t},F8=[km,Wt,qo,fu,QY,JY,uZ],Q3=t=>F8.find(j8(t));class B8 extends RR{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),fR(c))){const d=D8(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!m8.has(r)||e.length!==2)return;const[i,s]=e,a=Q3(i),o=Q3(s);if(a!==o)if(K3(a)&&K3(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)UK(e[i])&&r.push(i);r.length&&rZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=Yp[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const eI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ru.test(t)||t==="0")&&!t.startsWith("url("));function dZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function fZ(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=eI(i,e),o=eI(s,e);return!a||!o?!1:dZ(t)||(n==="spring"||bR(n))&&r}const hZ=t=>t!==null;function Bw(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(hZ),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const pZ=40;class U8{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Xo.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pZ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oZ(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Xo.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!fZ(e,r,i,s))if(a)this.options.duration=0;else{l&&l(Bw(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const br=(t,e,n)=>t+(e-t)*n;function FS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mZ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=FS(l,o,t+1/3),s=FS(l,o,t),a=FS(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function g1(t,e){return n=>n>0?e:t}const BS=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},gZ=[dP,cf,Ap],vZ=t=>gZ.find(e=>e.test(t));function tI(t){const e=vZ(t);if(!e)return!1;let n=e.parse(t);return e===Ap&&(n=mZ(n)),n}const nI=(t,e)=>{const n=tI(t),r=tI(e);if(!n||!r)return g1(t,e);const i={...n};return s=>(i.red=BS(n.red,r.red,s),i.green=BS(n.green,r.green,s),i.blue=BS(n.blue,r.blue,s),i.alpha=br(n.alpha,r.alpha,s),cf.transform(i))},yZ=(t,e)=>n=>e(t(n)),ly=(...t)=>t.reduce(yZ),mP=new Set(["none","hidden"]);function xZ(t,e){return mP.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function bZ(t,e){return n=>br(t,e,n)}function kR(t){return typeof t=="number"?bZ:typeof t=="string"?fR(t)?g1:Gi.test(t)?nI:SZ:Array.isArray(t)?z8:typeof t=="object"?Gi.test(t)?nI:wZ:g1}function z8(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>kR(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function wZ(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=kR(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function _Z(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[s]=l,i[a]++}return r}const SZ=(t,e)=>{const n=Ru.createTransformer(e),r=J0(t),i=J0(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?mP.has(t)&&!i.values.length||mP.has(e)&&!r.values.length?xZ(t,e):ly(z8(_Z(r,i),i.values),n):g1(t,e)};function V8(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?br(t,e,n):kR(t)(t,e)}const MZ=5;function H8(t,e,n){const r=Math.max(e-MZ,0);return g8(n-t(r),e-r)}const Ar={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rI=.001;function EZ({duration:t=Ar.duration,bounce:e=Ar.bounce,velocity:n=Ar.velocity,mass:r=Ar.mass}){let i,s,a=1-e;a=oc(Ar.minDamping,Ar.maxDamping,a),t=oc(Ar.minDuration,Ar.maxDuration,nc(t)),a<1?(i=c=>{const d=c*a,f=d*t,g=d-n,y=gP(c,a),x=Math.exp(-f);return rI-g/y*x},s=c=>{const f=c*a*t,g=f*n+n,y=Math.pow(a,2)*Math.pow(c,2)*t,x=Math.exp(-f),S=gP(Math.pow(c,2),a);return(-i(c)+rI>0?-1:1)*((g-y)*x)/S}):(i=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-.001+d*f},s=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const o=5/t,l=TZ(i,s,o);if(t=tc(t),isNaN(l))return{stiffness:Ar.stiffness,damping:Ar.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const AZ=12;function TZ(t,e,n){let r=n;for(let i=1;i<AZ;i++)r=r-t(r)/e(r);return r}function gP(t,e){return t*Math.sqrt(1-e*e)}const PZ=["duration","bounce"],CZ=["stiffness","damping","mass"];function iI(t,e){return e.some(n=>t[n]!==void 0)}function NZ(t){let e={velocity:Ar.velocity,stiffness:Ar.stiffness,damping:Ar.damping,mass:Ar.mass,isResolvedFromDuration:!1,...t};if(!iI(t,CZ)&&iI(t,PZ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*oc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ar.mass,stiffness:i,damping:s}}else{const n=EZ(t);e={...e,...n,mass:Ar.mass},e.isResolvedFromDuration=!0}return e}function $8(t=Ar.visualDuration,e=Ar.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:g,isResolvedFromDuration:y}=NZ({...n,velocity:-nc(n.velocity||0)}),x=g||0,S=c/(2*Math.sqrt(l*d)),b=a-s,_=nc(Math.sqrt(l/d)),E=Math.abs(b)<5;r||(r=E?Ar.restSpeed.granular:Ar.restSpeed.default),i||(i=E?Ar.restDelta.granular:Ar.restDelta.default);let M;if(S<1){const C=gP(_,S);M=N=>{const O=Math.exp(-S*_*N);return a-O*((x+S*_*b)/C*Math.sin(C*N)+b*Math.cos(C*N))}}else if(S===1)M=C=>a-Math.exp(-_*C)*(b+(x+_*b)*C);else{const C=_*Math.sqrt(S*S-1);M=N=>{const O=Math.exp(-S*_*N),D=Math.min(C*N,300);return a-O*((x+S*_*b)*Math.sinh(D)+C*b*Math.cosh(D))/C}}const P={calculatedDuration:y&&f||null,next:C=>{const N=M(C);if(y)o.done=C>=f;else{let O=0;S<1&&(O=C===0?tc(x):H8(M,C,N));const D=Math.abs(O)<=r,U=Math.abs(a-N)<=i;o.done=D&&U}return o.value=o.done?a:N,o},toString:()=>{const C=Math.min(l8(P),lP),N=c8(O=>P.next(C*O).value,C,30);return C+"ms "+N}};return P}function sI({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],g={done:!1,value:f},y=D=>o!==void 0&&D<o||l!==void 0&&D>l,x=D=>o===void 0?l:l===void 0||Math.abs(o-D)<Math.abs(l-D)?o:l;let S=n*e;const b=f+S,_=a===void 0?b:a(b);_!==b&&(S=_-f);const E=D=>-S*Math.exp(-D/r),M=D=>_+E(D),P=D=>{const U=E(D),L=M(D);g.done=Math.abs(U)<=c,g.value=g.done?_:L};let C,N;const O=D=>{y(g.value)&&(C=D,N=$8({keyframes:[g.value,x(g.value)],velocity:H8(M,D,g.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return O(0),{calculatedDuration:null,next:D=>{let U=!1;return!N&&C===void 0&&(U=!0,P(D),O(D)),C!==void 0&&D>=C?N.next(D-C):(!U&&P(D),g)}}}const RZ=oy(.42,0,1,1),kZ=oy(0,0,.58,1),W8=oy(.42,0,.58,1),OZ=t=>Array.isArray(t)&&typeof t[0]!="number",IZ={linear:oa,easeIn:RZ,easeInOut:W8,easeOut:kZ,circIn:TR,circInOut:E8,circOut:M8,backIn:AR,backInOut:_8,backOut:w8,anticipate:S8},aI=t=>{if(wR(t)){V6(t.length===4);const[e,n,r,i]=t;return oy(e,n,r,i)}else if(typeof t=="string")return IZ[t];return t};function LZ(t,e,n){const r=[],i=n||V8,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||oa:e;o=ly(l,o)}r.push(o)}return r}function DZ(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(V6(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=LZ(e,r,i),l=o.length,c=d=>{if(a&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const g=qp(t[f],t[f+1],d);return o[f](g)};return n?d=>c(oc(t[0],t[s-1],d)):c}function jZ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=qp(0,e,r);t.push(br(n,1,i))}}function FZ(t){const e=[0];return jZ(e,t.length-1),e}function BZ(t,e){return t.map(n=>n*e)}function UZ(t,e){return t.map(()=>e||W8).splice(0,t.length-1)}function v1({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=OZ(r)?r.map(aI):aI(r),s={done:!1,value:e[0]},a=BZ(n&&n.length===e.length?n:FZ(e),t),o=DZ(a,e,{ease:Array.isArray(i)?i:UZ(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const zZ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>or.update(e,!0),stop:()=>Nu(e),now:()=>Ii.isProcessing?Ii.timestamp:Xo.now()}},VZ={decay:sI,inertia:sI,tween:v1,keyframes:v1,spring:$8},HZ=t=>t/100;class OR extends U8{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||RR,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(s,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=bR(n)?n:VZ[n]||v1;let l,c;o!==v1&&typeof e[0]!="number"&&(l=ly(HZ,V8(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});s==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=l8(d));const{calculatedDuration:f}=d,g=f+i,y=g*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:g,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:g,repeat:y,repeatType:x,repeatDelay:S,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-g*(this.speed>=0?1:-1),E=this.speed>=0?_<0:_>d;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let M=this.currentTime,P=s;if(y){const D=Math.min(this.currentTime,d)/f;let U=Math.floor(D),L=D%1;!L&&D>=1&&(L=1),L===1&&U--,U=Math.min(U,y+1),!!(U%2)&&(x==="reverse"?(L=1-L,S&&(L-=S/f)):x==="mirror"&&(P=a)),M=oc(0,1,L)*f}const C=E?{done:!1,value:l[0]}:P.next(M);o&&(C.value=o(C.value));let{done:N}=C;!E&&c!==null&&(N=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return O&&i!==void 0&&(C.value=Bw(l,this.options,i)),b&&b(C.value),O&&this.finish(),C}get duration(){const{resolved:e}=this;return e?nc(e.calculatedDuration):0}get time(){return nc(this.currentTime)}set time(e){e=tc(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=nc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=zZ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const $Z=new Set(["opacity","clipPath","filter","transform"]);function WZ(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=d8(o,i);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const GZ=sR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),y1=10,qZ=2e4;function XZ(t){return bR(t.type)||t.type==="spring"||!u8(t.ease)}function YZ(t,e){const n=new OR({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<qZ;)r=n.sample(s),i.push(r.value),s+=y1;return{times:void 0,keyframes:i,duration:s-y1,ease:"linear"}}const G8={anticipate:S8,backInOut:_8,circInOut:E8};function KZ(t){return t in G8}class oI extends U8{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new B8(s,(a,o)=>this.onKeyframesResolved(a,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&m1()&&KZ(s)&&(s=G8[s]),XZ(this.options)){const{onComplete:f,onUpdate:g,motionValue:y,element:x,...S}=this.options,b=YZ(e,S);e=b.keyframes,e.length===1&&(e[1]=e[0]),r=b.duration,i=b.times,s=b.ease,a="keyframes"}const d=WZ(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?($3(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;o.set(Bw(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return nc(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return nc(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=tc(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return oa;const{animation:r}=n;$3(r,e)}return oa}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:f,element:g,...y}=this.options,x=new OR({...y,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),S=tc(this.time);c.setWithVelocity(x.sample(S-y1).value,x.sample(S).value,y1)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return GZ()&&r&&$Z.has(r)&&!l&&!c&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const ZZ={type:"spring",stiffness:500,damping:25,restSpeed:10},JZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QZ={type:"keyframes",duration:.8},eJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tJ=(t,{keyframes:e})=>e.length>2?QZ:zf.has(t)?t.startsWith("scale")?JZ(e[1]):ZZ:eJ;function nJ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const IR=(t,e,n,r={},i,s)=>a=>{const o=xR(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-tc(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};nJ(o)||(d={...d,...tJ(t,d)}),d.duration&&(d.duration=tc(d.duration)),d.repeatDelay&&(d.repeatDelay=tc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const g=Bw(d.keyframes,o);if(g!==void 0)return or.update(()=>{d.onUpdate(g),d.onComplete()}),new wK([])}return!s&&oI.supports(d)?new oI(d):new OR(d)};function rJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function q8(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const g=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),y=l[f];if(y===void 0||d&&rJ(d,f))continue;const x={delay:n,...xR(a||{},f)};let S=!1;if(window.MotionHandoffAnimation){const _=v8(t);if(_){const E=window.MotionHandoffAnimation(_,f,or);E!==null&&(x.startTime=E,S=!0)}}uP(t,f),g.start(IR(f,g,y,t.shouldReduceMotion&&m8.has(f)?{type:!1}:x,t,S));const b=g.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{or.update(()=>{o&&LK(t,o)})}),c}function vP(t,e,n={}){var r;const i=Fw(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(q8(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:g}=s;return iJ(t,e,d+c,f,g,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function iJ(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(sJ).forEach((c,d)=>{c.notify("AnimationStart",e),a.push(vP(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function sJ(t,e){return t.sortNodePosition(e)}function aJ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>vP(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=vP(t,e,n);else{const i=typeof e=="function"?Fw(t,e,n.custom):e;r=Promise.all(q8(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const oJ=oR.length;function X8(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?X8(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<oJ;n++){const r=oR[n],i=t.props[r];(Y0(i)||i===!1)&&(e[r]=i)}return e}const lJ=[...aR].reverse(),cJ=aR.length;function uJ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>aJ(t,n,r)))}function dJ(t){let e=uJ(t),n=lI(),r=!0;const i=l=>(c,d)=>{var f;const g=Fw(t,d,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(g){const{transition:y,transitionEnd:x,...S}=g;c={...c,...S,...x}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,d=X8(t.parent)||{},f=[],g=new Set;let y={},x=1/0;for(let b=0;b<cJ;b++){const _=lJ[b],E=n[_],M=c[_]!==void 0?c[_]:d[_],P=Y0(M),C=_===l?E.isActive:null;C===!1&&(x=b);let N=M===d[_]&&M!==c[_]&&P;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),E.protectedKeys={...y},!E.isActive&&C===null||!M&&!E.prevProp||Dw(M)||typeof M=="boolean")continue;const O=fJ(E.prevProp,M);let D=O||_===l&&E.isActive&&!N&&P||b>x&&P,U=!1;const L=Array.isArray(M)?M:[M];let I=L.reduce(i(_),{});C===!1&&(I={});const{prevResolvedValues:$={}}=E,X={...$,...I},V=re=>{D=!0,g.has(re)&&(U=!0,g.delete(re)),E.needsAnimating[re]=!0;const H=t.getValue(re);H&&(H.liveStyle=!1)};for(const re in X){const H=I[re],J=$[re];if(y.hasOwnProperty(re))continue;let K=!1;oP(H)&&oP(J)?K=!o8(H,J):K=H!==J,K?H!=null?V(re):g.add(re):H!==void 0&&g.has(re)?V(re):E.protectedKeys[re]=!0}E.prevProp=M,E.prevResolvedValues=I,E.isActive&&(y={...y,...I}),r&&t.blockInitialAnimation&&(D=!1),D&&(!(N&&O)||U)&&f.push(...L.map(re=>({animation:re,options:{type:_}})))}if(g.size){const b={};g.forEach(_=>{const E=t.getBaseTarget(_),M=t.getValue(_);M&&(M.liveStyle=!0),b[_]=E??null}),f.push({animation:b})}let S=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(f):Promise.resolve()}function o(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(g=>{var y;return(y=g.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const f=a(l);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=lI(),r=!0}}}function fJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!o8(e,t):!1}function Id(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lI(){return{animate:Id(!0),whileInView:Id(),whileHover:Id(),whileTap:Id(),whileDrag:Id(),whileFocus:Id(),exit:Id()}}class Fu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class hJ extends Fu{constructor(e){super(e),e.animationState||(e.animationState=dJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Dw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let pJ=0;class mJ extends Fu{constructor(){super(...arguments),this.id=pJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const gJ={animation:{Feature:hJ},exit:{Feature:mJ}};function Q0(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function cy(t){return{point:{x:t.pageX,y:t.pageY}}}const vJ=t=>e=>_R(e)&&t(e,cy(e));function R0(t,e,n,r){return Q0(t,e,vJ(n),r)}const cI=(t,e)=>Math.abs(t-e);function yJ(t,e){const n=cI(t.x,e.x),r=cI(t.y,e.y);return Math.sqrt(n**2+r**2)}class Y8{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=zS(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=yJ(f.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:x}=f,{timestamp:S}=Ii;this.history.push({...x,timestamp:S});const{onStart:b,onMove:_}=this.handlers;g||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=US(g,this.transformPagePoint),or.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=zS(f.type==="pointercancel"?this.lastMoveEventInfo:US(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,b),x&&x(f,b)},!_R(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=cy(e),o=US(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Ii;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,zS(o,this.history)),this.removeListeners=ly(R0(this.contextWindow,"pointermove",this.handlePointerMove),R0(this.contextWindow,"pointerup",this.handlePointerUp),R0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nu(this.updatePoint)}}function US(t,e){return e?{point:e(t.point)}:t}function uI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zS({point:t},e){return{point:t,delta:uI(t,K8(e)),offset:uI(t,xJ(e)),velocity:bJ(e,.1)}}function xJ(t){return t[0]}function K8(t){return t[t.length-1]}function bJ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=K8(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>tc(e)));)n--;if(!r)return{x:0,y:0};const s=nc(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const Z8=1e-4,wJ=1-Z8,_J=1+Z8,J8=.01,SJ=0-J8,MJ=0+J8;function da(t){return t.max-t.min}function EJ(t,e,n){return Math.abs(t-e)<=n}function dI(t,e,n,r=.5){t.origin=r,t.originPoint=br(e.min,e.max,t.origin),t.scale=da(n)/da(e),t.translate=br(n.min,n.max,t.origin)-t.originPoint,(t.scale>=wJ&&t.scale<=_J||isNaN(t.scale))&&(t.scale=1),(t.translate>=SJ&&t.translate<=MJ||isNaN(t.translate))&&(t.translate=0)}function k0(t,e,n,r){dI(t.x,e.x,n.x,r?r.originX:void 0),dI(t.y,e.y,n.y,r?r.originY:void 0)}function fI(t,e,n){t.min=n.min+e.min,t.max=t.min+da(e)}function AJ(t,e,n){fI(t.x,e.x,n.x),fI(t.y,e.y,n.y)}function hI(t,e,n){t.min=e.min-n.min,t.max=t.min+da(e)}function O0(t,e,n){hI(t.x,e.x,n.x),hI(t.y,e.y,n.y)}function TJ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?br(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?br(n,t,r.max):Math.min(t,n)),t}function pI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function PJ(t,{top:e,left:n,bottom:r,right:i}){return{x:pI(t.x,n,i),y:pI(t.y,e,r)}}function mI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function CJ(t,e){return{x:mI(t.x,e.x),y:mI(t.y,e.y)}}function NJ(t,e){let n=.5;const r=da(t),i=da(e);return i>r?n=qp(e.min,e.max-r,t.min):r>i&&(n=qp(t.min,t.max-i,e.min)),oc(0,1,n)}function RJ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const yP=.35;function kJ(t=yP){return t===!1?t=0:t===!0&&(t=yP),{x:gI(t,"left","right"),y:gI(t,"top","bottom")}}function gI(t,e,n){return{min:vI(t,e),max:vI(t,n)}}function vI(t,e){return typeof t=="number"?t:t[e]||0}const yI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tp=()=>({x:yI(),y:yI()}),xI=()=>({min:0,max:0}),Ir=()=>({x:xI(),y:xI()});function Ca(t){return[t("x"),t("y")]}function Q8({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function OJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function IJ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function VS(t){return t===void 0||t===1}function xP({scale:t,scaleX:e,scaleY:n}){return!VS(t)||!VS(e)||!VS(n)}function Zd(t){return xP(t)||eV(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function eV(t){return bI(t.x)||bI(t.y)}function bI(t){return t&&t!=="0%"}function x1(t,e,n){const r=t-n,i=e*r;return n+i}function wI(t,e,n,r,i){return i!==void 0&&(t=x1(t,i,r)),x1(t,n,r)+e}function bP(t,e=0,n=1,r,i){t.min=wI(t.min,e,n,r,i),t.max=wI(t.max,e,n,r,i)}function tV(t,{x:e,y:n}){bP(t.x,e.translate,e.scale,e.originPoint),bP(t.y,n.translate,n.scale,n.originPoint)}const _I=.999999999999,SI=1.0000000000001;function LJ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Cp(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,tV(t,a)),r&&Zd(s.latestValues)&&Cp(t,s.latestValues))}e.x<SI&&e.x>_I&&(e.x=1),e.y<SI&&e.y>_I&&(e.y=1)}function Pp(t,e){t.min=t.min+e,t.max=t.max+e}function MI(t,e,n,r,i=.5){const s=br(t.min,t.max,i);bP(t,e,n,s,r)}function Cp(t,e){MI(t.x,e.x,e.scaleX,e.scale,e.originX),MI(t.y,e.y,e.scaleY,e.scale,e.originY)}function nV(t,e){return Q8(IJ(t.getBoundingClientRect(),e))}function DJ(t,e,n){const r=nV(t,n),{scroll:i}=e;return i&&(Pp(r.x,i.offset.x),Pp(r.y,i.offset.y)),r}const rV=({current:t})=>t?t.ownerDocument.defaultView:null,jJ=new WeakMap;class FJ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ir(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cy(d).point)},s=(d,f)=>{const{drag:g,dragPropagation:y,onDragStart:x}=this.getProps();if(g&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NK(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ca(b=>{let _=this.getAxisMotionValue(b).get()||0;if(qo.test(_)){const{projection:E}=this.visualElement;if(E&&E.layout){const M=E.layout.layoutBox[b];M&&(_=da(M)*(parseFloat(_)/100))}}this.originPoint[b]=_}),x&&or.postRender(()=>x(d,f)),uP(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:x,onDrag:S}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:b}=f;if(y&&this.currentDirection===null){this.currentDirection=BJ(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),S&&S(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Ca(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Y8(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:rV(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&or.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Nx(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=TJ(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ep(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=PJ(i.layoutBox,n):this.constraints=!1,this.elastic=kJ(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ca(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=RJ(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ep(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=DJ(r,i.root,this.visualElement.getTransformPagePoint());let a=CJ(i.layout.layoutBox,s);if(n){const o=n(OJ(a));this.hasMutatedConstraints=!!o,o&&(a=Q8(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ca(d=>{if(!Nx(d,n,this.currentDirection))return;let f=l&&l[d]||{};a&&(f={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return uP(this.visualElement,e),r.start(IR(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ca(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ca(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ca(n=>{const{drag:r}=this.getProps();if(!Nx(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-br(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ep(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ca(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=NJ({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ca(a=>{if(!Nx(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(br(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;jJ.set(this.visualElement,this);const e=this.visualElement.current,n=R0(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ep(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),or.read(r);const a=Q0(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ca(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=yP,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Nx(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BJ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class UJ extends Fu{constructor(e){super(e),this.removeGroupControls=oa,this.removeListeners=oa,this.controls=new FJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oa}unmount(){this.removeGroupControls(),this.removeListeners()}}const EI=t=>(e,n)=>{t&&or.postRender(()=>t(e,n))};class zJ extends Fu{constructor(){super(...arguments),this.removePointerDownListener=oa}onPointerDown(e){this.session=new Y8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:EI(e),onStart:EI(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&or.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=R0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Wt.test(t))t=parseFloat(t);else return t;const n=AI(t,e.target.x),r=AI(t,e.target.y);return`${n}% ${r}%`}},VJ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ru.parse(t);if(i.length>5)return r;const s=Ru.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=br(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};class HJ extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;cK($J),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),qb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||or.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iV(t){const[e,n]=U6(),r=B.useContext(tR);return p.jsx(HJ,{...t,layoutGroup:r,switchLayoutGroup:B.useContext(X6),isPresent:e,safeToRemove:n})}const $J={borderRadius:{...Xg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xg,borderTopRightRadius:Xg,borderBottomLeftRadius:Xg,borderBottomRightRadius:Xg,boxShadow:VJ};function WJ(t,e,n){const r=Ki(t)?t:Z0(t);return r.start(IR("",r,e,n)),r.animation}function GJ(t){return t instanceof SVGElement&&t.tagName!=="svg"}const qJ=(t,e)=>t.depth-e.depth;class XJ{constructor(){this.children=[],this.isDirty=!1}add(e){SR(this.children,e),this.isDirty=!0}remove(e){MR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qJ),this.isDirty=!1,this.children.forEach(e)}}function YJ(t,e){const n=Xo.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Nu(r),t(s-e))};return or.read(r,!0),()=>Nu(r)}const sV=["TopLeft","TopRight","BottomLeft","BottomRight"],KJ=sV.length,TI=t=>typeof t=="string"?parseFloat(t):t,PI=t=>typeof t=="number"||Wt.test(t);function ZJ(t,e,n,r,i,s){i?(t.opacity=br(0,n.opacity!==void 0?n.opacity:1,JJ(r)),t.opacityExit=br(e.opacity!==void 0?e.opacity:1,0,QJ(r))):s&&(t.opacity=br(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<KJ;a++){const o=`border${sV[a]}Radius`;let l=CI(e,o),c=CI(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||PI(l)===PI(c)?(t[o]=Math.max(br(TI(l),TI(c),r),0),(qo.test(c)||qo.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=br(e.rotate||0,n.rotate||0,r))}function CI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const JJ=aV(0,.5,M8),QJ=aV(.5,.95,oa);function aV(t,e,n){return r=>r<t?0:r>e?1:n(qp(t,e,r))}function NI(t,e){t.min=e.min,t.max=e.max}function Ma(t,e){NI(t.x,e.x),NI(t.y,e.y)}function RI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kI(t,e,n,r,i){return t-=e,t=x1(t,1/n,r),i!==void 0&&(t=x1(t,1/i,r)),t}function eQ(t,e=0,n=1,r=.5,i,s=t,a=t){if(qo.test(e)&&(e=parseFloat(e),e=br(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=br(s.min,s.max,r);t===s&&(o-=e),t.min=kI(t.min,e,n,o,i),t.max=kI(t.max,e,n,o,i)}function OI(t,e,[n,r,i],s,a){eQ(t,e[n],e[r],e[i],e.scale,s,a)}const tQ=["x","scaleX","originX"],nQ=["y","scaleY","originY"];function II(t,e,n,r){OI(t.x,e,tQ,n?n.x:void 0,r?r.x:void 0),OI(t.y,e,nQ,n?n.y:void 0,r?r.y:void 0)}function LI(t){return t.translate===0&&t.scale===1}function oV(t){return LI(t.x)&&LI(t.y)}function DI(t,e){return t.min===e.min&&t.max===e.max}function rQ(t,e){return DI(t.x,e.x)&&DI(t.y,e.y)}function jI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function lV(t,e){return jI(t.x,e.x)&&jI(t.y,e.y)}function FI(t){return da(t.x)/da(t.y)}function BI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class iQ{constructor(){this.members=[]}add(e){SR(this.members,e),e.scheduleRender()}remove(e){if(MR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sQ(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:g,skewX:y,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),g&&(r+=`rotateY(${g}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Jd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},S0=typeof window<"u"&&window.MotionDebug!==void 0,HS=["","X","Y","Z"],aQ={visibility:"hidden"},UI=1e3;let oQ=0;function $S(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=v8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",or,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cV(r)}function uV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=oQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,S0&&(Jd.totalNodes=Jd.resolvedTargetDeltas=Jd.recalculatedProjection=0),this.nodes.forEach(uQ),this.nodes.forEach(mQ),this.nodes.forEach(gQ),this.nodes.forEach(dQ),S0&&window.MotionDebug.record(Jd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new XJ)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ER),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GJ(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const g=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=YJ(g,250),qb.hasAnimatedSinceResize&&(qb.hasAnimatedSinceResize=!1,this.nodes.forEach(VI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeTargetChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||wQ,{onLayoutAnimationStart:b,onLayoutAnimationComplete:_}=d.getProps(),E=!this.targetLayout||!lV(this.targetLayout,x)||y,M=!g&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||g&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,M);const P={...xR(S,"layout"),onPlay:b,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else g||VI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vQ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zI);return}this.isUpdating||this.nodes.forEach(hQ),this.isUpdating=!1,this.nodes.forEach(pQ),this.nodes.forEach(lQ),this.nodes.forEach(cQ),this.clearAllSnapshots();const o=Xo.now();Ii.delta=oc(0,1e3/60,o-Ii.timestamp),Ii.timestamp=o,Ii.isProcessing=!0,LS.update.process(Ii),LS.preRender.process(Ii),LS.render.process(Ii),Ii.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fQ),this.sharedNodes.forEach(yQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,or.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){or.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!oV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&(o||Zd(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),_Q(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Ir();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(SQ))){const{scroll:d}=this.root;d&&(Pp(l.x,d.offset.x),Pp(l.y,d.offset.y))}return l}removeElementScroll(a){var o;const l=Ir();if(Ma(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:g}=d;d!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&Ma(l,a),Pp(l.x,f.offset.x),Pp(l.y,f.offset.y))}return l}applyTransform(a,o=!1){const l=Ir();Ma(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Cp(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Zd(d.latestValues)&&Cp(l,d.latestValues)}return Zd(this.latestValues)&&Cp(l,this.latestValues),l}removeTransform(a){const o=Ir();Ma(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Zd(c.latestValues))continue;xP(c.latestValues)&&c.updateSnapshot();const d=Ir(),f=c.measurePageBox();Ma(d,f),II(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Zd(this.latestValues)&&II(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ii.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=Ii.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),O0(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Ma(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ir(),this.targetWithTransforms=Ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ma(this.target,this.layout.layoutBox),tV(this.target,this.targetDelta)):Ma(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),O0(this.relativeTargetOrigin,this.target,y.target),Ma(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}S0&&Jd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||xP(this.parent.latestValues)||eV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ii.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ma(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;LJ(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ir());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(RI(this.prevProjectionDelta.x,this.projectionDelta.x),RI(this.prevProjectionDelta.y,this.projectionDelta.y)),k0(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!BI(this.projectionDelta.x,this.prevProjectionDelta.x)||!BI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),S0&&Jd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tp(),this.projectionDelta=Tp(),this.projectionDeltaWithTransform=Tp()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Tp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=Ir(),y=l?l.source:void 0,x=this.layout?this.layout.source:void 0,S=y!==x,b=this.getStack(),_=!b||b.members.length<=1,E=!!(S&&!_&&this.options.crossfade===!0&&!this.path.some(bQ));this.animationProgress=0;let M;this.mixTargetDelta=P=>{const C=P/1e3;HI(f.x,a.x,C),HI(f.y,a.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(O0(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xQ(this.relativeTarget,this.relativeTargetOrigin,g,C),M&&rQ(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Ir()),Ma(M,this.relativeTarget)),S&&(this.animationValues=d,ZJ(d,c,this.latestValues,C,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=or.update(()=>{qb.hasAnimatedSinceResize=!0,this.currentAnimation=WJ(0,UI,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&dV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ir();const f=da(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const g=da(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+g}Ma(o,l),Cp(o,d),k0(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new iQ),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&$S("z",a,c,this.animationValues);for(let d=0;d<HS.length;d++)$S(`rotate${HS[d]}`,a,c,this.animationValues),$S(`skew${HS[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return aQ;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Wb(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Wb(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Zd(this.latestValues)&&(S.transform=d?d({},""):"none",this.hasProjected=!1),S}const g=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=sQ(this.projectionDeltaWithTransform,this.treeScale,g),d&&(c.transform=d(g,c.transform));const{x:y,y:x}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=g.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in p1){if(g[S]===void 0)continue;const{correct:b,applyTo:_}=p1[S],E=c.transform==="none"?g[S]:b(g[S],f);if(_){const M=_.length;for(let P=0;P<M;P++)c[_[P]]=E}else c[S]=E}return this.options.layoutId&&(c.pointerEvents=f===this?Wb(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(zI),this.root.sharedNodes.clear()}}}function lQ(t){t.updateLayout()}function cQ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Ca(f=>{const g=a?n.measuredBox[f]:n.layoutBox[f],y=da(g);g.min=r[f].min,g.max=g.min+y}):dV(s,n.layoutBox,r)&&Ca(f=>{const g=a?n.measuredBox[f]:n.layoutBox[f],y=da(r[f]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const o=Tp();k0(o,r,n.layoutBox);const l=Tp();a?k0(l,t.applyTransform(i,!0),n.measuredBox):k0(l,r,n.layoutBox);const c=!oV(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:y}=f;if(g&&y){const x=Ir();O0(x,n.layoutBox,g.layoutBox);const S=Ir();O0(S,r,y.layoutBox),lV(x,S)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function uQ(t){S0&&Jd.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fQ(t){t.clearSnapshot()}function zI(t){t.clearMeasurements()}function hQ(t){t.isLayoutDirty=!1}function pQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function VI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mQ(t){t.resolveTargetDelta()}function gQ(t){t.calcProjection()}function vQ(t){t.resetSkewAndRotation()}function yQ(t){t.removeLeadSnapshot()}function HI(t,e,n){t.translate=br(e.translate,0,n),t.scale=br(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $I(t,e,n,r){t.min=br(e.min,n.min,r),t.max=br(e.max,n.max,r)}function xQ(t,e,n,r){$I(t.x,e.x,n.x,r),$I(t.y,e.y,n.y,r)}function bQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wQ={duration:.45,ease:[.4,0,.1,1]},WI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),GI=WI("applewebkit/")&&!WI("chrome/")?Math.round:oa;function qI(t){t.min=GI(t.min),t.max=GI(t.max)}function _Q(t){qI(t.x),qI(t.y)}function dV(t,e,n){return t==="position"||t==="preserve-aspect"&&!EJ(FI(e),FI(n),.2)}function SQ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const MQ=uV({attachResizeListener:(t,e)=>Q0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),WS={current:void 0},fV=uV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!WS.current){const t=new MQ({});t.mount(window),t.setOptions({layoutScroll:!0}),WS.current=t}return WS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),EQ={pan:{Feature:zJ},drag:{Feature:UJ,ProjectionNode:fV,MeasureLayout:iV}};function XI(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&or.postRender(()=>s(e,cy(e)))}class AQ extends Fu{mount(){const{current:e}=this.node;e&&(this.unmount=EK(e,n=>(XI(this.node,n,"Start"),r=>XI(this.node,r,"End"))))}unmount(){}}class TQ extends Fu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ly(Q0(this.node.current,"focus",()=>this.onFocus()),Q0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function YI(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&or.postRender(()=>s(e,cy(e)))}class PQ extends Fu{mount(){const{current:e}=this.node;e&&(this.unmount=CK(e,n=>(YI(this.node,n,"Start"),(r,{success:i})=>YI(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wP=new WeakMap,GS=new WeakMap,CQ=t=>{const e=wP.get(t.target);e&&e(t)},NQ=t=>{t.forEach(CQ)};function RQ({root:t,...e}){const n=t||document;GS.has(n)||GS.set(n,{});const r=GS.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(NQ,{root:t,...e})),r[i]}function kQ(t,e,n){const r=RQ(e);return wP.set(t,n),r.observe(t),()=>{wP.delete(t),r.unobserve(t)}}const OQ={some:0,all:1};class IQ extends Fu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:OQ[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),g=c?d:f;g&&g(l)};return kQ(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(LQ(e,n))&&this.startObserver()}unmount(){}}function LQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const DQ={inView:{Feature:IQ},tap:{Feature:PQ},focus:{Feature:TQ},hover:{Feature:AQ}},jQ={layout:{ProjectionNode:fV,MeasureLayout:iV}},_P={current:null},hV={current:!1};function FQ(){if(hV.current=!0,!!iR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_P.current=t.matches;t.addListener(e),e()}else _P.current=!1}const BQ=[...F8,Gi,Ru],UQ=t=>BQ.find(j8(t)),KI=new WeakMap;function zQ(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ki(i))t.addValue(r,i);else if(Ki(s))t.addValue(r,Z0(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Z0(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ZI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VQ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=RR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Xo.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,or.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=a;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=jw(n),this.isVariantNode=G6(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const x=g[y];l[y]!==void 0&&Ki(x)&&x.set(l[y],!1)}}mount(e){this.current=e,KI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hV.current||FQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_P.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){KI.delete(this.current),this.projection&&this.projection.unmount(),Nu(this.notifyUpdate),Nu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=zf.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&or.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Xp){const n=Xp[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ir()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ZI.length;r++){const i=ZI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=zQ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Z0(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(L8(i)||A8(i))?i=parseFloat(i):!UQ(i)&&Ru.test(n)&&(i=k8(e,n)),this.setBaseTarget(e,Ki(i)?i.get():i)),Ki(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=dR(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ki(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ER),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class pV extends VQ{constructor(){super(...arguments),this.KeyframeResolver=B8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ki(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function HQ(t){return window.getComputedStyle(t)}class $Q extends pV{constructor(){super(...arguments),this.type="html",this.renderInstance=t8}readValueFromInstance(e,n){if(zf.has(n)){const r=NR(n);return r&&r.default||0}else{const r=HQ(e),i=(J6(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return nV(e,n)}build(e,n,r){pR(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return yR(e,n,r)}}class WQ extends pV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ir}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zf.has(n)){const r=NR(n);return r&&r.default||0}return n=n8.has(n)?n:lR(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return s8(e,n,r)}build(e,n,r){mR(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){r8(e,n,r,i)}mount(e){this.isSVGTag=vR(e.tagName),super.mount(e)}}const GQ=(t,e)=>uR(t)?new WQ(e):new $Q(e,{allowProjection:t!==B.Fragment}),qQ=yK({...gJ,...DQ,...EQ,...jQ},GQ),Sn=OY(qQ),mV=B.createContext(),Om=()=>B.useContext(mV),JI=t=>{try{return JSON.parse(atob(t.split(".")[1]))}catch(e){return console.error("Error parsing token:",e),null}},XQ=({children:t})=>{const[e,n]=B.useState(!1),[r,i]=B.useState(!0),[s,a]=B.useState(null);B.useEffect(()=>{const d=localStorage.getItem("token");if(d)try{const f=JI(d);f?f.exp&&f.exp<Math.floor(Date.now()/1e3)?(console.warn("Token expired, logging out"),localStorage.removeItem("token"),n(!1)):(n(!0),a({id:f.userId,exp:f.exp})):(console.warn("Invalid token format, logging out"),localStorage.removeItem("token"),n(!1))}catch(f){console.error("Error processing token:",f),localStorage.removeItem("token"),n(!1)}i(!1)},[]);const c={isLoggedIn:e,user:s,login:d=>{localStorage.setItem("token",d),n(!0);try{const f=JI(d);f&&a({id:f.userId,exp:f.exp})}catch(f){console.error("Error parsing token data:",f)}},logout:()=>{localStorage.removeItem("token"),n(!1),a(null)},loading:r};return p.jsx(mV.Provider,{value:c,children:t})};var gV={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QI=oe.createContext&&oe.createContext(gV),YQ=["attr","size","title"];function KQ(t,e){if(t==null)return{};var n=ZQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b1(){return b1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b1.apply(this,arguments)}function eL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(n),!0).forEach(function(r){JQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JQ(t,e,n){return e=QQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QQ(t){var e=eee(t,"string");return typeof e=="symbol"?e:e+""}function eee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vV(t){return t&&t.map((e,n)=>oe.createElement(e.tag,w1({key:n},e.attr),vV(e.child)))}function mt(t){return e=>oe.createElement(tee,b1({attr:w1({},t.attr)},e),vV(t.child))}function tee(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=KQ(t,YQ),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),oe.createElement("svg",b1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:w1(w1({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&oe.createElement("title",null,s),t.children)};return QI!==void 0?oe.createElement(QI.Consumer,null,n=>e(n)):e(gV)}function _1(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function nee(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function LR(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(t)}function Xb(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(t)}function DR(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(t)}function qS(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function SP(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function ev(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function tL(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function MP(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function yV(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function EP(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function Rx(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function ree(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function S1(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function uf(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(t)}function nL(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function iee(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function xV(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(t)}function I0(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(t)}function rL(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(t)}function Qd(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function see(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function AP(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(t)}function Yo(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function iL(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function bV(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Uw(t){return mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Yb=({variant:t="default",size:e="medium"})=>{const{theme:n,changeTheme:r,themes:i,actualTheme:s}=Nm(),a=()=>{switch(n){case i.LIGHT:r(i.DARK);break;case i.DARK:r(i.SYSTEM);break;case i.SYSTEM:default:r(i.LIGHT);break}},o=()=>{switch(n){case i.LIGHT:return p.jsx(AP,{className:l()});case i.DARK:return p.jsx(I0,{className:l()});case i.SYSTEM:default:return p.jsx(xV,{className:l()})}},l=()=>{switch(e){case"small":return"h-3 w-3";case"large":return"h-6 w-6";case"medium":default:return"h-4 w-4"}},c=()=>{switch(e){case"small":return"p-1.5";case"large":return"p-3";case"medium":default:return"p-2"}},d=()=>{switch(t){case"header":return"bg-white/10 dark:bg-white/5 hover:bg-white/20 dark:hover:bg-white/10 text-white border border-white/20 dark:border-white/10";case"sidebar":return"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600";case"floating":return"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 shadow-lg";case"minimal":return"bg-transparent hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100";case"default":default:return"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600"}},f=()=>{switch(n){case i.LIGHT:return"Switch to Dark Mode";case i.DARK:return"Switch to System Mode";case i.SYSTEM:default:return`Switch to Light Mode (Currently: ${s})`}};return p.jsx("button",{onClick:a,className:`
        ${c()}
        ${d()}
        rounded-lg
        transition-all
        duration-300
        hover:scale-105
        active:scale-95
        focus:outline-none
        focus:ring-2
        focus:ring-blue-500/50
        relative
        group
      `,title:f(),"aria-label":f(),children:p.jsxs("div",{className:"relative flex items-center justify-center",children:[o(),p.jsxs("div",{className:`\r
          absolute\r
          bottom-full\r
          left-1/2\r
          transform\r
          -translate-x-1/2\r
          mb-2\r
          px-2\r
          py-1\r
          text-xs\r
          text-white\r
          bg-gray-900\r
          dark:bg-gray-700\r
          rounded\r
          opacity-0\r
          group-hover:opacity-100\r
          transition-opacity\r
          duration-200\r
          pointer-events-none\r
          whitespace-nowrap\r
          z-50\r
        `,children:[f(),p.jsx("div",{className:`\r
            absolute\r
            top-full\r
            left-1/2\r
            transform\r
            -translate-x-1/2\r
            w-0\r
            h-0\r
            border-l-2\r
            border-r-2\r
            border-t-2\r
            border-transparent\r
            border-t-gray-900\r
            dark:border-t-gray-700\r
          `})]})]})})},aee="http://localhost:5000";function kx(){const{login:t}=Om(),e=iy(),[n,r]=B.useState(null),i=async a=>{const{credential:o}=a;r(null);try{const l=await fetch(`${aee}/api/users/google-signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o}),credentials:"include"});if(!l.ok){const d=await l.json();throw new Error(`Server returned ${l.status}: ${JSON.stringify(d)}`)}const c=await l.json();c&&c.token?(t(c.token),e("/dashboard")):r("No token received from server")}catch(l){console.error("Error during Google login:",l),r("Failed to login with Google. Please try again.")}},s=a=>{console.error("Google Sign-In failed:",a),r("Google Sign-In failed. Please try again.")};return p.jsxs("div",{className:"pt-1",children:[n&&p.jsx("div",{className:"text-red-500 text-sm mb-2 text-center",children:n}),p.jsx(NX,{onSuccess:i,onError:s,useOneTap:!1})]})}const XS="http://localhost:5000";function sL(){const t=Bf(),e=iy(),{login:n}=Om(),[r,i]=B.useState(t.pathname.includes("login")),[s,a]=B.useState(!0),[o,l]=B.useState({email:"",password:""}),[c,d]=B.useState({username:"",email:"",password:"",confirmPassword:""}),[f,g]=B.useState(null),[y,x]=B.useState(null),[S,b]=B.useState(""),[_,E]=B.useState(""),[M,P]=B.useState(!1),[C,N]=B.useState(!1);B.useEffect(()=>{i(t.pathname.includes("login")),b(""),E("")},[t.pathname]),B.useEffect(()=>{(async()=>{const H=localStorage.getItem("token");if(H)try{(await fetch(`${XS}/api/users/profile`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H}`}})).ok?(n(H),e("/dashboard")):localStorage.removeItem("token")}catch{b("Error validating token. Please log in again.")}a(!1)})()},[n,e]);const O=()=>{N(!C)},D=re=>{const{name:H,value:J}=re.target;l(K=>({...K,[H]:J}))},U=re=>{const{name:H,value:J}=re.target;d(K=>({...K,[H]:J}))},L=re=>{const H=re.target.files[0];if(H){if(!H.type.match("image.*")){b("Please select an image file");return}if(H.size>5*1024*1024){b("File size should not exceed 5MB");return}g(H),x(URL.createObjectURL(H)),b("")}},I=async re=>{if(re.preventDefault(),b(""),P(!0),!o.email||!o.password){b("Email and password are required"),P(!1);return}try{const H=await fetch(`${XS}/api/users/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o),credentials:"include"}),J=await H.json();H.ok?J.token?(n(J.token),e("/dashboard")):b("No token received from server"):b(J.message||"Invalid credentials")}catch{b("Unable to connect to the server. Please check your network connection and try again.")}finally{P(!1)}},$=async re=>{if(re.preventDefault(),b(""),E(""),P(!0),!c.username||!c.email||!c.password){b("All fields are required"),P(!1);return}if(c.password!==c.confirmPassword){b("Passwords do not match"),P(!1);return}const H=new FormData;H.append("username",c.username),H.append("email",c.email),H.append("password",c.password),f&&H.append("picture",f);try{const J=await fetch(`${XS}/api/users/register`,{method:"POST",body:H});if(!J.ok){const q=await J.json();throw new Error(q.message||"Registration failed")}const K=await J.json();E("Registration successful!"),b(""),K.token?(localStorage.setItem("token",K.token),setTimeout(()=>{e("/dashboard")},1e3)):setTimeout(()=>{e("/auth/login")},1e3)}catch(J){b(J.message||"Registration failed. Please try again.")}finally{P(!1)}},X=()=>{e(r?"/auth/register":"/auth/login")},V={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},Z={loginToRegister:{initial:{x:"-100%"},animate:{x:0},exit:{x:"100%"}},registerToLogin:{initial:{x:"100%"},animate:{x:0},exit:{x:"-100%"}}},ee={loginToRegister:{initial:{x:"100%"},animate:{x:0},exit:{x:"-100%"}},registerToLogin:{initial:{x:"-100%"},animate:{x:0},exit:{x:"100%"}}};return s?p.jsx("div",{className:"fixed inset-0 w-full h-full flex justify-center items-center bg-gradient-to-br from-[#9406E6] to-[#00FFFF] dark:from-gray-900 dark:to-gray-800",children:p.jsx("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-xl",children:p.jsx("div",{className:"flex justify-center items-center h-40",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#9406E6] dark:border-purple-400"})})})}):p.jsxs("div",{className:"fixed inset-0 w-full h-full bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 overflow-hidden",children:[p.jsx("div",{className:"absolute top-6 right-6 z-20",children:p.jsx(Yb,{variant:"floating",size:"medium"})}),p.jsx("div",{className:"absolute top-6 left-6 z-20",children:p.jsx(Ls,{to:"/",className:"text-white hover:text-purple-200 transition-colors flex items-center space-x-2 bg-slate-400 backdrop-blur-sm px-4 py-2 rounded-lg border",children:p.jsx("span",{children:" Back to Home"})})}),p.jsx("div",{className:"hidden lg:flex w-full h-full",children:p.jsx(D3,{mode:"wait",children:r?p.jsxs(Sn.div,{variants:V,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.4,ease:"easeInOut"},className:"flex w-full h-full",children:[p.jsx(Sn.div,{variants:Z.registerToLogin,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.4,ease:"easeInOut"},className:"w-1/2 flex items-center justify-center p-12 bg-white",children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-4xl font-bold text-slate-800 mb-2 font-proza",children:"Welcome Back"}),p.jsx("p",{className:"text-slate-600",children:"Sign in to your account to continue"})]}),S&&p.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:S}),p.jsxs("form",{onSubmit:I,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-semibold mb-2",children:"Email Address"}),p.jsx("input",{type:"email",name:"email",value:o.email,onChange:D,className:"w-full px-4 py-3 border border-slate-300 bg-white text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter your email",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-semibold mb-2",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:C?"text":"password",name:"password",value:o.password,onChange:D,className:"w-full px-4 py-3 border border-slate-300 bg-white text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter your password",required:!0}),p.jsx("button",{type:"button",onClick:O,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-500 hover:text-slate-700 transition-colors",children:C?"Hide":"Show"})]})]}),p.jsx("button",{type:"submit",disabled:M,className:`w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-bold py-3 rounded-lg transition-all duration-300 shadow-lg ${M?"opacity-70 cursor-not-allowed":""}`,children:M?"Signing in...":"Sign In"}),p.jsxs("div",{className:"relative my-6",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-slate-300"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-white text-slate-500",children:"Or continue with"})})]}),p.jsx("div",{className:"flex justify-center",children:p.jsx(kx,{})})]})]})}),p.jsx(Sn.div,{variants:ee.registerToLogin,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.4,ease:"easeInOut"},className:"w-1/2 flex items-center justify-center p-12 bg-gradient-to-br from-purple-600 to-purple-800",children:p.jsxs("div",{className:"text-center text-white max-w-md",children:[p.jsx("h1",{className:"text-5xl font-bold mb-6 font-proza",children:"Smart Todo"}),p.jsx("p",{className:"text-xl mb-8 text-purple-100",children:"Organize your life with intelligent task management, dependencies, and real-time collaboration."}),p.jsxs("div",{className:"space-y-4 text-left mb-8",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-300 rounded-full"}),p.jsx("span",{className:"text-purple-100",children:"Smart task dependencies"})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-300 rounded-full"}),p.jsx("span",{className:"text-purple-100",children:"Real-time notifications"})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-300 rounded-full"}),p.jsx("span",{className:"text-purple-100",children:"Advanced analytics"})]})]}),p.jsx("button",{onClick:X,className:"px-8 py-3 bg-white text-purple-700 font-semibold rounded-lg hover:bg-purple-50 transition-all duration-300 shadow-lg",children:"New here? Create Account"})]})})]},"login-layout"):p.jsxs(Sn.div,{variants:V,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.4,ease:"easeInOut"},className:"flex w-full h-full",children:[p.jsx(Sn.div,{variants:ee.loginToRegister,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.4,ease:"easeInOut"},className:"w-1/2 flex items-center justify-center p-12 bg-gradient-to-br from-purple-600 to-purple-800",children:p.jsxs("div",{className:"text-center text-white max-w-md",children:[p.jsx("h1",{className:"text-5xl font-bold mb-6 font-proza",children:"Join Smart Todo"}),p.jsx("p",{className:"text-xl mb-8 text-purple-100",children:"Start your journey to better productivity. Create an account and experience the future of task management."}),p.jsxs("div",{className:"space-y-4 text-left mb-8",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-300 rounded-full"}),p.jsx("span",{className:"text-purple-100",children:"Free forever plan"})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-300 rounded-full"}),p.jsx("span",{className:"text-purple-100",children:"Unlimited tasks"})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-300 rounded-full"}),p.jsx("span",{className:"text-purple-100",children:"Cloud synchronization"})]})]}),p.jsx("button",{onClick:X,className:"px-8 py-3 bg-white text-purple-700 font-semibold rounded-lg hover:bg-purple-50 transition-all duration-300 shadow-lg",children:"Already have an account? Sign In"})]})}),p.jsx(Sn.div,{variants:Z.loginToRegister,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.4,ease:"easeInOut"},className:"w-1/2 flex items-center justify-center p-8 bg-white",children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("div",{className:"text-center mb-4",children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-1 font-proza",children:"Create Account"}),p.jsx("p",{className:"text-slate-600 text-sm",children:"Join thousands of productive users"})]}),S&&p.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg mb-3 text-sm",children:S}),_&&p.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-3 py-2 rounded-lg mb-3 text-sm",children:_}),p.jsxs("form",{onSubmit:$,className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-center mb-3",children:[p.jsx("div",{onClick:()=>document.getElementById("profile-image").click(),className:"w-16 h-16 rounded-full cursor-pointer border-2 border-dashed border-slate-300 flex items-center justify-center overflow-hidden hover:border-purple-400 transition-colors bg-slate-50",children:y?p.jsx("img",{src:y,alt:"Profile Preview",className:"w-full h-full object-cover"}):p.jsxs("div",{className:"text-center text-slate-400",children:[p.jsx("svg",{className:"h-6 w-6 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),p.jsx("span",{className:"text-xs",children:"Photo"})]})}),p.jsx("input",{id:"profile-image",type:"file",accept:"image/*",onChange:L,className:"hidden"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-semibold mb-1 text-sm",children:"Username"}),p.jsx("input",{type:"text",name:"username",value:c.username,onChange:U,className:"w-full px-3 py-2 text-sm border border-slate-300 bg-white text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter your username",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-semibold mb-1 text-sm",children:"Email Address"}),p.jsx("input",{type:"email",name:"email",value:c.email,onChange:U,className:"w-full px-3 py-2 text-sm border border-slate-300 bg-white text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter your email",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-semibold mb-1 text-sm",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:C?"text":"password",name:"password",value:c.password,onChange:U,className:"w-full px-3 py-2 pr-10 text-sm border border-slate-300 bg-white text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Create a password",required:!0}),p.jsx("button",{type:"button",onClick:O,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-slate-500 hover:text-slate-700 transition-colors",children:p.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C?p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}):p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-semibold mb-1 text-sm",children:"Confirm Password"}),p.jsx("input",{type:C?"text":"password",name:"confirmPassword",value:c.confirmPassword,onChange:U,className:"w-full px-3 py-2 text-sm border border-slate-300 bg-white text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Confirm your password",required:!0})]}),p.jsxs("div",{className:"pt-1",children:[p.jsx("button",{type:"submit",disabled:M,className:`w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-semibold py-2.5 text-sm rounded-lg transition-all duration-300 shadow-lg ${M?"opacity-70 cursor-not-allowed":""}`,children:M?"Creating Account...":"Create Account"}),p.jsxs("div",{className:"relative my-3",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-slate-300"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-white text-slate-500 text-xs",children:"Or continue with"})})]}),p.jsx("div",{className:"flex justify-center",children:p.jsx(kx,{})})]})]})]})})]},"register-layout")})}),p.jsx("div",{className:"lg:hidden flex flex-col w-full h-full bg-white",children:p.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:p.jsx(D3,{mode:"wait",children:r?p.jsxs(Sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full max-w-sm",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2 font-proza",children:"Welcome Back"}),p.jsx("p",{className:"text-slate-600",children:"Sign in to your account"})]}),S&&p.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6 text-sm",children:S}),p.jsxs("form",{onSubmit:I,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-semibold mb-2",children:"Email"}),p.jsx("input",{type:"email",name:"email",value:o.email,onChange:D,className:"w-full px-4 py-3 border border-slate-300 bg-white text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-semibold mb-2",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:C?"text":"password",name:"password",value:o.password,onChange:D,className:"w-full px-4 py-3 border border-slate-300 bg-white text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),p.jsx("button",{type:"button",onClick:O,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-500 hover:text-slate-700 transition-colors",children:C?"Hide":"Show"})]})]}),p.jsx("button",{type:"submit",disabled:M,className:`w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-bold py-3 rounded-lg transition-all duration-300 shadow-lg ${M?"opacity-70 cursor-not-allowed":""}`,children:M?"Signing in...":"Sign In"}),p.jsxs("div",{className:"relative my-6",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-slate-300"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-white text-slate-500",children:"Or continue with"})})]}),p.jsx("div",{className:"flex justify-center",children:p.jsx(kx,{})}),p.jsx("div",{className:"text-center",children:p.jsxs("button",{type:"button",onClick:X,className:"text-purple-600 hover:text-purple-700 font-semibold transition-colors",children:["Don't have an account? ",p.jsx("span",{className:"underline",children:"Create one"})]})})]})]},"mobile-login"):p.jsxs(Sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full max-w-sm",children:[p.jsxs("div",{className:"text-center mb-4",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-1 font-proza",children:"Create Account"}),p.jsx("p",{className:"text-slate-600 text-sm",children:"Join Smart Todo today"})]}),S&&p.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg mb-3 text-sm",children:S}),_&&p.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-3 py-2 rounded-lg mb-3 text-sm",children:_}),p.jsxs("form",{onSubmit:$,className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-center mb-3",children:[p.jsx("div",{onClick:()=>document.getElementById("mobile-profile-image").click(),className:"w-14 h-14 rounded-full cursor-pointer border-2 border-dashed border-slate-300 flex items-center justify-center overflow-hidden hover:border-purple-400 transition-colors bg-slate-50",children:y?p.jsx("img",{src:y,alt:"Profile Preview",className:"w-full h-full object-cover"}):p.jsxs("div",{className:"text-center text-slate-400",children:[p.jsx("svg",{className:"h-5 w-5 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),p.jsx("span",{className:"text-xs",children:"Photo"})]})}),p.jsx("input",{id:"mobile-profile-image",type:"file",accept:"image/*",onChange:L,className:"hidden"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-semibold mb-1 text-sm",children:"Username"}),p.jsx("input",{type:"text",name:"username",value:c.username,onChange:U,className:"w-full px-3 py-2 text-sm border border-slate-300 bg-white text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your username",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-semibold mb-1 text-sm",children:"Email"}),p.jsx("input",{type:"email",name:"email",value:c.email,onChange:U,className:"w-full px-3 py-2 text-sm border border-slate-300 bg-white text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-semibold mb-1 text-sm",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:C?"text":"password",name:"password",value:c.password,onChange:U,className:"w-full px-3 py-2 pr-10 text-sm border border-slate-300 bg-white text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Create a password",required:!0}),p.jsx("button",{type:"button",onClick:O,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-slate-500 hover:text-slate-700 transition-colors",children:p.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C?p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}):p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-700 font-semibold mb-1 text-sm",children:"Confirm Password"}),p.jsx("input",{type:C?"text":"password",name:"confirmPassword",value:c.confirmPassword,onChange:U,className:"w-full px-3 py-2 text-sm border border-slate-300 bg-white text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm your password",required:!0})]}),p.jsxs("div",{className:"pt-1",children:[p.jsx("button",{type:"submit",disabled:M,className:`w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-semibold py-2.5 text-sm rounded-lg transition-all duration-300 shadow-lg ${M?"opacity-70 cursor-not-allowed":""}`,children:M?"Creating Account...":"Create Account"}),p.jsxs("div",{className:"relative my-3",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-slate-300"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-white text-slate-500 text-xs",children:"Or continue with"})})]}),p.jsx("div",{className:"flex justify-center mb-3",children:p.jsx(kx,{})}),p.jsx("div",{className:"text-center",children:p.jsxs("button",{type:"button",onClick:X,className:"text-purple-600 hover:text-purple-700 font-semibold transition-colors text-sm",children:["Already have an account? ",p.jsx("span",{className:"underline",children:"Sign in"})]})})]})]})]},"mobile-register")})})})]})}const nl=Object.create(null);nl.open="0";nl.close="1";nl.ping="2";nl.pong="3";nl.message="4";nl.upgrade="5";nl.noop="6";const Kb=Object.create(null);Object.keys(nl).forEach(t=>{Kb[nl[t]]=t});const TP={type:"error",data:"parser error"},wV=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",_V=typeof ArrayBuffer=="function",SV=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,jR=({type:t,data:e},n,r)=>wV&&e instanceof Blob?n?r(e):aL(e,r):_V&&(e instanceof ArrayBuffer||SV(e))?n?r(e):aL(new Blob([e]),r):r(nl[t]+(e||"")),aL=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function oL(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let YS;function oee(t,e){if(wV&&t.data instanceof Blob)return t.data.arrayBuffer().then(oL).then(e);if(_V&&(t.data instanceof ArrayBuffer||SV(t.data)))return e(oL(t.data));jR(t,!1,n=>{YS||(YS=new TextEncoder),e(YS.encode(n))})}const lL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<lL.length;t++)M0[lL.charCodeAt(t)]=t;const lee=t=>{let e=t.length*.75,n=t.length,r,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const c=new ArrayBuffer(e),d=new Uint8Array(c);for(r=0;r<n;r+=4)s=M0[t.charCodeAt(r)],a=M0[t.charCodeAt(r+1)],o=M0[t.charCodeAt(r+2)],l=M0[t.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|l&63;return c},cee=typeof ArrayBuffer=="function",FR=(t,e)=>{if(typeof t!="string")return{type:"message",data:MV(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:uee(t.substring(1),e)}:Kb[n]?t.length>1?{type:Kb[n],data:t.substring(1)}:{type:Kb[n]}:TP},uee=(t,e)=>{if(cee){const n=lee(t);return MV(n,e)}else return{base64:!0,data:t}},MV=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},EV="",dee=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,a)=>{jR(s,!1,o=>{r[a]=o,++i===n&&e(r.join(EV))})})},fee=(t,e)=>{const n=t.split(EV),r=[];for(let i=0;i<n.length;i++){const s=FR(n[i],e);if(r.push(s),s.type==="error")break}return r};function hee(){return new TransformStream({transform(t,e){oee(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let KS;function Ox(t){return t.reduce((e,n)=>e+n.length,0)}function Ix(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function pee(t,e){KS||(KS=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(a,o){for(n.push(a);;){if(r===0){if(Ox(n)<1)break;const l=Ix(n,1);s=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Ox(n)<2)break;const l=Ix(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Ox(n)<8)break;const l=Ix(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){o.enqueue(TP);break}i=d*Math.pow(2,32)+c.getUint32(4),r=3}else{if(Ox(n)<i)break;const l=Ix(n,i);o.enqueue(FR(s?l:KS.decode(l),e)),r=0}if(i===0||i>t){o.enqueue(TP);break}}}})}const AV=4;function Gr(t){if(t)return mee(t)}function mee(t){for(var e in Gr.prototype)t[e]=Gr.prototype[e];return t}Gr.prototype.on=Gr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Gr.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Gr.prototype.off=Gr.prototype.removeListener=Gr.prototype.removeAllListeners=Gr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Gr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Gr.prototype.emitReserved=Gr.prototype.emit;Gr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Gr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const zw=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Ra=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),gee="arraybuffer";function TV(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const vee=Ra.setTimeout,yee=Ra.clearTimeout;function Vw(t,e){e.useNativeTimers?(t.setTimeoutFn=vee.bind(Ra),t.clearTimeoutFn=yee.bind(Ra)):(t.setTimeoutFn=Ra.setTimeout.bind(Ra),t.clearTimeoutFn=Ra.clearTimeout.bind(Ra))}const xee=1.33;function bee(t){return typeof t=="string"?wee(t):Math.ceil((t.byteLength||t.size)*xee)}function wee(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function PV(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function _ee(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function See(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class Mee extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class BR extends Gr{constructor(e){super(),this.writable=!1,Vw(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new Mee(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=FR(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=_ee(e);return n.length?"?"+n:""}}class Eee extends BR{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};fee(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,dee(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=PV()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let CV=!1;try{CV=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Aee=CV;function Tee(){}class Pee extends Eee{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let zp=class Zb extends Gr{constructor(e,n,r){super(),this.createRequest=e,Vw(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=TV(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Zb.requestsCount++,Zb.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Tee,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Zb.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};zp.requestsCount=0;zp.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",cL);else if(typeof addEventListener=="function"){const t="onpagehide"in Ra?"pagehide":"unload";addEventListener(t,cL,!1)}}function cL(){for(let t in zp.requests)zp.requests.hasOwnProperty(t)&&zp.requests[t].abort()}const Cee=function(){const t=NV({xdomain:!1});return t&&t.responseType!==null}();class Nee extends Pee{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Cee&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new zp(NV,this.uri(),e)}}function NV(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Aee))return new XMLHttpRequest}catch{}if(!e)try{return new Ra[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const RV=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ree extends BR{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=RV?{}:TV(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;jR(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&zw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=PV()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const ZS=Ra.WebSocket||Ra.MozWebSocket;class kee extends Ree{createSocket(e,n,r){return RV?new ZS(e,n,r):n?new ZS(e,n):new ZS(e)}doWrite(e,n){this.ws.send(n)}}class Oee extends BR{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=pee(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=hee();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:o,value:l})=>{o||(this.onPacket(l),s())}).catch(o=>{})};s();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&zw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Iee={websocket:kee,webtransport:Oee,polling:Nee},Lee=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Dee=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function PP(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=Lee.exec(t||""),s={},a=14;for(;a--;)s[Dee[a]]=i[a]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=jee(s,s.path),s.queryKey=Fee(s,s.query),s}function jee(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Fee(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const CP=typeof addEventListener=="function"&&typeof removeEventListener=="function",Jb=[];CP&&addEventListener("offline",()=>{Jb.forEach(t=>t())},!1);class Su extends Gr{constructor(e,n){if(super(),this.binaryType=gee,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=PP(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=PP(n.host).host);Vw(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=See(this.opts.query)),CP&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Jb.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=AV,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Su.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Su.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=bee(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,zw(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Su.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),CP&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Jb.indexOf(this._offlineEventListener);r!==-1&&Jb.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Su.protocol=AV;class Bee extends Su{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Su.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Su.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=n.name,this.emitReserved("upgradeError",g)}}))};function s(){r||(r=!0,d(),n.close(),n=null)}const a=f=>{const g=new Error("probe error: "+f);g.transport=n.name,s(),this.emitReserved("upgradeError",g)};function o(){a("transport closed")}function l(){a("socket closed")}function c(f){n&&f.name!==n.name&&s()}const d=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",o),this.off("close",l),this.off("upgrading",c)};n.once("open",i),n.once("error",a),n.once("close",o),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let Uee=class extends Bee{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Iee[i]).filter(i=>!!i)),super(e,r)}};function zee(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=PP(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const Vee=typeof ArrayBuffer=="function",Hee=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,kV=Object.prototype.toString,$ee=typeof Blob=="function"||typeof Blob<"u"&&kV.call(Blob)==="[object BlobConstructor]",Wee=typeof File=="function"||typeof File<"u"&&kV.call(File)==="[object FileConstructor]";function UR(t){return Vee&&(t instanceof ArrayBuffer||Hee(t))||$ee&&t instanceof Blob||Wee&&t instanceof File}function Qb(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Qb(t[n]))return!0;return!1}if(UR(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Qb(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Qb(t[n]))return!0;return!1}function Gee(t){const e=[],n=t.data,r=t;return r.data=NP(n,e),r.attachments=e.length,{packet:r,buffers:e}}function NP(t,e){if(!t)return t;if(UR(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=NP(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=NP(t[r],e));return n}return t}function qee(t,e){return t.data=RP(t.data,e),delete t.attachments,t}function RP(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=RP(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=RP(t[n],e));return t}const Xee=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Yee=5;var xn;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(xn||(xn={}));class Kee{constructor(e){this.replacer=e}encode(e){return(e.type===xn.EVENT||e.type===xn.ACK)&&Qb(e)?this.encodeAsBinary({type:e.type===xn.EVENT?xn.BINARY_EVENT:xn.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===xn.BINARY_EVENT||e.type===xn.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Gee(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function uL(t){return Object.prototype.toString.call(t)==="[object Object]"}class zR extends Gr{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===xn.BINARY_EVENT;r||n.type===xn.BINARY_ACK?(n.type=r?xn.EVENT:xn.ACK,this.reconstructor=new Zee(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(UR(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(xn[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===xn.BINARY_EVENT||r.type===xn.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(s,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(zR.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case xn.CONNECT:return uL(n);case xn.DISCONNECT:return n===void 0;case xn.CONNECT_ERROR:return typeof n=="string"||uL(n);case xn.EVENT:case xn.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Xee.indexOf(n[0])===-1);case xn.ACK:case xn.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Zee{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=qee(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Jee=Object.freeze(Object.defineProperty({__proto__:null,Decoder:zR,Encoder:Kee,get PacketType(){return xn},protocol:Yee},Symbol.toStringTag,{value:"Module"}));function mo(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Qee=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class OV extends Gr{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[mo(e,"open",this.onopen.bind(this)),mo(e,"packet",this.onpacket.bind(this)),mo(e,"error",this.onerror.bind(this)),mo(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(Qee.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:xn.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),a.id=d}const o=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!o||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},i),a=(...o)=>{this.io.clearTimeoutFn(s),n.apply(this,o)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(a,o)=>a?i(a):r(o);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:xn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case xn.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xn.EVENT:case xn.BINARY_EVENT:this.onevent(e);break;case xn.ACK:case xn.BINARY_ACK:this.onack(e);break;case xn.DISCONNECT:this.ondisconnect();break;case xn.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:xn.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Im(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Im.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Im.prototype.reset=function(){this.attempts=0};Im.prototype.setMin=function(t){this.ms=t};Im.prototype.setMax=function(t){this.max=t};Im.prototype.setJitter=function(t){this.jitter=t};class kP extends Gr{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Vw(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Im({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||Jee;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Uee(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=mo(n,"open",function(){r.onopen(),e&&e()}),s=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},a=mo(n,"error",s);if(this._timeout!==!1){const o=this._timeout,l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},o);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(mo(e,"ping",this.onping.bind(this)),mo(e,"data",this.ondata.bind(this)),mo(e,"error",this.onerror.bind(this)),mo(e,"close",this.onclose.bind(this)),mo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){zw(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new OV(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Yg={};function e1(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=zee(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,a=Yg[i]&&s in Yg[i].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let l;return o?l=new kP(r,e):(Yg[i]||(Yg[i]=new kP(r,e)),l=Yg[i]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(e1,{Manager:kP,Socket:OV,io:e1,connect:e1});const IV={GOOGLE_CLIENT_ID:"726557724768-qplqm3h12oea644a7pqmnvf26umqssfr.apps.googleusercontent.com",SOCKET_URL:"https://smart-full-stack-todo-app.vercel.app"},LV=B.createContext(null),ete=({children:t})=>{const[e,n]=B.useState(null),[r,i]=B.useState(!1);return B.useEffect(()=>{const s=e1(IV.SOCKET_URL,{path:"/socket.io",transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});return s.on("connect",()=>{console.log("Socket connected:",s.id),i(!0),localStorage.getItem("token");const a=localStorage.getItem("userId");a&&s.emit("authenticate",a)}),s.on("disconnect",()=>{console.log("Socket disconnected"),i(!1)}),s.on("db_change",a=>{const{operation:o,message:l,type:c}=a;switch(o){case"create":case"update":case"delete":case"status_change":Ax(l,{duration:3e3,style:{background:"white",color:"#333",border:"1px solid #ddd",padding:"12px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:"500"}});break;case"reminder_set":Ax(l,{icon:"",duration:5e3,style:{background:"#4CAF50",color:"white",border:"1px solid #45a049",padding:"12px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:"500"}});break;case"reminder":Ax(l,{icon:"",duration:6e4,style:{background:"#FFD700",color:"black",border:"1px solid #DAA520",padding:"12px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:"500"},iconTheme:{primary:"#DAA520",secondary:"black"}});break;default:Ax(l,{duration:3e3})}}),n(s),()=>{s.disconnect()}},[]),p.jsx(LV.Provider,{value:{socket:e,connected:r},children:t})},Hw=()=>{const t=B.useContext(LV);if(t===null)throw new Error("useSocket must be used within a SocketProvider");return t},Ld="http://localhost:5000",DV=B.createContext();function tte({children:t}){const[e,n]=B.useState([]),[r,i]=B.useState([]),[s,a]=B.useState(0),{socket:o}=Hw(),{isLoggedIn:l,user:c}=Om();B.useEffect(()=>{const D=setTimeout(()=>{e.length>0&&n(U=>{const L=[...U];return L.shift(),L})},5e3);return()=>clearTimeout(D)},[e]),B.useEffect(()=>{l&&c?d():(i([]),a(0))},[l,c]),B.useEffect(()=>{if(!o)return;const D=I=>{I.type==="delete"?i($=>{const X=$.filter(Z=>Z._id!==I.notificationId),V=X.filter(Z=>!Z.read).length;return a(V),X}):I.type==="markAllRead"?(i($=>$.map(X=>({...X,read:!0}))),a(0)):I.type==="clearAll"&&(i([]),a(0))},U=I=>{a(I)},L=I=>{i($=>$.some(V=>V._id===I._id)?$:[I,...$]),I.read||a($=>$+1),f({...I,persistent:!0})};return o.on("notificationUpdate",D),o.on("notificationCount",U),o.on("notificationCreated",L),()=>{o.off("notificationUpdate",D),o.off("notificationCount",U),o.off("notificationCreated",L)}},[o]);const d=async()=>{try{const D=localStorage.getItem("token");if(!D)return;const U=await fetch(`${Ld}/api/notifications`,{headers:{Authorization:`Bearer ${D}`},credentials:"include"});if(U.ok){const L=await U.json();i(L),a(L.filter(I=>!I.read).length)}}catch(D){console.error("Error fetching notifications:",D)}},f=D=>{const U=Date.now();n(L=>[...L,{id:U,...D,timestamp:D.timestamp||new Date}])},g=async D=>{try{const U=localStorage.getItem("token");if(!U)return;const L=await fetch(`${Ld}/api/notifications`,{method:"POST",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"},body:JSON.stringify({message:D.message,type:D.type,data:D.data,timestamp:D.timestamp||new Date,read:!1})});if(L.ok){const I=await L.json();i($=>[I,...$]),a($=>$+1),o&&o.emit("notificationCreated",I)}}catch(U){console.error("Error saving notification:",U)}},O={tempNotifications:e,persistentNotifications:r,unreadCount:s,removeTempNotification:D=>{n(U=>U.filter(L=>L.id!==D))},removeNotification:async D=>{try{const U=localStorage.getItem("token");if(!U)return;const L=r.find($=>$._id===D);i($=>$.filter(X=>X._id!==D)),L&&!L.read&&a($=>Math.max(0,$-1)),(await fetch(`${Ld}/api/notifications/${D}`,{method:"DELETE",headers:{Authorization:`Bearer ${U}`},credentials:"include"})).ok?o&&o.emit("notificationDeleted",D):d()}catch(U){console.error("Error removing notification:",U),d()}},clearNotifications:async()=>{try{const D=localStorage.getItem("token");if(!D)return;i([]),a(0),(await fetch(`${Ld}/api/notifications`,{method:"DELETE",headers:{Authorization:`Bearer ${D}`},credentials:"include"})).ok?o&&o.emit("notificationsCleared"):d()}catch(D){console.error("Error clearing notifications:",D),d()}},markAllAsRead:async()=>{try{const D=localStorage.getItem("token");if(!D)return;i(L=>L.map(I=>({...I,read:!0}))),a(0),(await fetch(`${Ld}/api/notifications/mark-all-read`,{method:"PATCH",headers:{Authorization:`Bearer ${D}`},credentials:"include"})).ok?o&&o.emit("notificationsMarkedAsRead"):d()}catch(D){console.error("Error marking all as read:",D),d()}},createErrorNotification:(D,U=!1)=>{const L={type:"error",message:D,timestamp:new Date,persistent:U};f(L),U&&g(L)},createSuccessNotification:(D,U=!1)=>{const L={type:"success",message:D,timestamp:new Date,persistent:U};f(L),U&&g(L)},createInfoNotification:(D,U=!1)=>{const L={type:"info",message:D,timestamp:new Date,persistent:U};f(L),U&&g(L)},fetchNotifications:d,addScheduledReminder:D=>{const U=new Date,L=new Date(D.scheduledTime);if(L>U){const I=L.getTime()-U.getTime();setTimeout(()=>{var X,V;const $={type:"reminder",message:`  Reminder: "${((X=D.data)==null?void 0:X.taskTitle)||"Task"}" is due now!`,data:{...D.data,isDue:!0},timestamp:new Date,persistent:!0,reminderId:D._id,taskId:(V=D.data)==null?void 0:V.taskId};if(i(Z=>[$,...Z]),a(Z=>Z+1),o&&o.emit("notificationCreated",$),D.deadline){const ee=new Date(D.deadline).getTime()-U.getTime();ee>0&&setTimeout(()=>{i(re=>re.filter(H=>H.reminderId!==D._id)),a(re=>Math.max(0,re-1)),o&&o.emit("notificationDeleted",D._id)},ee)}},I)}},removeReminderNotification:async D=>{try{const U=localStorage.getItem("token");if(!U)return;if(i(I=>I.filter($=>$.reminderId!==D)),a(I=>Math.max(0,I-1)),o&&o.emit("notificationDeleted",D),!(await fetch(`${Ld}/api/reminders/${D}`,{method:"DELETE",headers:{Authorization:`Bearer ${U}`},credentials:"include"})).ok)throw new Error("Failed to delete reminder")}catch(U){console.error("Error removing reminder notification:",U),d()}},markAsRead:async D=>{try{const U=localStorage.getItem("token");if(!U)return;const L=r.find(I=>I._id===D);L&&!L.read&&(i($=>$.map(X=>X._id===D?{...X,read:!0}:X)),a($=>Math.max(0,$-1)),(await fetch(`${Ld}/api/notifications/${D}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${U}`},credentials:"include"})).ok||d())}catch(U){console.error("Error marking notification as read:",U),d()}}};return p.jsx(DV.Provider,{value:O,children:t})}function VR(){const t=B.useContext(DV);if(t===void 0)throw new Error("useNotification must be used within a NotificationProvider");return t}function JS(){const[t,e]=B.useState(!1),n=B.useRef(null),{persistentNotifications:r,unreadCount:i,removeNotification:s,removeReminderNotification:a,clearNotifications:o,markAllAsRead:l,markAsRead:c,fetchNotifications:d}=VR(),{socket:f}=Hw();B.useEffect(()=>{function _(E){const M=document.querySelector('[data-notification-tray="true"]'),P=n.current;M&&!M.contains(E.target)&&P&&!P.contains(E.target)&&e(!1)}return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),B.useEffect(()=>{if(!f)return;const _=()=>{d()};return f.on("notification",_),f.on("notificationCreated",_),f.on("notificationUpdate",_),()=>{f.off("notification",_),f.off("notificationCreated",_),f.off("notificationUpdate",_)}},[f,d]);const g=_=>{const E=new Date(_);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(E)},y=()=>{e(!t),!t&&i>0&&l()},x=_=>{switch(_){case"error":return p.jsx(_1,{className:"h-5 w-5 text-red-500"});case"success":return p.jsx(ev,{className:"h-5 w-5 text-green-500"});case"reminder":return p.jsx("span",{className:"h-5 w-5 text-yellow-500",children:""});case"delete":return p.jsx(Yo,{className:"h-5 w-5 text-red-500"});case"dependency":return p.jsx(S1,{className:"h-5 w-5 text-indigo-500"});default:return p.jsx(S1,{className:"h-5 w-5 text-blue-500"})}},S=async _=>{_.type==="reminder"?await a(_.reminderId):await s(_._id)},b=_=>{var P;const E=_.type==="reminder",M=E&&((P=_.data)==null?void 0:P.deadline)&&new Date(_.data.deadline)<new Date;return E&&M?null:p.jsx("div",{className:`px-3 sm:px-4 lg:px-6 py-3 sm:py-4 transition-all duration-200 hover:bg-gray-50 cursor-pointer ${_.read?"":"bg-blue-50/50 border-l-4 border-l-blue-500"}`,onClick:C=>{C.stopPropagation(),_.read||c(_._id)},children:p.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[p.jsx("div",{className:"flex-shrink-0 mt-1",children:p.jsx("div",{className:"bg-gray-100 p-1.5 sm:p-2 rounded-lg",children:x(_.type)})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 leading-relaxed",children:_.message}),p.jsxs("div",{className:"flex items-center justify-between mt-2",children:[p.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.jsx("span",{className:"truncate",children:g(_.createdAt||_.timestamp)})]}),!_.read&&p.jsx("span",{className:"bg-blue-500 h-2 w-2 rounded-full flex-shrink-0"})]})]}),p.jsx("button",{onClick:C=>{C.stopPropagation(),S(_)},className:"flex-shrink-0 p-1 sm:p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200 group",title:"Remove notification",children:p.jsx(Uw,{className:"h-3 w-3 sm:h-4 sm:w-4 group-hover:scale-110 transition-transform duration-200"})})]})},_._id)};return p.jsxs("div",{className:"relative",ref:n,children:[p.jsxs("button",{onClick:y,className:"relative text-white hover:text-white/80 focus:outline-none transition-all duration-200 group","aria-label":"Notifications",children:[p.jsx(qS,{className:"h-5 w-5 lg:h-6 lg:w-6 group-hover:scale-110 transition-transform duration-200"}),i>0&&p.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white shadow-lg animate-pulse border-2 border-white",children:i>9?"9+":i})]}),t&&wq.createPortal(p.jsxs("div",{"data-notification-tray":"true",className:"fixed top-12 sm:top-16 right-2 sm:right-4 w-72 sm:w-80 lg:w-96 bg-white rounded-2xl shadow-2xl border border-gray-200 max-h-[85vh] overflow-hidden",style:{zIndex:2147483647},children:[p.jsx("div",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"bg-white/20 p-1 sm:p-1.5 rounded-lg",children:p.jsx(qS,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:"Notifications"}),p.jsx("p",{className:"text-xs text-white/80",children:r.length===0?"All caught up!":`${r.length} notification${r.length!==1?"s":""}`})]})]}),r.length>0&&p.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[p.jsxs("button",{onClick:_=>{_.stopPropagation(),l()},className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-medium transition-colors",title:"Mark all as read",children:[p.jsx("span",{className:"hidden sm:inline",children:"Mark Read"}),p.jsx("span",{className:"sm:hidden",children:"Read"})]}),p.jsxs("button",{onClick:_=>{_.stopPropagation(),o()},className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-red-500/80 hover:bg-red-500 rounded-lg text-xs font-medium transition-colors",title:"Clear all notifications",children:[p.jsx("span",{className:"hidden sm:inline",children:"Clear All"}),p.jsx("span",{className:"sm:hidden",children:"Clear"})]})]})]})}),p.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:r.length===0?p.jsxs("div",{className:"px-4 sm:px-6 py-8 sm:py-12 text-center",children:[p.jsx("div",{className:"bg-gray-100 rounded-full p-3 sm:p-4 w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 flex items-center justify-center",children:p.jsx(qS,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400"})}),p.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"No notifications"}),p.jsx("p",{className:"text-xs text-gray-500",children:"You're all caught up! New notifications will appear here."})]}):p.jsx("div",{className:"divide-y divide-gray-100",children:r.map(b)})})]}),document.body)]})}function nte(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function rte(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"},child:[]}]})(t)}function HR(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"},child:[]}]})(t)}function Vp(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"},child:[]}]})(t)}function ite(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"},child:[]},{tag:"path",attr:{d:"M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"},child:[]}]})(t)}function $R(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(t)}function M1(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(t)}function OP(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function IP(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function dL(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"},child:[]}]})(t)}function Kp(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"},child:[]}]})(t)}function fL(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5.5 13a3.5 3.5 0 01-.369-6.98 4 4 0 117.753-1.977A4.5 4.5 0 1113.5 13H11V9.413l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13H5.5z"},child:[]},{tag:"path",attr:{d:"M9 13h2v5a1 1 0 11-2 0v-5z"},child:[]}]})(t)}function QS(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"},child:[]}]})(t)}function ste(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"},child:[]}]})(t)}function hL(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function WR(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function ate(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"},child:[]}]})(t)}function Lx(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"},child:[]}]})(t)}function ote(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"},child:[]}]})(t)}function jV(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function Pf(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"},child:[]}]})(t)}function lte(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"},child:[]}]})(t)}function cte(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"},child:[]}]})(t)}function LP(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z",clipRule:"evenodd"},child:[]}]})(t)}function pL(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},child:[]}]})(t)}function e2(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"},child:[]}]})(t)}function ute(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(t)}function DP(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},child:[]}]})(t)}function Ia(t){return mt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}const dte=()=>{const{isLoggedIn:t}=Om(),e=Bf(),n=iy(),[r,i]=B.useState(!1),s=e.pathname==="/settings",a=e.pathname==="/insights",o=e.pathname==="/dashboard";e.pathname;const l=()=>{i(!r)},c=()=>{i(!1)},d=f=>{n(f),c()};return p.jsx("header",{className:"mb-2 bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-700 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 text-white rounded-xl shadow-lg border border-white/20 dark:border-white/10 backdrop-blur-sm",children:p.jsxs("div",{className:"mx-auto px-4 sm:px-4 lg:px-4 py-1.5 sm:py-2 lg:py-3",children:[p.jsxs("div",{className:"flex justify-between items-center min-h-[40px] sm:min-h-[48px] lg:min-h-[56px]",children:[p.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-shrink-0 min-w-0",children:[(s||a)&&p.jsx("button",{onClick:()=>n("/dashboard"),className:"group flex items-center justify-center p-1 sm:p-1.5 lg:p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-200 transform hover:scale-105 flex-shrink-0",title:"Back to Dashboard",children:p.jsx(nte,{className:"h-3 w-3 sm:h-4 sm:w-4 lg:h-5 lg:w-5 group-hover:translate-x-[-2px] transition-transform duration-200"})}),p.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 min-w-0",children:[p.jsx("div",{className:"bg-white/20 p-1 sm:p-1.5 lg:p-2 rounded-lg flex-shrink-0",children:p.jsx($R,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-white"})}),p.jsxs("div",{className:"min-w-0 hidden xs:block",children:[p.jsx("h1",{className:"font-extrabold  text-sm sm:text-lg lg:text-2xl bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent truncate font-proza",children:"Smart Todo"}),p.jsx("p",{className:"text-xs sm:text-sm text-white/70 hidden sm:block truncate",children:"To-Do lists help us break life into small steps."})]})]})]}),t&&p.jsx("nav",{className:"hidden md:block flex-shrink-0",children:p.jsxs("ul",{className:"flex items-center space-x-2",children:[p.jsx("li",{children:p.jsxs(Ls,{to:"/home",className:`group flex items-center space-x-1.5 px-2 lg:px-3 py-1.5 lg:py-2 rounded-lg transition-all duration-200 transform hover:scale-105 ${o?"bg-white/25 shadow-lg border border-white/30":"bg-white/10 hover:bg-white/20"}`,children:[p.jsx(Lx,{className:"h-4 w-4 group-hover:scale-110 transition-transform duration-200"}),p.jsx("span",{className:"text-sm font-medium",children:"Home"})]})}),p.jsx("li",{children:p.jsxs(Ls,{to:"/dashboard",className:`group flex items-center space-x-1.5 px-2 lg:px-3 py-1.5 lg:py-2 rounded-lg transition-all duration-200 transform hover:scale-105 ${o?"bg-white/25 shadow-lg border border-white/30":"bg-white/10 hover:bg-white/20"}`,children:[p.jsx(Lx,{className:"h-4 w-4 group-hover:scale-110 transition-transform duration-200"}),p.jsx("span",{className:"text-sm font-medium",children:"Dashboard"}),o&&p.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"})]})}),p.jsx("li",{children:p.jsxs(Ls,{to:"/insights",className:`group flex items-center space-x-1.5 px-2 lg:px-3 py-1.5 lg:py-2 rounded-lg transition-all duration-200 transform hover:scale-105 ${a?"bg-white/25 shadow-lg border border-white/30":"bg-white/10 hover:bg-white/20"}`,children:[p.jsx(Vp,{className:"h-4 w-4 group-hover:rotate-12 transition-transform duration-200"}),p.jsx("span",{className:"text-sm font-medium",children:"Insights"}),a&&p.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"})]})}),p.jsx("li",{children:p.jsxs(Ls,{to:"/settings",className:`group flex items-center space-x-1.5 px-2 lg:px-3 py-1.5 lg:py-2 rounded-lg transition-all duration-200 transform hover:scale-105 ${s?"bg-white/25 shadow-lg border border-white/30":"bg-white/10 hover:bg-white/20"}`,children:[p.jsx(QS,{className:"h-4 w-4 group-hover:rotate-180 transition-transform duration-300"}),p.jsx("span",{className:"text-sm font-medium",children:"Settings"}),s&&p.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"})]})}),p.jsx("li",{className:"flex items-center ml-1",children:p.jsx(Yb,{variant:"header",size:"medium"})}),p.jsx("li",{className:"flex items-center ml-1",children:p.jsx("div",{className:"p-1.5 pb-0 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-200",children:p.jsx(JS,{})})})]})}),t&&p.jsx("nav",{className:"hidden sm:block md:hidden flex-shrink-0",children:p.jsxs("ul",{className:"flex items-center space-x-1",children:[p.jsx("li",{children:p.jsxs(Ls,{to:"/dashboard",className:`group flex items-center space-x-1.5 px-2 py-1.5 rounded-lg transition-all duration-200 transform hover:scale-105 ${o?"bg-white/25 shadow-lg border border-white/30":"bg-white/10 hover:bg-white/20"}`,children:[p.jsx(Lx,{className:"h-4 w-4 group-hover:scale-110 transition-transform duration-200"}),p.jsx("span",{className:"text-sm font-medium",children:"Dashboard"}),o&&p.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"})]})}),p.jsx("li",{children:p.jsxs(Ls,{to:"/insights",className:`group flex items-center space-x-1.5 px-2 py-1.5 rounded-lg transition-all duration-200 transform hover:scale-105 ${a?"bg-white/25 shadow-lg border border-white/30":"bg-white/10 hover:bg-white/20"}`,children:[p.jsx(Vp,{className:"h-4 w-4 group-hover:rotate-12 transition-transform duration-200"}),p.jsx("span",{className:"text-sm font-medium",children:"Insights"}),a&&p.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"})]})}),p.jsx("li",{children:p.jsxs(Ls,{to:"/settings",className:`group flex items-center space-x-1.5 px-2 py-1.5 rounded-lg transition-all duration-200 transform hover:scale-105 ${s?"bg-white/25 shadow-lg border border-white/30":"bg-white/10 hover:bg-white/20"}`,children:[p.jsx(QS,{className:"h-4 w-4 group-hover:rotate-180 transition-transform duration-300"}),p.jsx("span",{className:"text-sm font-medium",children:"Settings"}),s&&p.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"})]})}),p.jsx("li",{className:"flex items-center ml-1",children:p.jsx(Yb,{variant:"header",size:"small"})}),p.jsx("li",{className:"flex items-center ml-1",children:p.jsx("div",{className:"p-1.5 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-200",children:p.jsx(JS,{})})})]})}),t&&p.jsxs("div",{className:"flex items-center space-x-1 sm:hidden flex-shrink-0",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx(Yb,{variant:"header",size:"small"})}),p.jsx("div",{className:"flex-shrink-0",children:p.jsx(JS,{})}),p.jsx("button",{onClick:l,className:"p-1.5 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-200 flex-shrink-0",children:r?p.jsx(Ia,{className:"h-4 w-4"}):p.jsx(jV,{className:"h-4 w-4"})})]})]}),t&&r&&p.jsx("div",{className:"md:hidden mt-2 pt-2 border-t border-white/20 dark:border-white/10",children:p.jsxs("nav",{className:"space-y-1",children:[p.jsxs("button",{onClick:()=>d("/dashboard"),className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 text-sm ${o?"bg-white/20":"bg-white/10 hover:bg-white/15"}`,children:[p.jsx(Lx,{className:"h-4 w-4"}),p.jsx("span",{className:"font-medium",children:"Dashboard"})]}),p.jsxs("button",{onClick:()=>d("/insights"),className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 text-sm ${a?"bg-white/20":"bg-white/10 hover:bg-white/15"}`,children:[p.jsx(Vp,{className:"h-4 w-4"}),p.jsx("span",{className:"font-medium",children:"Insights"})]}),p.jsxs("button",{onClick:()=>d("/settings"),className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 text-sm ${s?"bg-white/20":"bg-white/10 hover:bg-white/15"}`,children:[p.jsx(QS,{className:"h-4 w-4"}),p.jsx("span",{className:"font-medium",children:"Settings"})]})]})})]})})},fte=()=>p.jsx(p.Fragment,{children:p.jsx("footer",{className:"bg-gray-900 text-white py-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[p.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-2 rounded-lg",children:p.jsx($R,{className:"h-6 w-6 text-white"})}),p.jsx("span",{className:"text-xl font-bold",children:"Smart Todo"})]}),p.jsx("p",{className:"text-gray-400 mb-4",children:"The intelligent task manager that transforms chaos into clarity."}),p.jsx("div",{className:"flex space-x-4"})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold mb-4"}),p.jsxs("ul",{className:"space-y-2 text-gray-400",children:[p.jsx("li",{children:p.jsx("a",{href:"#features",className:"hover:text-white transition-colors",children:"Features"})}),p.jsxs("li",{className:"relative group",children:[p.jsxs("a",{href:"#",className:"hover:text-white transition-colors cursor-pointer flex items-center",children:["Updates",p.jsx("svg",{className:"ml-1 w-4 h-4 fill-current",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M5.25 7.5l4.5 4.5 4.5-4.5H5.25z"})})]}),p.jsxs("ul",{className:"absolute left-0 mt-2 w-40 bg-slate-900 rounded-md shadow-lg opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity duration-200 z-10",children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"block px-4 py-2 hover:bg-purple-700 rounded-md transition-colors",children:"Version 2.0"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"block px-4 py-2 hover:bg-purple-700 rounded-md transition-colors",children:"Version 3.1 mega"})})]})]})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold mb-4"}),p.jsx("ul",{className:"space-y-2 text-gray-400",children:p.jsx("li",{children:p.jsx("a",{href:"#pricing",className:"hover:text-white transition-colors",children:"Pricing"})})})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold mb-4"}),p.jsx("ul",{className:"space-y-2 text-gray-400",children:p.jsx("li",{children:p.jsx("a",{href:"#security",className:"hover:text-white transition-colors",children:"Security"})})})]})]}),p.jsxs("div",{className:"border-t border-gray-800 mt-4 pt-8 flex flex-col md:flex-row justify-between items-center",children:[p.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 Smart Todo. All rights reserved."}),p.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookie Policy"})]})]})]})})}),hte=()=>p.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-white/5 to-transparent dark:from-transparent dark:via-gray-900/20 dark:to-transparent pointer-events-none"}),p.jsx("div",{className:"px-4 py-4 relative z-10 content-overlay",children:p.jsx(dte,{})}),p.jsx("main",{className:"flex-grow flex justify-center items-center p-4 relative z-10 content-overlay",children:p.jsx(O6,{})}),p.jsx(fte,{})]});function mL(t){return mt({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},child:[]}]})(t)}function gL(t){return mt({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"},child:[]}]})(t)}function vL(t){return mt({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"},child:[]}]})(t)}function Dx(t){return mt({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"},child:[]}]})(t)}function pte(t){return mt({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"},child:[]}]})(t)}function mte(t){return mt({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.5 18.75a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M8.625.75A3.375 3.375 0 0 0 5.25 4.125v15.75a3.375 3.375 0 0 0 3.375 3.375h6.75a3.375 3.375 0 0 0 3.375-3.375V4.125A3.375 3.375 0 0 0 15.375.75h-6.75ZM7.5 4.125C7.5 3.504 8.004 3 8.625 3H9.75v.375c0 .621.504 1.125 1.125 1.125h2.25c.621 0 1.125-.504 1.125-1.125V3h1.125c.621 0 1.125.504 1.125 1.125v15.75c0 .621-.504 1.125-1.125 1.125h-6.75A1.125 1.125 0 0 1 7.5 19.875V4.125Z",clipRule:"evenodd"},child:[]}]})(t)}function gte(t){return mt({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"},child:[]}]})(t)}function vte(t){return mt({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"},child:[]}]})(t)}function yL(t){return mt({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M12 .75a8.25 8.25 0 0 0-4.135 15.39c.686.398 1.115 1.008 1.134 1.623a.75.75 0 0 0 .577.706c.352.083.71.148 1.074.195.323.041.6-.218.6-.544v-4.661a6.714 6.714 0 0 1-.937-.171.75.75 0 1 1 .374-1.453 5.261 5.261 0 0 0 2.626 0 .75.75 0 1 1 .374 1.452 6.712 6.712 0 0 1-.937.172v4.66c0 .327.277.586.6.545.364-.047.722-.112 1.074-.195a.75.75 0 0 0 .577-.706c.02-.615.448-1.225 1.134-1.623A8.25 8.25 0 0 0 12 .75Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M9.013 19.9a.75.75 0 0 1 .877-.597 11.319 11.319 0 0 0 4.22 0 .75.75 0 1 1 .28 1.473 12.819 12.819 0 0 1-4.78 0 .75.75 0 0 1-.597-.876ZM9.754 22.344a.75.75 0 0 1 .824-.668 13.682 13.682 0 0 0 2.844 0 .75.75 0 1 1 .156 1.492 15.156 15.156 0 0 1-3.156 0 .75.75 0 0 1-.668-.824Z",clipRule:"evenodd"},child:[]}]})(t)}function yte(t){return mt({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"},child:[]}]})(t)}function xte(t){return mt({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"},child:[]}]})(t)}function bte(t){return mt({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"},child:[]}]})(t)}function xL(t){return mt({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"},child:[]}]})(t)}const wte=()=>{const[t,e]=B.useState(!1);return B.useEffect(()=>{e(!0)},[]),t?p.jsx(Sn.div,{className:"min-h-screen bg-white dark:bg-gray-900",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:p.jsx(O6,{})}):null},bL=()=>{const[t,e]=B.useState(!1),[n,r]=B.useState(0);B.useEffect(()=>{const l=setInterval(()=>{r(c=>(c+1)%6)},4e3);return()=>clearInterval(l)},[]);const i=[{icon:yL,title:"Intelligent Task Management",description:"Create tasks with dependencies, subtasks, and priorities. Watch your workflow optimize itself as you work.",color:"from-purple-500 to-pink-500"},{icon:gL,title:"Smart Reminders & Notifications",description:"Smart reminders that learn your patterns. Get notified when dependencies are ready.",color:"from-green-500 to-emerald-500"},{icon:gte,title:"Rich Context & Attachments",description:"Add notes, files, images. Everything related to your task lives in one spot.",color:"from-orange-500 to-red-500"},{icon:vL,title:"Powerful Analytics",description:"See patterns, track progress, identify bottlenecks. Make data-driven decisions about your time.",color:"from-indigo-500 to-purple-500"},{icon:mte,title:"Universal Access",description:"Beautiful dark/light themes. Works perfectly on phone, tablet, desktop. Always in sync.",color:"from-teal-500 to-blue-500"}],s=[{name:"Sarah Chen",role:"Project Manager",company:"TechCorp",content:"Finally, a todo app that thinks like I do. The dependency features alone saved our team 10 hours a week.",rating:5},{name:"Marcus Rodriguez",role:"Startup Founder",company:"InnovateLab",content:"Switched our entire team from other tools. The real-time updates and smart reminders are game-changers.",rating:5},{name:"Dr. Amy Thompson",role:"Research Director",company:"ScienceHub",content:"Beautiful, intuitive, powerful. It's rare to find all three in one app.",rating:5}],a={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},o={animate:{transition:{staggerChildren:.1}}};return p.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 overflow-x-hidden",children:[p.jsx("header",{className:"fixed top-0 w-full z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-200/20 dark:border-gray-700/20",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"flex justify-between items-center h-16",children:[p.jsxs(Sn.div,{className:"flex items-center space-x-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[p.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-2 rounded-lg",children:p.jsx(Dx,{className:"h-6 w-6 text-white"})}),p.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Smart Todo"})]}),p.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[p.jsx("a",{href:"#features",className:"text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:"Features"}),p.jsx("a",{href:"#pricing",className:"text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:"Pricing"}),p.jsx("a",{href:"#security",className:"text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:"Security"}),p.jsx(Ls,{to:"/auth/login",className:"text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:"Sign In"}),p.jsx(Ls,{to:"/auth/register",className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-2 rounded-lg hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:"Get Started Free"})]}),p.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>e(!t),children:t?p.jsx(Ia,{className:"h-6 w-6"}):p.jsx(jV,{className:"h-6 w-6"})})]}),t&&p.jsx(Sn.div,{className:"md:hidden py-4 border-t border-gray-200 dark:border-gray-700",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:p.jsxs("div",{className:"flex flex-col space-y-4",children:[p.jsx("a",{href:"#features",className:"text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:"Features"}),p.jsx("a",{href:"#pricing",className:"text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:"Pricing"}),p.jsx("a",{href:"#security",className:"text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:"Security"}),p.jsx(Ls,{to:"/auth/login",className:"text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:"Sign In"}),p.jsx(Ls,{to:"/auth/register",className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-2 rounded-lg text-center",children:"Get Started Free"})]})})]})}),p.jsx("section",{className:"pt-24 pb-20 bg-gradient-to-br from-[#9406E6] to-[#00FFFF] dark:from-gray-900 dark:via-purple-900/20 dark:to-blue-900/20",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[p.jsxs(Sn.div,{className:"text-center lg:text-left",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[p.jsxs(Sn.h1,{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold text-gray-900 dark:text-white mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:["Transform"," ",p.jsx("span",{className:"bg-gradient-to-r from-yellow-400 via-pink-500 to-red-400 bg-clip-text text-transparent drop-shadow-lg",children:"Chaos"})," ","Into"," ",p.jsx("span",{className:"bg-gradient-to-r from-green-400 via-cyan-500 to-blue-400 bg-clip-text text-transparent drop-shadow-lg",children:"Clarity"})]}),p.jsx(Sn.p,{className:"text-xl text-gray-800 dark:text-gray-100 mb-8 leading-relaxed font-semibold drop-shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:"The intelligent task manager that adapts to how you work  from simple tasks to complex project workflows with real-time collaboration."}),p.jsxs(Sn.div,{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[p.jsxs(Ls,{to:"/auth/register",className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",children:[p.jsx("span",{children:"Start Organizing Smarter"}),p.jsx(mL,{className:"h-5 w-5"})]}),p.jsxs("button",{className:"border-2 border-purple-600 text-purple-600 dark:text-purple-400 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-purple-600 hover:text-white transition-all duration-200 flex items-center justify-center space-x-2",children:[p.jsx(yte,{className:"h-5 w-5"}),p.jsx("span",{children:"Watch Demo"})]})]}),p.jsx(Sn.div,{className:"flex flex-wrap gap-6 justify-center lg:justify-start text-sm text-gray-800 dark:text-gray-400",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.8},children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Dx,{className:"h-5 w-5 text-green-500"}),p.jsx("span",{children:"Smart task dependencies"})]})})]}),p.jsx(Sn.div,{className:"relative",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.4},children:p.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 border border-gray-200 dark:border-gray-700",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Today's Tasks"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),p.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),p.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]})]}),[1,2,3,4].map((l,c)=>p.jsxs(Sn.div,{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:1+c*.1},children:[p.jsx("div",{className:"w-4 h-4 border-2 border-purple-400 rounded"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-600 rounded w-3/4"}),p.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-600 rounded w-1/2 mt-1"})]}),p.jsx("div",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900 rounded-full"})]},l))]}),p.jsx(Sn.div,{className:"absolute -top-4 -right-4 bg-gradient-to-r from-purple-500 to-blue-500 text-white p-3 rounded-lg shadow-lg",animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0},children:p.jsx(gL,{className:"h-5 w-5"})}),p.jsx(Sn.div,{className:"absolute -bottom-4 -left-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white p-3 rounded-lg shadow-lg",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0,delay:1},children:p.jsx(xL,{className:"h-5 w-5"})})]})})]})})}),p.jsx("section",{id:"features",className:"py-20 bg-white dark:bg-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs(Sn.div,{className:"text-center mb-16",...a,children:[p.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Powerful Features for Modern Teams"}),p.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Everything you need to manage tasks, collaborate with teams, and boost productivity in one intelligent platform."})]}),p.jsx(Sn.div,{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",variants:o,initial:"initial",whileInView:"animate",viewport:{once:!0},children:i.map((l,c)=>p.jsxs(Sn.div,{className:"group relative bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 cursor-pointer",variants:a,onHoverStart:()=>r(c),children:[p.jsx("div",{className:`inline-flex p-3 rounded-lg bg-gradient-to-r ${l.color} mb-4`,children:p.jsx(l.icon,{className:"h-6 w-6 text-white"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:l.title}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:l.description}),p.jsx(Sn.div,{className:"absolute inset-0 bg-gradient-to-r from-purple-500/5 to-blue-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},c))})]})}),p.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs(Sn.div,{className:"text-center mb-16",...a,children:[p.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"How It Works"}),p.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"Get started in three simple steps"})]}),p.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{step:"01",title:"Brain Dump",description:"Add all your tasks effortlessly with our intuitive interface",icon:yL},{step:"02",title:"Connect",description:"Link related tasks and set dependencies to optimize workflow",icon:xL},{step:"03",title:"Execute",description:"Let the smart system guide your workflow and boost productivity",icon:vL}].map((l,c)=>p.jsxs(Sn.div,{className:"text-center",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:c*.2},viewport:{once:!0},children:[p.jsxs("div",{className:"relative mb-6",children:[p.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(l.icon,{className:"h-8 w-8 text-white"})}),p.jsx("div",{className:"absolute -top-2 -right-2 bg-white dark:bg-gray-800 text-purple-600 font-bold text-sm px-2 py-1 rounded-full border-2 border-purple-600",children:l.step})]}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:l.title}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:l.description})]},c))})]})}),p.jsx("section",{className:"py-20 bg-white dark:bg-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs(Sn.div,{className:"text-center mb-16",...a,children:[p.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Trusted by Productive Teams Worldwide"}),p.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"See what our users have to say about their experience"})]}),p.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s.map((l,c)=>p.jsxs(Sn.div,{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:c*.1},viewport:{once:!0},children:[p.jsx("div",{className:"flex items-center mb-4",children:[...Array(l.rating)].map((d,f)=>p.jsx(bte,{className:"h-5 w-5 text-yellow-400"},f))}),p.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4 italic",children:['"',l.content,'"']}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:l.name}),p.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l.role,", ",l.company]})]})]},c))})]})}),p.jsx("section",{id:"pricing",className:"py-20 bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs(Sn.div,{className:"text-center mb-16",...a,children:[p.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Simple, Transparent Pricing"}),p.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"Choose the plan that fits your needs"})]}),p.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[{name:"Free",price:"$0",period:"forever",features:["Unlimited personal tasks","Basic collaboration (3 members)","Standard notifications","Mobile & web access"],cta:"Get Started Free",popular:!1},{name:"Pro",price:"$9",period:"per month",features:["Unlimited team collaboration","Advanced analytics","Priority support","Custom integrations","Advanced reminders"],cta:"Start Pro Trial",popular:!0},{name:"Enterprise",price:"Custom",period:"contact us",features:["Advanced security","Custom deployment","Dedicated support","SLA guarantee","Custom features"],cta:"Contact Sales",popular:!1}].map((l,c)=>p.jsxs(Sn.div,{className:`relative bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg border-2 ${l.popular?"border-purple-500 scale-105":"border-gray-200 dark:border-gray-700"}`,initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:c*.1},viewport:{once:!0},children:[l.popular&&p.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:p.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:l.name}),p.jsxs("div",{className:"mb-4",children:[p.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:l.price}),p.jsx("span",{className:"text-gray-600 dark:text-gray-300 ml-2",children:l.period})]})]}),p.jsx("ul",{className:"space-y-4 mb-8",children:l.features.map((d,f)=>p.jsxs("li",{className:"flex items-center space-x-3",children:[p.jsx(Dx,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),p.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:d})]},f))}),p.jsx("button",{className:`w-full py-3 px-6 rounded-lg font-semibold transition-all duration-200 ${l.popular?"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:shadow-lg transform hover:scale-105":"border-2 border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white"}`,children:l.cta})]},c))})]})}),p.jsx("section",{id:"security",className:"py-20 bg-white dark:bg-gray-900",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs(Sn.div,{className:"text-center mb-16",...a,children:[p.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Your Data, Secured"}),p.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"Enterprise-grade security you can trust"})]}),p.jsx("div",{className:"flex flex-wrap justify-center gap-8",children:[{icon:xte,title:"End-to-End Encryption",description:"Your data is encrypted in transit and at rest"},{icon:vte,title:"GDPR Compliant",description:"Full compliance with global privacy regulations"},{icon:pte,title:"99.9% Uptime",description:"Reliable service with guaranteed availability"}].map((l,c)=>p.jsxs(Sn.div,{className:"text-center flex-1 min-w-[220px] max-w-xs",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:c*.1},viewport:{once:!0},children:[p.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(l.icon,{className:"h-8 w-8 text-white"})}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:l.title}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:l.description})]},c))})]})}),p.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 via-blue-600 to-cyan-600",children:p.jsx("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:p.jsxs(Sn.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[p.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Ready to Transform How You Work?"}),p.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Join thousands of productive teams who've already made the switch"}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[p.jsxs(Ls,{to:"/auth/register",className:"bg-white text-purple-600 px-8 py-4 rounded-lg text-lg font-semibold hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",children:[p.jsx("span",{children:"Start Your Free Account"}),p.jsx(mL,{className:"h-5 w-5"})]}),p.jsx("button",{className:"border-2 border-white text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-white hover:text-purple-600 transition-all duration-200",children:"Schedule Demo"})]}),p.jsx("p",{className:"text-white/70 mt-4 text-sm",children:"No credit card required  Upgrade anytime  Cancel anytime"})]})})}),p.jsx("footer",{className:"bg-gray-900 text-white py-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[p.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-2 rounded-lg",children:p.jsx(Dx,{className:"h-6 w-6 text-white"})}),p.jsx("span",{className:"text-xl font-bold",children:"Smart Todo"})]}),p.jsx("p",{className:"text-gray-400 mb-4",children:"The intelligent task manager that transforms chaos into clarity."}),p.jsx("div",{className:"flex space-x-4"})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold mb-4"}),p.jsxs("ul",{className:"space-y-2 text-gray-400",children:[p.jsx("li",{children:p.jsx("a",{href:"#features",className:"hover:text-white transition-colors",children:"Features"})}),p.jsxs("li",{className:"relative group",children:[p.jsxs("a",{href:"#",className:"hover:text-white transition-colors cursor-pointer flex items-center",children:["Updates",p.jsx("svg",{className:"ml-1 w-4 h-4 fill-current",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M5.25 7.5l4.5 4.5 4.5-4.5H5.25z"})})]}),p.jsxs("ul",{className:"absolute left-0 mt-2 w-40 bg-slate-900 rounded-md shadow-lg opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity duration-200 z-10",children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"block px-4 py-2 hover:bg-purple-700 rounded-md transition-colors",children:"Version 2.0"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"block px-4 py-2 hover:bg-purple-700 rounded-md transition-colors",children:"Version 3.1 mega"})})]})]})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold mb-4"}),p.jsx("ul",{className:"space-y-2 text-gray-400",children:p.jsx("li",{children:p.jsx("a",{href:"#pricing",className:"hover:text-white transition-colors",children:"Pricing"})})})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold mb-4"}),p.jsx("ul",{className:"space-y-2 text-gray-400",children:p.jsx("li",{children:p.jsx("a",{href:"#security",className:"hover:text-white transition-colors",children:"Security"})})})]})]}),p.jsxs("div",{className:"border-t border-gray-800 mt-4 pt-8 flex flex-col md:flex-row justify-between items-center",children:[p.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 Smart Todo. All rights reserved."}),p.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookie Policy"})]})]})]})})]})};function Vf(t){return mt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"},child:[]}]})(t)}function _te({isOpen:t,onClose:e,onSave:n,task:r}){const[i,s]=B.useState({title:"",date:"",time:"",priority:"Medium"}),[a,o]=B.useState(!1),[l,c]=B.useState(""),d=M=>{if(!M)return"";try{const[P,C,N]=M.split("/");return!P||!C||!N?"":`${N}-${C.padStart(2,"0")}-${P.padStart(2,"0")}`}catch(P){return console.error("Error converting date to input format:",P),""}},f=M=>{if(!M)return"";try{const[P,C,N]=M.split("-");return!N||!C||!P?"":`${N.padStart(2,"0")}/${C.padStart(2,"0")}/${P}`}catch(P){return console.error("Error converting date to API format:",P),""}},g=M=>{if(!M)return"";try{const[P,C]=M.split(" ");if(!P||!C)return"";const[N,O]=P.split(":");if(!N||!O)return"";let D=parseInt(N,10);return C==="PM"&&D!==12&&(D+=12),C==="AM"&&D===12&&(D=0),`${D.toString().padStart(2,"0")}:${O}`}catch(P){return console.error("Error converting time to input format:",P),""}},y=M=>{if(!M)return"";try{const[P,C]=M.split(":");if(!P||!C)return"";const N=parseInt(P,10);if(isNaN(N)||N<0||N>23)return"";const O=N>=12?"PM":"AM";return`${N===0?12:N>12?N-12:N}:${C} ${O}`}catch(P){return console.error("Error converting time to API format:",P),""}};B.useEffect(()=>{r&&s({title:r.task||r.title||"",date:d(r.date)||"",time:g(r.time)||"",priority:r.priority||"Medium"}),c("")},[r,t]);const x=async M=>{if(M.preventDefault(),!i.title.trim()){c("Task title is required");return}if(i.date&&!i.date.match(/^\d{4}-\d{2}-\d{2}$/)){c("Invalid date format. Please use the date picker.");return}if(i.time&&!i.time.match(/^\d{2}:\d{2}$/)){c("Invalid time format. Please use the time picker.");return}o(!0),c("");try{const P={task:i.title.trim(),date:i.date?f(i.date):"",time:i.time?y(i.time):"",priority:i.priority};await n(r._id,P),e()}catch(P){console.error("Error updating task:",P),c(P.message||"Failed to update task")}finally{o(!1)}},S=M=>{const{name:P,value:C}=M.target;s(N=>({...N,[P]:C})),l&&c("")},b=()=>{a||e()},_=M=>{M.target===M.currentTarget&&!a&&e()};if(!t)return null;const E=p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[99999] p-3 sm:p-4",style:{animation:"modalBackdropFadeIn 0.3s ease-out forwards"},onClick:_,children:p.jsxs("div",{className:"bg-gradient-to-br from-indigo-600/95 to-purple-600/95 backdrop-blur-lg rounded-xl shadow-2xl w-full max-w-sm mx-3 transform transition-all duration-300 ease-out",style:{animation:"modalSlideIn 0.4s ease-out forwards"},onClick:M=>M.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:p.jsx(Pf,{className:"h-4 w-4 text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-bold text-white font-proza",children:"Edit Task"}),p.jsx("p",{className:"text-xs text-white/80 truncate max-w-[180px]",children:(r==null?void 0:r.task)||(r==null?void 0:r.title)||"Task"})]})]}),!a&&p.jsx("button",{onClick:b,className:"text-white/80 hover:text-white transition-colors p-1 rounded-full hover:bg-white/20 touch-manipulation",children:p.jsx(Ia,{className:"h-5 w-5"})})]}),p.jsxs("div",{className:"p-4",children:[l&&p.jsx("div",{className:"mb-3 p-2 bg-red-500/20 border border-red-500/30 rounded-lg",children:p.jsx("p",{className:"text-red-200 text-xs",children:l})}),p.jsxs("form",{onSubmit:x,className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-white text-xs font-medium mb-1",children:"Task Title *"}),p.jsx("input",{type:"text",name:"title",value:i.title,onChange:S,className:"w-full px-3 py-2 bg-white/20 backdrop-blur-sm text-white placeholder-white/70 rounded-lg border border-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent text-sm touch-manipulation",placeholder:"Enter task title",required:!0,disabled:a,autoFocus:!0})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-white text-xs font-medium mb-1",children:"Date"}),p.jsx("input",{type:"date",name:"date",value:i.date,onChange:S,className:"w-full px-3 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg border border-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent text-sm touch-manipulation",disabled:a})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-white text-xs font-medium mb-1",children:"Time"}),p.jsx("input",{type:"time",name:"time",value:i.time,onChange:S,className:"w-full px-3 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg border border-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent text-sm touch-manipulation",disabled:a})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-white text-xs font-medium mb-1",children:"Priority"}),p.jsxs("select",{name:"priority",value:i.priority,onChange:S,className:"w-full px-3 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg border border-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent text-sm touch-manipulation",disabled:a,children:[p.jsx("option",{value:"Low",className:"text-gray-900",children:"Low"}),p.jsx("option",{value:"Medium",className:"text-gray-900",children:"Medium"}),p.jsx("option",{value:"High",className:"text-gray-900",children:"High"})]})]})]})]}),p.jsx("div",{className:"p-4 border-t border-white/20 bg-white/5",children:p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsx("button",{onClick:x,disabled:a||!i.title.trim(),className:`w-full py-2.5 px-4 rounded-lg font-semibold transition-all duration-200 text-sm touch-manipulation ${!a&&i.title.trim()?"bg-white text-indigo-600 hover:bg-white/90 shadow-lg hover:shadow-white/25 active:scale-[0.98]":"bg-white/30 text-white/50 cursor-not-allowed"}`,children:a?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsx(Vf,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current"}),"Updating..."]}):"Update Task"}),p.jsx("button",{type:"button",onClick:b,disabled:a,className:`w-full py-2.5 px-4 bg-white/20 hover:bg-white/30 text-white font-semibold rounded-lg transition-all duration-200 active:scale-[0.98] text-sm touch-manipulation ${a?"opacity-50 cursor-not-allowed":""}`,children:"Cancel"})]})})]})});return Lu.createPortal(E,document.body)}const Ste=({isOpen:t,onClose:e,onConfirm:n,isDeleting:r,subtaskTitle:i})=>{if(!t)return null;const s=()=>{n()},a=()=>{r||e()},o=c=>{c.target===c.currentTarget&&!r&&e()},l=p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[99999] p-4",style:{animation:"modalBackdropFadeIn 0.3s ease-out forwards"},onClick:o,children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out",style:{animation:"modalSlideIn 0.4s ease-out forwards"},onClick:c=>c.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:p.jsx(WR,{className:"h-6 w-6 text-red-600"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-900 font-proza",children:"Delete Subtask"})]}),!r&&p.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100",children:p.jsx(Ia,{className:"h-5 w-5"})})]}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3 font-proza",children:"Are you sure?"}),p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[p.jsx("p",{className:"text-red-800 text-sm font-medium mb-2",children:"You are about to delete the following subtask:"}),p.jsx("div",{className:"bg-white border border-red-200 rounded p-3",children:p.jsxs("p",{className:"text-gray-900 font-semibold",children:['"',i,'"']})})]}),p.jsx("p",{className:"text-gray-600 text-sm",children:"This action cannot be undone. The subtask will be permanently removed from your task."})]}),p.jsxs("div",{className:"flex flex-col space-y-3",children:[p.jsx("button",{onClick:s,disabled:r,className:`w-full py-3 px-4 rounded-lg font-semibold transition-all duration-200 ${r?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white shadow-lg hover:shadow-red-500/25 active:scale-[0.98]"}`,children:r?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsx(Vf,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),"Deleting Subtask..."]}):"Yes, Delete Subtask"}),p.jsx("button",{onClick:a,disabled:r,className:`w-full py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-lg transition-all duration-200 active:scale-[0.98] ${r?"opacity-50 cursor-not-allowed":""}`,children:"Cancel"})]})]})]})});return Lu.createPortal(l,document.body)},Mte="http://localhost:5000";function wL({subtask:t,onDelete:e,onUpdate:n,onStatusChange:r}){const[i,s]=B.useState(t.status||!1),[a,o]=B.useState(!1),[l,c]=B.useState(!1),[d,f]=B.useState(!1);async function g(){if(!a){o(!0);try{const M=!i;s(M);const P=localStorage.getItem("token");if(!P)throw new Error("Authentication required");if(!(await fetch(`${Mte}/api/tasks/${t.taskId}/subtasks/${t._id}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},body:JSON.stringify({status:M})})).ok)throw new Error("Failed to update subtask status")}catch(M){console.error("Error updating subtask status:",M),s(!i),r&&r(t._id,i,M.message)}finally{o(!1)}}}function y(){n(t)}function x(){c(!0)}const S=async()=>{f(!0);try{await e(t._id),c(!1)}catch(M){console.error("Error deleting subtask:",M)}finally{f(!1)}},b=()=>{c(!1)},_=()=>{var M;switch((M=t.priority)==null?void 0:M.toLowerCase()){case"high":return"border-red-500 bg-red-50";case"medium":return"border-yellow-500 bg-yellow-50";case"low":return"border-green-500 bg-green-50";default:return"border-purple-500 bg-purple-50"}},E=()=>{const M={Low:"bg-green-100 text-green-800 border-green-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",High:"bg-red-100 text-red-800 border-red-300"};return p.jsx("span",{className:`inline-flex items-center px-1.5 sm:px-2 py-0.5 rounded text-xs font-medium border flex-shrink-0 ${M[t.priority]||M.Medium}`,children:t.priority})};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:`sm:hidden p-2 sm:p-3 rounded-lg border-l-4 ${_()}`,children:[p.jsxs("div",{className:"flex items-start justify-between mb-2",children:[p.jsxs("div",{className:"flex items-start space-x-2 flex-1 min-w-0",children:[p.jsx("input",{type:"radio",className:"w-3 h-3 rounded-full cursor-pointer appearance-none flex-shrink-0 mt-1 bg-purple-500 border-purple-500"}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h4",{className:`${i?"line-through text-gray-500":"text-gray-900"} font-medium text-sm leading-tight mb-1 transition-all`,children:t.title}),t.description&&p.jsx("p",{className:"text-xs text-gray-600 line-clamp-1 mb-1",children:t.description}),E()]})]}),p.jsx("button",{onClick:g,className:`w-5 h-5 rounded-full flex items-center justify-center transition-all duration-200 flex-shrink-0 ${i?"bg-[#9406E6] text-white shadow-md":"border-2 border-[#9406E6] hover:bg-[#9406E6]/10"}`,disabled:a,title:i?"Mark as incomplete":"Mark as complete",children:i&&p.jsx(M1,{className:"h-3 w-3"})})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600",children:[p.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 p-1 rounded",children:p.jsx(HR,{className:"h-3 w-3 text-white"})}),p.jsx("span",{className:`${i?"line-through text-gray-500":"text-gray-700"} font-medium`,children:t.date}),p.jsx("span",{className:`${i?"line-through text-gray-500":"text-gray-600"}`,children:t.time})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx("button",{onClick:y,className:"p-1 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded transition-colors",title:"Edit subtask",children:p.jsx(Pf,{className:"h-3 w-3"})}),p.jsx("button",{onClick:x,className:"p-1 bg-red-100 hover:bg-red-200 text-red-700 rounded transition-colors",title:"Delete subtask",children:p.jsx(Yo,{className:"h-3 w-3"})})]})]})]}),p.jsxs("div",{className:`hidden sm:grid grid-cols-[20px,1fr,auto] w-full px-2 sm:px-3 py-2 sm:py-2.5 rounded-lg border-l-4 ${_()} items-center gap-2 sm:gap-3`,children:[p.jsx("input",{type:"radio",className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full cursor-pointer appearance-none flex-shrink-0 bg-purple-500 border-purple-500"}),p.jsxs("div",{className:"flex flex-col min-w-0",children:[p.jsxs("div",{className:"flex items-center flex-wrap gap-1 sm:gap-2",children:[p.jsx("p",{className:`${i?"line-through text-gray-600":"text-gray-900"} font-medium text-sm sm:text-base transition-all truncate flex-1 min-w-0`,children:t.title}),E()]}),t.description&&p.jsx("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-1 mt-1",children:t.description})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-1 sm:gap-2 flex-shrink-0",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-1 text-right",children:[p.jsx("p",{className:`${i?"line-through text-gray-600":"text-gray-700"} font-medium text-xs sm:text-sm transition-all whitespace-nowrap`,children:t.date}),p.jsx("p",{className:`${i?"line-through text-gray-600":"text-gray-600"} text-xs sm:text-sm transition-all whitespace-nowrap`,children:t.time})]}),p.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 flex-shrink-0",children:[p.jsx("button",{onClick:y,className:"text-blue-600 hover:text-blue-800 p-0.5 sm:p-1 rounded transition-colors",title:"Edit subtask",children:p.jsx(Pf,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),p.jsx("button",{onClick:x,className:"text-red-600 hover:text-red-800 p-0.5 sm:p-1 rounded transition-colors",title:"Delete subtask",children:p.jsx(Yo,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),p.jsx("button",{onClick:g,className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full flex items-center justify-center transition-all duration-200 flex-shrink-0 ${i?"bg-[#9406E6] text-white":"border-2 border-[#9406E6] hover:bg-[#9406E6]/20"}`,disabled:a,title:i?"Mark as incomplete":"Mark as complete",children:i&&p.jsx(M1,{className:"h-3 w-3"})})]})]})]}),p.jsx(Ste,{isOpen:l,onClose:b,onConfirm:S,isDeleting:d,subtaskTitle:t.title})]})}const _L="http://localhost:5000";function Ete({isOpen:t,onClose:e,onSave:n,parentTaskId:r,parentTask:i,subtask:s=null}){const[a,o]=B.useState({title:"",description:"",date:"",time:"",priority:"Medium"}),[l,c]=B.useState(!1),[d,f]=B.useState(""),g=!!s;B.useEffect(()=>{o(s?{title:s.title||"",description:s.description||"",date:s.date||"",time:s.time||"",priority:s.priority||"Medium"}:{title:"",description:"",date:"",time:"",priority:"Medium"}),f("")},[s,t]);const y=async E=>{if(E.preventDefault(),!a.title.trim()){f("Subtask title is required");return}c(!0),f("");try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required");const P=g?`${_L}/api/tasks/${r}/subtasks/${s._id}`:`${_L}/api/tasks/${r}/subtasks`,N=await fetch(P,{method:g?"PUT":"POST",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"},body:JSON.stringify(a)});if(!N.ok){const D=await N.json();throw new Error(D.message||`Failed to ${g?"update":"create"} subtask`)}const O=await N.json();n&&n(O.subtask||O),e()}catch(M){console.error(`Error ${g?"updating":"creating"} subtask:`,M),f(M.message||`Failed to ${g?"update":"create"} subtask`)}finally{c(!1)}},x=E=>{const{name:M,value:P}=E.target;o(C=>({...C,[M]:P})),d&&f("")},S=()=>{l||e()},b=E=>{E.target===E.currentTarget&&!l&&e()};if(!t)return null;const _=p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[99999] p-3 sm:p-4",style:{animation:"modalBackdropFadeIn 0.3s ease-out forwards"},onClick:b,children:p.jsxs("div",{className:"bg-gradient-to-br from-indigo-600/95 to-purple-600/95 backdrop-blur-lg rounded-xl shadow-2xl w-full max-w-sm mx-3 transform transition-all duration-300 ease-out",style:{animation:"modalSlideIn 0.4s ease-out forwards"},onClick:E=>E.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:g?p.jsx(Pf,{className:"h-4 w-4 text-white"}):p.jsx(lte,{className:"h-4 w-4 text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-bold text-white font-proza",children:g?"Edit Subtask":"Add Subtask"}),p.jsx("p",{className:"text-xs text-white/80 truncate max-w-[180px]",children:(i==null?void 0:i.title)||"Parent Task"})]})]}),!l&&p.jsx("button",{onClick:S,className:"text-white/80 hover:text-white transition-colors p-1 rounded-full hover:bg-white/20 touch-manipulation",children:p.jsx(Ia,{className:"h-5 w-5"})})]}),p.jsxs("div",{className:"p-4",children:[d&&p.jsx("div",{className:"mb-3 p-2 bg-red-500/20 border border-red-500/30 rounded-lg",children:p.jsx("p",{className:"text-red-200 text-xs",children:d})}),p.jsxs("form",{onSubmit:y,className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-white text-xs font-medium mb-1",children:"Subtask Title *"}),p.jsx("input",{type:"text",name:"title",value:a.title,onChange:x,className:"w-full px-3 py-2 bg-white/20 backdrop-blur-sm text-white placeholder-white/70 rounded-lg border border-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent text-sm touch-manipulation",placeholder:"Enter subtask title",required:!0,disabled:l,autoFocus:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-white text-xs font-medium mb-1",children:"Description"}),p.jsx("textarea",{name:"description",value:a.description,onChange:x,rows:"2",className:"w-full px-3 py-2 bg-white/20 backdrop-blur-sm text-white placeholder-white/70 rounded-lg border border-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent resize-none text-sm touch-manipulation",placeholder:"Enter description (optional)",disabled:l})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-white text-xs font-medium mb-1",children:"Date"}),p.jsx("input",{type:"date",name:"date",value:a.date,onChange:x,className:"w-full px-3 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg border border-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent text-sm touch-manipulation",disabled:l})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-white text-xs font-medium mb-1",children:"Time"}),p.jsx("input",{type:"time",name:"time",value:a.time,onChange:x,className:"w-full px-3 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg border border-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent text-sm touch-manipulation",disabled:l})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-white text-xs font-medium mb-1",children:"Priority"}),p.jsxs("select",{name:"priority",value:a.priority,onChange:x,className:"w-full px-3 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg border border-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent text-sm touch-manipulation",disabled:l,children:[p.jsx("option",{value:"Low",className:"text-gray-900",children:"Low"}),p.jsx("option",{value:"Medium",className:"text-gray-900",children:"Medium"}),p.jsx("option",{value:"High",className:"text-gray-900",children:"High"})]})]})]})]}),p.jsx("div",{className:"p-4 border-t border-white/20 bg-white/5",children:p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsx("button",{onClick:y,disabled:l||!a.title.trim(),className:`w-full py-2.5 px-4 rounded-lg font-semibold transition-all duration-200 text-sm touch-manipulation ${!l&&a.title.trim()?"bg-white text-indigo-600 hover:bg-white/90 shadow-lg hover:shadow-white/25 active:scale-[0.98]":"bg-white/30 text-white/50 cursor-not-allowed"}`,children:l?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsx(Vf,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current"}),g?"Updating...":"Creating..."]}):p.jsx(p.Fragment,{children:g?"Update Subtask":"Create Subtask"})}),p.jsx("button",{type:"button",onClick:S,disabled:l,className:`w-full py-2.5 px-4 bg-white/20 hover:bg-white/30 text-white font-semibold rounded-lg transition-all duration-200 active:scale-[0.98] text-sm touch-manipulation ${l?"opacity-50 cursor-not-allowed":""}`,children:"Cancel"})]})})]})});return Lu.createPortal(_,document.body)}function Ate({isOpen:t,onClose:e,onSubmit:n}){const[r,i]=B.useState(""),[s,a]=B.useState(!1),[o,l]=B.useState(""),c=async x=>{if(x.preventDefault(),!r.trim()){l("Note content is required");return}a(!0),l("");try{await n(r.trim()),i(""),e()}catch(S){console.error("Error creating note:",S),l(S.message||"Failed to create note")}finally{a(!1)}},d=x=>{i(x.target.value),o&&l("")},f=()=>{s||(i(""),l(""),e())},g=x=>{x.target===x.currentTarget&&!s&&f()};if(!t)return null;const y=p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[99999] p-3 sm:p-4",style:{animation:"modalBackdropFadeIn 0.3s ease-out forwards"},onClick:g,children:p.jsxs("div",{className:"bg-gradient-to-br from-amber-300/95 to-orange-600/95 backdrop-blur-lg rounded-xl shadow-2xl w-full max-w-sm mx-3 transform transition-all duration-300 ease-out",style:{animation:"modalSlideIn 0.4s ease-out forwards"},onClick:x=>x.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:p.jsx(ste,{className:"h-4 w-4 text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-bold text-white font-proza",children:"Quick Note"}),p.jsx("p",{className:"text-xs text-white/80",children:"Jot down your thoughts"})]})]}),!s&&p.jsx("button",{onClick:f,className:"text-white/80 hover:text-white transition-colors p-1 rounded-full hover:bg-white/20 touch-manipulation",children:p.jsx(Ia,{className:"h-5 w-5"})})]}),p.jsxs("div",{className:"p-4",children:[o&&p.jsx("div",{className:"mb-3 p-2 bg-red-500/20 border border-red-500/30 rounded-lg",children:p.jsx("p",{className:"text-red-200 text-xs",children:o})}),p.jsx("form",{onSubmit:c,className:"space-y-3",children:p.jsxs("div",{children:[p.jsx("label",{className:"block text-white text-xs font-medium mb-1",children:"Your Note *"}),p.jsxs("div",{className:"relative",children:[p.jsx("textarea",{value:r,onChange:d,rows:"4",className:"w-full px-3 py-2 bg-gray/20 backdrop-blur-sm text-gray placeholder-gray/70 rounded-lg border border-gray/30 focus:outline-none focus:ring-2 focus:ring-amber-300/50 focus:border-transparent resize-none text-sm touch-manipulation",placeholder:"Write your note here... ",required:!0,disabled:s,autoFocus:!0}),p.jsx("div",{className:"absolute bottom-2 right-2 text-white/50",children:p.jsx(Pf,{className:"h-3 w-3"})})]}),p.jsxs("p",{className:"text-white/60 text-xs mt-1",children:[r.length," characters"]})]})})]}),p.jsx("div",{className:"p-4 border-t border-white/20 bg-white/5",children:p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsx("button",{onClick:c,disabled:s||!r.trim(),className:`w-full py-2.5 px-4 rounded-lg font-semibold transition-all duration-200 text-sm touch-manipulation ${!s&&r.trim()?"bg-white text-amber-600 hover:bg-white/90 shadow-lg hover:shadow-amber-500/25 active:scale-[0.98]":"bg-white/30 text-white/50 cursor-not-allowed"}`,children:s?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsx(Vf,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current"}),"Saving..."]}):"Save Note"}),p.jsx("button",{type:"button",onClick:f,disabled:s,className:`w-full py-2.5 px-4 bg-white/20 hover:bg-white/30 text-white font-semibold rounded-lg transition-all duration-200 active:scale-[0.98] text-sm touch-manipulation ${s?"opacity-50 cursor-not-allowed":""}`,children:"Cancel"})]})})]})});return Lu.createPortal(y,document.body)}function Tte({isOpen:t,onClose:e,onSubmit:n}){const[r,i]=B.useState(null),[s,a]=B.useState(!1),[o,l]=B.useState(!1),[c,d]=B.useState(""),f=async P=>{if(P.preventDefault(),!r){d("Please select a file");return}l(!0),d("");try{await n(r),i(null),e()}catch(C){console.error("Error uploading file:",C),d(C.message||"Failed to upload file")}finally{l(!1)}},g=P=>{P.preventDefault(),a(!0)},y=P=>{P.preventDefault(),a(!1)},x=P=>{P.preventDefault(),a(!1);const C=P.dataTransfer.files[0];C&&(i(C),d(""))},S=P=>{const C=P.target.files[0];C&&(i(C),d(""))},b=()=>{o||(i(null),d(""),e())},_=P=>{P.target===P.currentTarget&&!o&&b()},E=P=>{if(P===0)return"0 Bytes";const C=1024,N=["Bytes","KB","MB","GB"],O=Math.floor(Math.log(P)/Math.log(C));return parseFloat((P/Math.pow(C,O)).toFixed(2))+" "+N[O]};if(!t)return null;const M=p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[99999] p-3 sm:p-4",style:{animation:"modalBackdropFadeIn 0.3s ease-out forwards"},onClick:_,children:p.jsxs("div",{className:"bg-gradient-to-br from-emerald-600/95 to-teal-600/95 backdrop-blur-lg rounded-xl shadow-2xl w-full max-w-sm mx-3 transform transition-all duration-300 ease-out",style:{animation:"modalSlideIn 0.4s ease-out forwards"},onClick:P=>P.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:p.jsx(fL,{className:"h-4 w-4 text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-bold text-white font-proza",children:"Upload File"}),p.jsx("p",{className:"text-xs text-white/80",children:"Attach to your task"})]})]}),!o&&p.jsx("button",{onClick:b,className:"text-white/80 hover:text-white transition-colors p-1 rounded-full hover:bg-white/20 touch-manipulation",children:p.jsx(Ia,{className:"h-5 w-5"})})]}),p.jsxs("div",{className:"p-4",children:[c&&p.jsx("div",{className:"mb-3 p-2 bg-red-500/20 border border-red-500/30 rounded-lg",children:p.jsx("p",{className:"text-red-200 text-xs",children:c})}),p.jsx("form",{onSubmit:f,className:"space-y-3",children:p.jsxs("div",{children:[p.jsx("label",{className:"block text-white text-xs font-medium mb-1",children:"Select File *"}),p.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-4 text-center transition-all duration-300 cursor-pointer ${s?"border-white/60 bg-white/10 scale-[1.02]":r?"border-emerald-300/60 bg-emerald-300/10":"border-white/30 hover:border-white/50 hover:bg-white/5"}`,onDragOver:g,onDragLeave:y,onDrop:x,onClick:()=>document.getElementById("file-upload").click(),children:[r?p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"w-8 h-8 bg-emerald-400/30 rounded-lg flex items-center justify-center mx-auto",children:p.jsx(ute,{className:"h-4 w-4 text-emerald-100"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-white text-sm font-medium truncate",children:r.name}),p.jsx("p",{className:"text-emerald-100/80 text-xs",children:E(r.size)})]})]}):p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center mx-auto",children:p.jsx(fL,{className:"h-4 w-4 text-white"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-white text-sm font-medium",children:s?"Drop file here!":"Drag & drop or click"}),p.jsx("p",{className:"text-white/70 text-xs",children:"Any file type supported"})]})]}),p.jsx("input",{type:"file",onChange:S,className:"hidden",id:"file-upload",accept:"*/*",disabled:o})]})]})})]}),p.jsx("div",{className:"p-4 border-t border-white/20 bg-white/5",children:p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsx("button",{onClick:f,disabled:o||!r,className:`w-full py-2.5 px-4 rounded-lg font-semibold transition-all duration-200 text-sm touch-manipulation ${!o&&r?"bg-white text-emerald-600 hover:bg-white/90 shadow-lg hover:shadow-emerald-500/25 active:scale-[0.98]":"bg-white/30 text-white/50 cursor-not-allowed"}`,children:o?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsx(Vf,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current"}),"Uploading..."]}):"Upload File"}),p.jsx("button",{type:"button",onClick:b,disabled:o,className:`w-full py-2.5 px-4 bg-white/20 hover:bg-white/30 text-white font-semibold rounded-lg transition-all duration-200 active:scale-[0.98] text-sm touch-manipulation ${o?"opacity-50 cursor-not-allowed":""}`,children:"Cancel"})]})})]})});return Lu.createPortal(M,document.body)}const t2="http://localhost:5000",Pte=({isOpen:t,onClose:e,task:n,onAddDependency:r})=>{const[i,s]=B.useState([]),[a,o]=B.useState(""),[l,c]=B.useState(!1),[d,f]=B.useState(!1),[g,y]=B.useState(null),[x,S]=B.useState({prerequisites:[],dependents:[]}),[b,_]=B.useState(!1);B.useEffect(()=>{t&&(E(),M(),o(""),y(null))},[t,n._id]);const E=async()=>{c(!0);try{const N=localStorage.getItem("token");if(!N)throw new Error("Authentication required");const O=await fetch(`${t2}/api/tasks`,{headers:{Authorization:`Bearer ${N}`}});if(!O.ok)throw new Error("Failed to fetch tasks");const D=await O.json(),U=new Date(n.date.split("/").reverse().join("-")+" "+n.time),L=D.filter(I=>I._id===n._id||I.completed?!1:new Date(I.date.split("/").reverse().join("-")+" "+I.time)<=U).sort((I,$)=>{const X=new Date(I.date.split("/").reverse().join("-")),V=new Date($.date.split("/").reverse().join("-"));return X-V});s(L)}catch(N){console.error("Error fetching tasks:",N),y("Failed to load available tasks")}finally{c(!1)}},M=async()=>{_(!0);try{const N=localStorage.getItem("token");if(!N)throw new Error("Authentication required");const O=await fetch(`${t2}/api/dependencies/task/${n._id}`,{headers:{Authorization:`Bearer ${N}`}});if(!O.ok)throw new Error("Failed to fetch dependencies");const D=await O.json();S(D)}catch{S({prerequisites:[],dependents:[]})}finally{_(!1)}},P=async N=>{if(N.preventDefault(),!a){y("Please select a task");return}f(!0),y(null);try{const O=localStorage.getItem("token");if(!O)throw new Error("Authentication required");const D=n._id,U=a,L=await fetch(`${t2}/api/dependencies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify({prerequisiteTaskId:D,dependentTaskId:U})}),I=await L.json();if(!L.ok)throw new Error(I.message||"Failed to create dependency");Nn.success("Dependency created successfully!"),r&&r(I),e()}catch(O){console.error("Error creating dependency:",O),y(O.message||"Failed to create dependency")}finally{f(!1)}};if(!t)return null;const C=i.find(N=>N._id===a);return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center border-b px-3 sm:px-6 py-3 sm:py-4",children:[p.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Create Task Dependency"}),p.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:p.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsxs("div",{className:"px-3 sm:px-6 py-3 sm:py-4",children:[p.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-200",children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(S1,{className:"mr-2 sm:mr-3 mt-0.5 flex-shrink-0 text-blue-600"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-blue-900 mb-2 text-sm sm:text-base",children:"How Dependencies Work"}),p.jsxs("p",{className:"text-blue-800 text-xs sm:text-sm mb-2",children:["You're about to make ",p.jsxs("strong",{children:['"',n.task,'"']})," an independent task that other tasks depend on."]}),p.jsxs("p",{className:"text-blue-700 text-xs sm:text-sm",children:["The selected dependent task must be completed within the timeframe of"," ",p.jsxs("strong",{children:['"',n.task,'"']}),"."]})]})]})}),p.jsxs("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-green-50 rounded-lg border border-green-200",children:[p.jsxs("div",{className:"flex items-center mb-2",children:[p.jsx(ev,{className:"mr-2 text-green-600 flex-shrink-0"}),p.jsx("h4",{className:"font-semibold text-green-900 text-sm sm:text-base",children:"Prerequisite Task (Must be completed first)"})]}),p.jsxs("div",{className:"bg-white rounded-md p-2 sm:p-3 border border-green-200",children:[p.jsx("p",{className:"font-semibold text-gray-800 text-sm sm:text-base truncate",children:n.task}),p.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-600 mt-1 flex-wrap gap-2",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(SP,{className:"mr-1 flex-shrink-0"}),p.jsx("span",{children:n.date})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(MP,{className:"mr-1 flex-shrink-0"}),p.jsx("span",{children:n.time})]})]})]})]}),p.jsxs("div",{className:"mb-4 sm:mb-6",children:[p.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:"Current Dependencies"}),p.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[p.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 border",children:[p.jsx("div",{className:"font-medium text-xs sm:text-sm text-gray-700 mb-2",children:"This task depends on:"}),b?p.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Loading..."}):x.prerequisites.length===0?p.jsx("div",{className:"text-xs sm:text-sm text-gray-500 italic",children:"No prerequisites"}):p.jsx("ul",{className:"text-xs sm:text-sm text-gray-700 space-y-1",children:x.prerequisites.map(N=>{var O;return p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:((O=N.prerequisiteTaskId)==null?void 0:O.task)||"Unknown Task"})]},N._id)})})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 border",children:[p.jsx("div",{className:"font-medium text-xs sm:text-sm text-gray-700 mb-2",children:"Other tasks depend on this:"}),b?p.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Loading..."}):x.dependents.length===0?p.jsx("div",{className:"text-xs sm:text-sm text-gray-500 italic",children:"No dependents"}):p.jsx("ul",{className:"text-xs sm:text-sm text-gray-700 space-y-1",children:x.dependents.map(N=>{var O;return p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:((O=N.dependentTaskId)==null?void 0:O.task)||"Unknown Task"})]},N._id)})})]})]})]}),g&&p.jsxs("div",{className:"mb-4 p-2 sm:p-3 bg-red-50 text-red-700 rounded-md flex items-start border border-red-200",children:[p.jsx(nee,{className:"mr-2 mt-0.5 flex-shrink-0"}),p.jsx("span",{className:"text-xs sm:text-sm",children:g})]}),p.jsxs("form",{onSubmit:P,children:[p.jsxs("div",{className:"mb-4 sm:mb-6",children:[p.jsxs("label",{htmlFor:"taskSelect",className:"block text-gray-700 font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:['Select a task that should depend on "',n.task,'"']}),p.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4",children:["Only tasks with deadlines on or before ",n.date," ",n.time," are shown, as dependent tasks must be completed within the timeframe of the independent task."]}),l?p.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 sm:h-6 sm:w-6 border-t-2 border-b-2 border-blue-600"}),p.jsx("span",{className:"ml-3 text-gray-600 text-sm sm:text-base",children:"Loading available tasks..."})]}):i.length===0?p.jsxs("div",{className:"text-center py-6 sm:py-8 bg-gray-50 rounded-lg border border-gray-200",children:[p.jsx("div",{className:"text-gray-400 mb-2",children:p.jsx(uf,{className:"h-6 w-6 sm:h-8 sm:w-8 mx-auto"})}),p.jsx("p",{className:"text-gray-600 font-medium mb-2 text-sm sm:text-base",children:"No suitable tasks found"}),p.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 px-2",children:["Create tasks with deadlines on or before ",n.date," ",n.time," to set up dependencies."]})]}):p.jsxs("select",{id:"taskSelect",value:a,onChange:N=>o(N.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-800 text-sm sm:text-base",required:!0,children:[p.jsxs("option",{value:"",children:['-- Choose a task that will depend on "',n.task,'" --']}),i.map(N=>p.jsxs("option",{value:N._id,children:[N.task,"  Due: ",N.date," ",N.time,"  Priority: ",N.priority]},N._id))]})]}),C&&p.jsxs("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-gray-200",children:[p.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-700 mb-3",children:"Dependency Preview:"}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-3 sm:space-y-0 sm:space-x-4",children:[p.jsxs("div",{className:"flex-1 text-center w-full",children:[p.jsxs("div",{className:"bg-green-100 border border-green-300 rounded-lg p-2 sm:p-3 mb-2",children:[p.jsx("p",{className:"font-semibold text-green-800 text-xs sm:text-sm truncate",children:n.task}),p.jsxs("p",{className:"text-xs text-green-600",children:["Due: ",n.date," ",n.time]})]}),p.jsx("p",{className:"text-xs text-green-700 font-medium",children:"PREREQUISITE"}),p.jsx("p",{className:"text-xs text-green-600",children:"Must complete first"})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(Xb,{className:"text-gray-400 text-lg sm:text-xl mb-1 transform sm:transform-none rotate-90 sm:rotate-0"}),p.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"THEN"})]}),p.jsxs("div",{className:"flex-1 text-center w-full",children:[p.jsxs("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-2 sm:p-3 mb-2",children:[p.jsx("p",{className:"font-semibold text-blue-800 text-xs sm:text-sm truncate",children:C.task}),p.jsxs("p",{className:"text-xs text-blue-600",children:["Due: ",C.date," ",C.time]})]}),p.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"DEPENDENT"}),p.jsx("p",{className:"text-xs text-blue-600",children:"Can start after prerequisite"})]})]}),p.jsx("div",{className:"mt-3 p-2 bg-white rounded border border-gray-200",children:p.jsxs("p",{className:"text-xs text-gray-600 text-center",children:[p.jsx("strong",{children:"Result:"}),' "',C.task,'" cannot be started until "',n.task,'" is marked as complete.']})})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[p.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 sm:px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors text-sm sm:text-base",children:"Cancel"}),p.jsx("button",{type:"submit",disabled:d||l||!a,className:"w-full sm:w-auto px-4 sm:px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-colors text-sm sm:text-base",children:d?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Creating Dependency..."]}):"Create Dependency"})]})]})]})]})})},Cte="http://localhost:5000",Nte=({taskId:t,onClose:e})=>{const[n,r]=B.useState({prerequisites:[],dependents:[]}),[i,s]=B.useState(!0),[a,o]=B.useState(null);B.useEffect(()=>{l()},[t]);const l=async()=>{s(!0);try{const x=localStorage.getItem("token");if(!x)throw new Error("Authentication required");const S=await fetch(`${Cte}/api/dependencies/task/${t}`,{headers:{Authorization:`Bearer ${x}`}});if(!S.ok)throw new Error("Failed to fetch dependencies");const b=await S.json();r(b)}catch(x){console.error("Error fetching dependencies:",x),o("Failed to load dependencies")}finally{s(!1)}},c=(x,S)=>`${x} at ${S}`,d=x=>x.completed?"bg-green-100 border-green-300 text-green-800":new Date(x.date.split("/").reverse().join("-")+" "+x.time)<new Date?"bg-red-100 border-red-300 text-red-800":"bg-blue-100 border-blue-300 text-blue-800",f=x=>x.completed?p.jsx(ev,{className:"text-green-600"}):new Date(x.date.split("/").reverse().join("-")+" "+x.time)<new Date?p.jsx(_1,{className:"text-red-600"}):p.jsx(MP,{className:"text-blue-600"});if(i)return p.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 border",children:p.jsxs("div",{className:"flex items-center justify-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"}),p.jsx("span",{className:"ml-3 text-gray-600",children:"Loading dependency tree..."})]})});if(a)return p.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 border border-red-200",children:p.jsxs("div",{className:"text-center text-red-600",children:[p.jsx(_1,{className:"h-8 w-8 mx-auto mb-2"}),p.jsx("p",{children:a})]})});const g=n.prerequisites.length>0,y=n.dependents.length>0;return p.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:[p.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-3 sm:px-6 py-3 sm:py-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Task Dependency Tree"}),p.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 transition-colors",children:p.jsx(Uw,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),p.jsx("p",{className:"text-blue-100 text-xs sm:text-sm mt-1",children:"Visual representation of task dependencies and workflow"})]}),p.jsx("div",{className:"p-3 sm:p-6",children:!g&&!y?p.jsxs("div",{className:"text-center py-6 sm:py-8",children:[p.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:p.jsx(ev,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400"})}),p.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-700 mb-2",children:"No Dependencies"}),p.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"This task has no dependencies and can be worked on independently."})]}):p.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[g&&p.jsxs("div",{children:[p.jsxs("h4",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-3 sm:mb-4 flex items-center",children:[p.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:p.jsx(MP,{className:"h-3 w-3 sm:h-4 sm:w-4 text-orange-600"})}),p.jsx("span",{className:"text-sm sm:text-base",children:"Prerequisites (Must complete first)"})]}),p.jsx("div",{className:"space-y-2 sm:space-y-3",children:n.prerequisites.map((x,S)=>p.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[p.jsx("div",{className:`w-full sm:flex-1 p-3 sm:p-4 rounded-lg border-2 ${d(x.prerequisiteTaskId)}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[f(x.prerequisiteTaskId),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("h5",{className:"font-semibold text-sm sm:text-base truncate",children:x.prerequisiteTaskId.task}),p.jsxs("div",{className:"flex items-center text-xs sm:text-sm opacity-75 flex-wrap gap-1",children:[p.jsx(SP,{className:"mr-1 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:c(x.prerequisiteTaskId.date,x.prerequisiteTaskId.time)})]})]})]}),p.jsx("div",{className:"text-xs font-medium px-2 py-1 bg-white rounded flex-shrink-0",children:x.prerequisiteTaskId.priority})]})}),p.jsx("div",{className:"flex items-center",children:p.jsx(Xb,{className:"text-gray-400 text-lg sm:text-xl transform sm:transform-none rotate-90 sm:rotate-0"})}),p.jsx("div",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Current Task"})]},x._id))}),p.jsx("div",{className:"mt-3 p-2 sm:p-3 bg-orange-50 rounded-lg border border-orange-200",children:p.jsxs("p",{className:"text-xs sm:text-sm text-orange-800",children:[p.jsx("strong",{children:"Rule:"})," The current task cannot be started until all prerequisite tasks are completed."]})})]}),y&&p.jsxs("div",{children:[p.jsxs("h4",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-3 sm:mb-4 flex items-center",children:[p.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:p.jsx(Xb,{className:"h-3 w-3 sm:h-4 sm:w-4 text-purple-600"})}),p.jsx("span",{className:"text-sm sm:text-base",children:"Dependent Tasks (Waiting for this task)"})]}),p.jsx("div",{className:"space-y-2 sm:space-y-3",children:n.dependents.map((x,S)=>p.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[p.jsx("div",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Current Task"}),p.jsx("div",{className:"flex items-center",children:p.jsx(Xb,{className:"text-gray-400 text-lg sm:text-xl transform sm:transform-none rotate-90 sm:rotate-0"})}),p.jsx("div",{className:`w-full sm:flex-1 p-3 sm:p-4 rounded-lg border-2 ${d(x.dependentTaskId)}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[f(x.dependentTaskId),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("h5",{className:"font-semibold text-sm sm:text-base truncate",children:x.dependentTaskId.task}),p.jsxs("div",{className:"flex items-center text-xs sm:text-sm opacity-75 flex-wrap gap-1",children:[p.jsx(SP,{className:"mr-1 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:c(x.dependentTaskId.date,x.dependentTaskId.time)})]})]})]}),p.jsx("div",{className:"text-xs font-medium px-2 py-1 bg-white rounded flex-shrink-0",children:x.dependentTaskId.priority})]})})]},x._id))}),p.jsx("div",{className:"mt-3 p-2 sm:p-3 bg-purple-50 rounded-lg border border-purple-200",children:p.jsxs("p",{className:"text-xs sm:text-sm text-purple-800",children:[p.jsx("strong",{children:"Rule:"})," These tasks cannot be started until the current task is completed."]})})]}),g&&y&&p.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-3 sm:p-4 border border-blue-200",children:[p.jsx("h4",{className:"font-semibold text-blue-900 mb-2 text-sm sm:text-base",children:"Workflow Summary"}),p.jsxs("div",{className:"text-xs sm:text-sm text-blue-800 space-y-1",children:[p.jsx("p",{children:"1. Complete all prerequisite tasks first"}),p.jsx("p",{children:"2. Then work on the current task"}),p.jsx("p",{children:"3. Once current task is done, dependent tasks can begin"})]})]})]})})]})};function FV({isOpen:t,onClose:e,task:n,onSetReminder:r}){const[i,s]=B.useState(""),[a,o]=B.useState(!1),[l,c]=B.useState("");B.useEffect(()=>{t&&(s(""),c(""))},[t]);const d=async _=>{if(_.preventDefault(),!i){c("Please select a reminder date and time");return}if(new Date(i)<=new Date){c("Reminder time must be in the future");return}o(!0),c("");try{await r(n._id,i),s(""),e()}catch(M){console.error("Error setting reminder:",M),c(M.message||"Failed to set reminder")}finally{o(!1)}},f=_=>{s(_.target.value),l&&c("")},g=()=>{a||(s(""),c(""),e())},y=_=>{_.target===_.currentTarget&&!a&&g()},x=()=>{const _=new Date;return _.setMinutes(_.getMinutes()+1),_.toISOString().slice(0,16)},S=()=>i?new Date(i).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"";if(!t)return null;const b=p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[99999] p-3 sm:p-4",style:{animation:"modalBackdropFadeIn 0.3s ease-out forwards"},onClick:y,children:p.jsxs("div",{className:"bg-gradient-to-br from-blue-600/95 to-cyan-600/95 backdrop-blur-lg rounded-xl shadow-2xl w-full max-w-sm mx-3 transform transition-all duration-300 ease-out",style:{animation:"modalSlideIn 0.4s ease-out forwards"},onClick:_=>_.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:p.jsx(rte,{className:"h-4 w-4 text-white animate-pulse"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-bold text-white font-proza",children:"Set Reminder"}),p.jsx("p",{className:"text-xs text-white/80 truncate max-w-[180px]",children:"Never forget this task "})]})]}),!a&&p.jsx("button",{onClick:g,className:"text-white/80 hover:text-white transition-colors p-1 rounded-full hover:bg-white/20 touch-manipulation",children:p.jsx(Ia,{className:"h-5 w-5"})})]}),p.jsxs("div",{className:"p-4",children:[l&&p.jsx("div",{className:"mb-3 p-2 bg-red-500/20 border border-red-500/30 rounded-lg",children:p.jsx("p",{className:"text-red-200 text-xs",children:l})}),p.jsxs("form",{onSubmit:d,className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-white text-xs font-medium mb-1",children:"When to remind you? *"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"datetime-local",value:i,onChange:f,min:x(),className:"w-full px-3 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg border border-white/30 focus:outline-none focus:ring-2 focus:ring-cyan-300/50 focus:border-transparent text-sm touch-manipulation",required:!0,disabled:a,autoFocus:!0}),p.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-white/50"})]}),i&&p.jsxs("p",{className:"text-cyan-100/80 text-xs mt-1",children:[" ",S()]})]}),p.jsxs("div",{className:"bg-white/10 rounded-lg p-3 border border-white/20",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx(Kp,{className:"h-4 w-4 text-cyan-200"}),p.jsx("span",{className:"text-cyan-100 text-xs font-medium",children:"Task to remind"})]}),p.jsx("p",{className:"text-white text-sm font-medium truncate",children:(n==null?void 0:n.task)||(n==null?void 0:n.title)}),((n==null?void 0:n.date)||(n==null?void 0:n.time))&&p.jsxs("p",{className:"text-cyan-100/70 text-xs mt-1",children:[" Due: ",n==null?void 0:n.date," ",(n==null?void 0:n.time)&&`at ${n.time}`]})]})]})]}),p.jsx("div",{className:"p-4 border-t border-white/20 bg-white/5",children:p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsx("button",{onClick:d,disabled:a||!i,className:`w-full py-2.5 px-4 rounded-lg font-semibold transition-all duration-200 text-sm touch-manipulation ${!a&&i?"bg-white text-blue-600 hover:bg-white/90 shadow-lg hover:shadow-cyan-500/25 active:scale-[0.98]":"bg-white/30 text-white/50 cursor-not-allowed"}`,children:a?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsx(Vf,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current"}),"Setting..."]}):" Set Reminder"}),p.jsx("button",{type:"button",onClick:g,disabled:a,className:`w-full py-2.5 px-4 bg-white/20 hover:bg-white/30 text-white font-semibold rounded-lg transition-all duration-200 active:scale-[0.98] text-sm touch-manipulation ${a?"opacity-50 cursor-not-allowed":""}`,children:"Cancel"})]})})]})});return Lu.createPortal(b,document.body)}const Ea="http://localhost:5000";function Rte({list:t,isexceeded:e,onDelete:n,onUpdate:r,onStatusChange:i,dependencies:s,onDependencyChange:a}){const[o,l]=B.useState(t.completed||!1),[c,d]=B.useState(!1),[f,g]=B.useState(!1),[y,x]=B.useState(!1),[S,b]=B.useState([]),[_,E]=B.useState(!1),[M,P]=B.useState(null),[C,N]=B.useState(!1),[O,D]=B.useState(!1),{socket:U}=Hw(),[L,I]=B.useState(!1),[$,X]=B.useState(!1),[V,Z]=B.useState(!1),[ee,re]=B.useState(!1),[H,J]=B.useState(!1),[K,q]=B.useState(!1),[ne,ve]=B.useState([]),[se,de]=B.useState([]),[Ee,Ve]=B.useState(!1),[Ue,ye]=B.useState(!1),[We,ze]=B.useState(!1),[Y,Ie]=B.useState(!1),[ce,xe]=B.useState({prerequisites:[],dependents:[]}),[me,Fe]=B.useState(!1),[Be,He]=B.useState(!1),[Ge,Q]=B.useState(!1),[W,be]=B.useState({task:t.task,date:t.date,time:t.time,color:t.color,priority:t.priority||"medium"});B.useEffect(()=>{l(t.completed||!1)},[t.completed]),B.useEffect(()=>{y&&S.length===0&&!O&&Se()},[y]),B.useEffect(()=>{if(s){const Ye=s.some(at=>at.dependentTaskId===t._id||at.dependentTaskId&&at.dependentTaskId._id===t._id),st=s.some(at=>at.prerequisiteTaskId===t._id||at.prerequisiteTaskId&&at.prerequisiteTaskId._id===t._id);He(Ye||st)}},[s,t._id]),B.useEffect(()=>{if(!U)return;const Ye=Dt=>{const Dn=localStorage.getItem("userId");Dt.parentTaskId===t._id&&Dt.userId===Dn&&(console.log("Handling subtask created event:",Dt),b(pr=>{if(pr.some(_c=>_c._id===Dt.subtask._id))return console.log("Subtask already exists, skipping duplicate"),pr;const _i=[...pr,Dt.subtask];return De(_i)}),r(t._id,{...t,subtaskCount:(t.subtaskCount||0)+1,completedSubtasks:t.completedSubtasks||0}),x(!0))},st=Dt=>{const Dn=localStorage.getItem("userId");Dt.parentTaskId===t._id&&Dt.userId===Dn&&(console.log("Handling subtask status changed event:",Dt),b(pr=>{const wi=pr.map(_i=>_i._id===Dt.subtaskId?{..._i,status:Dt.status}:_i);return De(wi)}),r(t._id,{...t,subtaskCount:Dt.subtaskCount,completedSubtasks:Dt.completedSubtasks}))},at=Dt=>{const Dn=localStorage.getItem("userId");Dt.parentTaskId===t._id&&Dt.userId===Dn&&(console.log("Handling subtask updated event:",Dt),b(pr=>{const wi=pr.map(_i=>_i._id===Dt.subtask._id?Dt.subtask:_i);return De(wi)}))},Vt=Dt=>{const Dn=localStorage.getItem("userId");Dt.parentTaskId===t._id&&Dt.userId===Dn&&(console.log("Handling subtask deleted event:",Dt),b(pr=>{const wi=pr.filter(_i=>_i._id!==Dt.subtaskId);return De(wi)}),r(t._id,{...t,subtaskCount:Math.max((t.subtaskCount||0)-1,0),completedSubtasks:Math.max((t.completedSubtasks||0)-1,0)}))},un=Dt=>{(Dt.dependentTaskId===t._id||Dt.prerequisiteTaskId===t._id)&&a&&a()},bi=Dt=>{(Dt.dependentTaskId===t._id||Dt.prerequisiteTaskId===t._id)&&a&&a()};return U.on("subtaskCreated",Ye),U.on("subtaskStatusChanged",st),U.on("subtaskUpdated",at),U.on("subtaskDeleted",Vt),U.on("dependencyCreated",un),U.on("dependencyDeleted",bi),()=>{U.off("subtaskCreated",Ye),U.off("subtaskStatusChanged",st),U.off("subtaskUpdated",at),U.off("subtaskDeleted",Vt),U.off("dependencyCreated",un),U.off("dependencyDeleted",bi)}},[U,t._id,a,r,t]);const Se=async()=>{D(!0);try{const Ye=localStorage.getItem("token");if(!Ye)throw new Error("Authentication required");const st=await fetch(`${Ea}/api/tasks/${t._id}/subtasks`,{method:"GET",headers:{Authorization:`Bearer ${Ye}`,"Content-Type":"application/json"}});if(!st.ok)throw new Error("Failed to fetch subtasks");const at=await st.json(),Vt=De(at);b(Vt)}catch(Ye){console.error("Error fetching subtasks:",Ye),Nn.error("Failed to load subtasks")}finally{D(!1)}},Oe=async()=>{Fe(!0);try{const Ye=localStorage.getItem("token");if(!Ye)throw new Error("Authentication required");const st=await fetch(`${Ea}/api/dependencies/task/${t._id}`,{method:"GET",headers:{Authorization:`Bearer ${Ye}`,"Content-Type":"application/json"}});if(!st.ok)throw new Error("Failed to fetch dependencies");const at=await st.json();xe(at),He(at.prerequisites.length>0||at.dependents.length>0)}catch(Ye){console.error("Error fetching dependencies:",Ye),Nn.error("Failed to load dependencies")}finally{Fe(!1)}},De=Ye=>{const st={High:1,Medium:2,Low:3};return[...Ye].sort((at,Vt)=>(st[at.priority]||2)-(st[Vt.priority]||2))};async function dt(){if(!f){g(!0);try{const Ye=!o;l(Ye);const st=localStorage.getItem("token");if(!st)throw new Error("Authentication required");if(!(await fetch(`${Ea}/api/tasks/${t._id}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${st}`,"Content-Type":"application/json"},body:JSON.stringify({completed:Ye})})).ok)throw new Error("Failed to update task status")}catch(Ye){console.error("Error updating task status:",Ye),l(!o),i&&i(t._id,o,Ye.message)}finally{g(!1)}}}function vt(){d(!0)}function Ke(){n(t._id)}function Je(Ye,st){r(Ye,st),d(!1)}const Ot=Ye=>{Ye.stopPropagation(),t.subtaskCount>0&&(x(!y),!y&&S.length===0&&Se())},Qe=()=>{P(null),E(!0),N(!1)},Cn=()=>{ze(!0),I(!1)},Ut=()=>{Oe(),Ie(!0),I(!1)},It=Ye=>{a&&a()},Mt=async(Ye,st=null)=>{try{const at=localStorage.getItem("token");if(!at)throw new Error("Authentication required");const Vt={...Ye,taskId:t._id,status:!1};let un;if(st?un=await fetch(`${Ea}/api/tasks/${t._id}/subtasks/${st}`,{method:"PUT",headers:{Authorization:`Bearer ${at}`,"Content-Type":"application/json"},body:JSON.stringify(Vt)}):un=await fetch(`${Ea}/api/tasks/${t._id}/subtasks`,{method:"POST",headers:{Authorization:`Bearer ${at}`,"Content-Type":"application/json"},body:JSON.stringify(Vt)}),!un.ok){const Dt=await un.json();throw new Error(Dt.message||(st?"Failed to update subtask":"Failed to create subtask"))}const bi=await un.json();st||x(!0),E(!1),Nn.success(st?"Subtask updated successfully":"Subtask created successfully"),setTimeout(()=>{st||S.some(Dn=>Dn._id===bi._id)||(console.log("Socket event may have failed, refetching subtasks..."),Se())},2e3)}catch(at){console.error("Error saving subtask:",at),Nn.error(at.message||"Failed to save subtask")}},St=async Ye=>{try{const st=localStorage.getItem("token");if(!st)throw new Error("Authentication required");if(!(await fetch(`${Ea}/api/tasks/${t._id}/subtasks/${Ye}`,{method:"DELETE",headers:{Authorization:`Bearer ${st}`}})).ok)throw new Error("Failed to delete subtask");b(Vt=>Vt.filter(un=>un._id!==Ye))}catch(st){console.error("Error deleting subtask:",st),Nn.error("Failed to delete subtask")}},tn=Ye=>{P(Ye),E(!0)},zt=async(Ye,st,at)=>{if(at)console.log(`Subtask ${Ye} status change failed. Error: ${at}`);else try{const Vt=S.map(Dn=>Dn._id===Ye?{...Dn,status:!st}:Dn);b(Vt);const un=Vt.length,bi=Vt.filter(Dn=>Dn.status).length,Dt={...t,subtaskCount:un,completedSubtasks:bi};r&&r(t._id,Dt)}catch(Vt){console.error("Error updating subtask status locally:",Vt)}},En=async(Ye,st)=>{try{if(console.log("DisplayTodoList - Setting reminder for task:",{taskId:Ye,reminderTime:st}),!Ye||!st){console.error("Missing required data:",{taskId:Ye,reminderTime:st}),Nn.error("Task ID and reminder time are required");return}if(new Date(st)<=new Date){Nn.error("Reminder time must be in the future");return}const Vt=await fetch(`${Ea}/api/reminders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({taskId:Ye,reminderTime:st,userId:t.userId})}),un=await Vt.json();if(!Vt.ok)throw console.error("Failed to set reminder:",un),new Error(un.message||"Failed to set reminder");console.log("Reminder set successfully:",un),Nn.success("Reminder set successfully!"),X(!1)}catch(at){console.error("Error setting reminder:",at),Nn.error(at.message||"Failed to set reminder. Please try again.")}};B.useEffect(()=>{H&&fe()},[H]),B.useEffect(()=>{it()},[]);const fe=async()=>{Ve(!0);try{const Ye=localStorage.getItem("token"),st=await fetch(`${Ea}/api/tasks/${t._id}/notes`,{headers:{Authorization:`Bearer ${Ye}`}});if(!st.ok)throw new Error("Failed to fetch notes");const at=await st.json();ve(at)}catch(Ye){console.error("Error fetching notes:",Ye),Nn.error("Failed to load notes")}finally{Ve(!1)}},it=async()=>{ye(!0);try{const Ye=localStorage.getItem("token"),st=await fetch(`${Ea}/api/tasks/${t._id}/attachments`,{headers:{Authorization:`Bearer ${Ye}`}});if(!st.ok)throw new Error("Failed to fetch attachments");const at=await st.json();de(at),Q(at&&at.length>0)}catch(Ye){console.error("Error fetching attachments:",Ye)}finally{ye(!1)}},Pe=async Ye=>{try{const st=localStorage.getItem("token"),at=await fetch(`${Ea}/api/tasks/${t._id}/notes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${st}`},body:JSON.stringify({content:Ye})});if(!at.ok)throw new Error("Failed to create note");const Vt=await at.json();ve(un=>[Vt,...un]),Nn.success("Note added successfully"),Z(!1)}catch(st){console.error("Error creating note:",st),Nn.error("Failed to add note")}},nt=async Ye=>{try{const st=new FormData;st.append("file",Ye);const at=localStorage.getItem("token"),Vt=await fetch(`${Ea}/api/tasks/${t._id}/attachments`,{method:"POST",headers:{Authorization:`Bearer ${at}`},body:st});if(!Vt.ok)throw new Error("Failed to upload attachment");const un=await Vt.json();de([un]),Q(!0),Nn.success("File uploaded successfully"),re(!1)}catch(st){console.error("Error uploading attachment:",st),Nn.error("Failed to upload file")}},lt=async Ye=>{var st;try{const at=localStorage.getItem("token"),Vt=await fetch(`${Ea}/api/attachments/${Ye}/download`,{headers:{Authorization:`Bearer ${at}`}});if(!Vt.ok)throw new Error("Failed to download attachment");const un=await Vt.blob(),bi=window.URL.createObjectURL(un),Dt=document.createElement("a");Dt.href=bi,Dt.download=((st=se.find(Dn=>Dn._id===Ye))==null?void 0:st.originalname)||"download",document.body.appendChild(Dt),Dt.click(),window.URL.revokeObjectURL(bi),document.body.removeChild(Dt)}catch(at){console.error("Error downloading attachment:",at),Nn.error("Failed to download file")}},nn=()=>{var Ye;switch((Ye=t.priority)==null?void 0:Ye.toLowerCase()){case"high":return"border-red-500";case"medium":return"border-yellow-500";case"low":return"border-green-500";default:return""}},vn=()=>{H?(q(!0),setTimeout(()=>{J(!1),q(!1)},200)):(J(!0),q(!0),setTimeout(()=>q(!1),300))};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:`relative w-full mb-3 sm:mb-2 rounded-xl sm:rounded-lg bg-gradient-to-r from-white to-gray-50 shadow-md sm:shadow-sm border border-gray-200 transition-all duration-200 hover:shadow-lg ${Be?"border-l-4 border-l-[#9406E6]":""} ${nn()}`,children:[p.jsxs("div",{className:"sm:hidden p-4",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsxs("div",{className:"flex items-start space-x-2 flex-1 min-w-0",children:[p.jsx("input",{type:"radio",className:`w-4 h-4 rounded-full cursor-pointer appearance-none flex-shrink-0 mt-1 ${t.color==="red"?"bg-red-600 border-red-600":t.color==="yellow"?"bg-yellow-400 border-yellow-400":"bg-green-600 border-green-600"}`}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:`text-sm sm:text-base font-semibold truncate transition-colors duration-200 font-proza ${t.completed?"line-through text-gray-500":"text-gray-800"}`,title:t.task,children:t.task}),t.priority&&p.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${t.priority.toLowerCase()==="high"?"bg-red-100 text-red-800 border border-red-200":t.priority.toLowerCase()==="medium"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-green-100 text-green-800 border border-green-200"}`,children:t.priority})]})]}),p.jsx("button",{onClick:dt,className:`w-6 h-6 rounded-full flex items-center justify-center transition-all duration-200 flex-shrink-0 ${o?"bg-[#9406E6] text-white shadow-md":"border-2 border-[#9406E6] hover:bg-[#9406E6]/10"}`,disabled:f,title:o?"Mark as incomplete":"Mark as complete",children:o&&p.jsx(M1,{className:"h-4 w-4"})})]}),t.subtaskCount>0&&p.jsxs("div",{className:"mb-3",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Subtasks Progress"}),p.jsxs("span",{className:"text-sm text-gray-500",children:[t.completedSubtasks,"/",t.subtaskCount]})]}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:p.jsx("div",{className:"bg-gradient-to-r from-[#9406E6] to-[#C724B1] h-2.5 rounded-full transition-all duration-300",style:{width:`${t.completedSubtasks/t.subtaskCount*100}%`}})})]}),p.jsx("div",{className:"mb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 p-2 rounded-lg",children:p.jsx(HR,{className:"h-4 w-4 text-white"})}),p.jsxs("div",{children:[p.jsx("p",{className:`${o?"line-through text-gray-500":"text-gray-900"} font-medium text-sm`,children:t.date}),p.jsx("p",{className:`${o?"line-through text-gray-500":"text-gray-600"} text-sm`,children:t.time})]})]}),e&&!o&&p.jsx("div",{className:"bg-red-100 border border-red-200 text-red-800 px-2 py-1 rounded-lg",children:p.jsx("p",{className:"text-xs font-semibold",children:"Overdue"})})]})}),p.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[p.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-wrap gap-1",children:[t.subtaskCount>0&&p.jsxs("button",{onClick:Ot,className:"flex items-center space-x-1 px-2 py-1.5 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-lg text-xs font-medium transition-colors shadow-sm",title:y?"Hide subtasks":"Show subtasks",children:[p.jsx("span",{className:"hidden xs:inline",children:"Subtasks"}),p.jsx("span",{className:"xs:hidden",children:"Sub"}),y?p.jsx(IP,{className:"h-3 w-3"}):p.jsx(OP,{className:"h-3 w-3"}),p.jsxs("span",{className:"bg-purple-200 text-purple-800 px-1 py-0.5 rounded-full text-xs font-semibold",children:[t.completedSubtasks,"/",t.subtaskCount]})]}),Be&&p.jsxs("button",{onClick:Ut,className:"flex items-center space-x-1 px-2 py-1.5 bg-indigo-100 hover:bg-indigo-200 text-indigo-700 rounded-lg text-xs font-medium transition-colors",title:"View dependencies",children:[p.jsx(uf,{className:"h-3 w-3"}),p.jsx("span",{className:"hidden xs:inline",children:"Deps"})]})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx("button",{onClick:vt,className:"p-1.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg transition-colors",title:"Edit task",children:p.jsx(Pf,{className:"h-3 w-3"})}),p.jsx("button",{onClick:Ke,className:"p-1.5 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition-colors",title:"Delete task",children:p.jsx(Yo,{className:"h-3 w-3"})}),p.jsx("button",{onClick:vn,className:`group relative p-1.5 rounded-lg transition-all duration-300 ease-out ${H?"bg-yellow-100 text-yellow-800 shadow-lg scale-105":"bg-yellow-50 hover:bg-yellow-100 text-yellow-600 hover:text-yellow-700 hover:scale-105 hover:shadow-md"}`,title:H?"Hide notes":"View notes",children:p.jsxs("div",{className:"relative",children:[p.jsx(Rx,{className:`h-3 w-3 transition-all duration-300 ease-out ${H?"scale-110":"group-hover:scale-110"}`}),ne.length>0&&p.jsx("div",{className:`absolute -top-0.5 -right-0.5 w-1.5 h-1.5 rounded-full transition-all duration-300 ${H?"bg-yellow-600 scale-125":"bg-yellow-500 group-hover:scale-110"}`})]})}),Ge&&se.length>0&&p.jsx("button",{onClick:()=>lt(se[0]._id),className:"p-1.5 bg-green-100 hover:bg-green-200 text-green-700 rounded-lg transition-colors",title:"Download attachment",children:p.jsx(EP,{className:"h-3 w-3"})}),p.jsxs("div",{className:"relative",children:[p.jsx("button",{onClick:()=>I(!L),className:"p-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",title:"More options",children:p.jsx(rL,{className:"h-3 w-3"})}),L&&p.jsxs("div",{className:"absolute right-0 mt-1 w-40 sm:w-48 bg-white rounded-xl shadow-lg py-1 z-10 border border-gray-200 max-h-64 overflow-y-auto",children:[p.jsxs("button",{onClick:()=>{X(!0),I(!1)},className:"flex items-center px-3 py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[p.jsx(Kp,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:"Set Reminder"})]}),p.jsxs("button",{onClick:Qe,className:"flex items-center px-3 py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[p.jsx(Qd,{className:"mr-2 h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:"Add Subtask"})]}),p.jsxs("button",{onClick:()=>{Z(!0),I(!1)},className:"flex items-center px-3 py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[p.jsx(Qd,{className:"mr-2 h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:"Add Note"})]}),p.jsxs("button",{onClick:()=>{re(!0),I(!1)},className:"flex items-center px-3 py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[p.jsx(Qd,{className:"mr-2 h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:"Add Attachment"})]}),p.jsxs("button",{onClick:Cn,className:"flex items-center px-3 py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[p.jsx(uf,{className:"mr-2 h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:"Add Dependency"})]}),Be&&p.jsxs("button",{onClick:Ut,className:"flex items-center px-3 py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[p.jsx(Rx,{className:"mr-2 h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:"View Dependencies"})]})]})]})]})]})]}),p.jsxs("div",{className:"hidden sm:grid grid-cols-[25px,1fr,auto] md:grid-cols-[30px,1fr,auto] w-full px-3 md:px-4 py-3 items-center gap-3",children:[p.jsx("input",{type:"radio",className:`w-4 h-4 md:w-5 md:h-5 rounded-full cursor-pointer appearance-none flex-shrink-0 ${t.color==="red"?"bg-red-600 border-red-600":t.color==="yellow"?"bg-yellow-400 border-yellow-400":"bg-green-600 border-green-600"}`}),p.jsxs("div",{className:"flex flex-col min-w-0",children:[p.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[t.subtaskCount>0&&p.jsx("button",{onClick:Ot,className:"text-gray-600 hover:text-[#9406E6] transition-colors flex-shrink-0",title:y?"Collapse subtasks":"Expand subtasks",children:y?p.jsx(IP,{className:"h-4 w-4"}):p.jsx(OP,{className:"h-4 w-4"})}),p.jsx("p",{className:`${o?"line-through text-gray-600":""} font-bold text-left text-sm md:text-base lg:text-lg transition-all truncate flex-1 min-w-0`,children:t.task}),t.priority&&p.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full flex-shrink-0 ${t.priority.toLowerCase()==="high"?"bg-red-100 text-red-800":t.priority.toLowerCase()==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.priority}),Be&&p.jsx("button",{onClick:Ut,className:"text-[#9406E6] hover:text-[#7D05C3] flex-shrink-0",title:"View dependencies",children:p.jsx(uf,{className:"h-4 w-4"})})]}),t.subtaskCount>0&&p.jsxs("div",{className:"flex items-center text-xs text-gray-600 mt-1 gap-2",children:[p.jsx("div",{className:"w-20 md:w-24 bg-gray-200 rounded-full h-2 md:h-2.5 flex-shrink-0",children:p.jsx("div",{className:"bg-[#9406E6] h-full rounded-full transition-all duration-300",style:{width:`${t.completedSubtasks/t.subtaskCount*100}%`}})}),p.jsxs("span",{className:"whitespace-nowrap",children:[t.completedSubtasks,"/",t.subtaskCount," done"]})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-1 sm:gap-2 md:gap-3 flex-shrink-0",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-1 sm:gap-2 text-right",children:[p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("p",{className:`${o?"line-through text-gray-600":""} font-bold text-xs md:text-sm transition-all whitespace-nowrap`,children:t.date}),e&&!o&&p.jsx("p",{className:"font-bold text-[10px] md:text-xs text-red-700 whitespace-nowrap",children:"Deadline exceeded"})]}),p.jsx("p",{className:`${o?"line-through text-gray-600":""} font-bold text-xs md:text-sm transition-all whitespace-nowrap`,children:t.time})]}),p.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 flex-shrink-0",children:[p.jsx("button",{onClick:vt,className:"text-blue-600 hover:text-blue-800 p-1 rounded transition-colors",title:"Edit task",children:p.jsx(Pf,{className:"h-4 w-4 md:h-5 md:w-5"})}),p.jsx("button",{onClick:Ke,className:"text-red-600 hover:text-red-800 p-1 rounded transition-colors",title:"Delete task",children:p.jsx(Yo,{className:"h-4 w-4 md:h-5 md:w-5"})}),p.jsx("button",{onClick:dt,className:`w-5 h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center transition-all duration-200 flex-shrink-0 ${o?"bg-[#9406E6] text-white":"border-2 border-[#9406E6] hover:bg-[#9406E6]/20"}`,disabled:f,title:o?"Mark as incomplete":"Mark as complete",children:o&&p.jsx(M1,{className:"h-4 w-4"})}),p.jsx("button",{onClick:vn,className:`group relative p-1 rounded transition-all duration-300 ease-out ${H?"text-yellow-800 bg-yellow-100 shadow-md scale-105":"text-yellow-600 hover:text-yellow-800 hover:bg-yellow-50 hover:scale-105"}`,title:H?"Hide notes":"View notes",children:p.jsxs("div",{className:"relative",children:[p.jsx(Rx,{className:`h-4 w-4 md:h-5 md:w-5 transition-all duration-300 ease-out ${H?"scale-110":"group-hover:scale-110"}`}),ne.length>0&&p.jsx("div",{className:`absolute -top-0.5 -right-0.5 w-1.5 h-1.5 rounded-full transition-all duration-300 ${H?"bg-yellow-600 scale-125":"bg-yellow-500 group-hover:scale-110"}`})]})}),Ge&&se.length>0&&p.jsx("button",{onClick:()=>lt(se[0]._id),className:"text-blue-600 hover:text-blue-800 p-1 rounded transition-colors",title:"Download attachment",children:p.jsx(EP,{className:"h-4 w-4 md:h-5 md:w-5"})}),p.jsxs("div",{className:"relative",children:[p.jsx("button",{onClick:()=>I(!L),className:"text-gray-600 hover:text-gray-800 p-1 rounded transition-colors",title:"More options",children:p.jsx(rL,{className:"h-4 w-4 md:h-5 md:w-5"})}),L&&p.jsxs("div",{className:"absolute right-0 mt-2 w-40 sm:w-48 bg-white rounded-md shadow-lg py-1 z-10 border max-h-64 overflow-y-auto",children:[p.jsxs("button",{onClick:()=>{X(!0),I(!1)},className:"flex items-center px-3 py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[p.jsx(Kp,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:"Set Reminder"})]}),p.jsxs("button",{onClick:Qe,className:"flex items-center px-3 py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[p.jsx(Qd,{className:"mr-2 h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:"Add Subtask"})]}),p.jsxs("button",{onClick:()=>{Z(!0),I(!1)},className:"flex items-center px-3 py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[p.jsx(Qd,{className:"mr-2 h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:"Add Note"})]}),p.jsxs("button",{onClick:()=>{re(!0),I(!1)},className:"flex items-center px-3 py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[p.jsx(Qd,{className:"mr-2 h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:"Add Attachment"})]}),p.jsxs("button",{onClick:Cn,className:"flex items-center px-3 py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[p.jsx(uf,{className:"mr-2 h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:"Add Dependency"})]}),Be&&p.jsxs("button",{onClick:Ut,className:"flex items-center px-3 py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[p.jsx(Rx,{className:"mr-2 h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:"View Dependencies"})]})]})]})]})]})]})]}),y&&t.subtaskCount>0&&p.jsxs("div",{className:"w-full mb-3",children:[p.jsxs("div",{className:"sm:hidden bg-gradient-to-br from-purple-50 via-indigo-50 to-blue-50 rounded-xl p-2 ml-4 border-l-4 border-gradient-to-b from-purple-500 to-indigo-600 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("h4",{className:"text-sm font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 flex items-center",children:[p.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center mr-2 shadow-sm",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),"Subtasks Tree"]}),p.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:[t.completedSubtasks,"/",t.subtaskCount]})]}),O?p.jsxs("div",{className:"flex items-center justify-center py-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-3 border-purple-200"}),p.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-3 border-purple-600 absolute top-0 left-0"})]}),p.jsx("span",{className:"ml-2 text-purple-700 text-xs font-medium",children:"Loading..."})]}):S.length>0?p.jsx("div",{className:"space-y-1.5",children:S.map((Ye,st)=>p.jsxs("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-lg p-1.5 border border-white/50 shadow-sm hover:shadow-md transition-all duration-300 hover:bg-white/90",style:{animation:`fadeInUp 0.3s ease-out ${st*.05}s both`},children:[p.jsx("div",{className:"absolute left-[-10px] top-1/2 transform -translate-y-1/2",children:p.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-purple-400 to-indigo-500 rounded-full border-2 border-white shadow-sm flex items-center justify-center",children:p.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})}),p.jsx(wL,{subtask:Ye,onDelete:St,onUpdate:tn,onStatusChange:zt})]},Ye._id))}):p.jsxs("div",{className:"text-center py-4 bg-white/60 backdrop-blur-sm rounded-lg border border-white/50",children:[p.jsx("div",{className:"w-12 h-12 mx-auto mb-2 bg-gradient-to-br from-purple-500 via-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform duration-300",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),p.jsx("h4",{className:"text-base font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 mb-1",children:"Empty Tree"}),p.jsx("p",{className:"text-purple-600 text-xs font-medium",children:"No subtasks in this branch"})]})]}),p.jsxs("div",{className:"hidden sm:block relative pl-10 mb-3 group",children:[p.jsx("div",{className:"absolute left-[20px] top-0 bottom-4 w-[2px] bg-gradient-to-b from-purple-400 via-indigo-500 to-purple-600 rounded-full shadow-sm group-hover:shadow-md transition-all duration-300 group-hover:w-[3px]",children:p.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-300 to-indigo-400 rounded-full animate-pulse opacity-50"})}),p.jsxs("div",{className:"absolute left-[-8px] top-[-20px] flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-3 py-1.5 rounded-lg shadow-lg border border-white/20",children:[p.jsx("div",{className:"w-5 h-5 bg-white/20 rounded-md flex items-center justify-center",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),p.jsx("span",{className:"text-xs font-bold",children:"Subtasks Tree"}),p.jsxs("div",{className:"bg-white/20 px-1.5 py-0.5 rounded-full text-xs font-bold",children:[t.completedSubtasks,"/",t.subtaskCount]})]}),O?p.jsxs("div",{className:"flex items-center justify-center py-6 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl ml-6 border border-purple-200/50 shadow-inner",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-3 border-purple-200"}),p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-3 border-purple-600 absolute top-0 left-0"}),p.jsx("div",{className:"animate-ping absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-purple-600 rounded-full"})]}),p.jsx("span",{className:"ml-3 text-purple-700 text-xs font-medium",children:"Loading tree..."})]}):p.jsx("div",{className:"pt-4",children:S.map((Ye,st)=>p.jsxs("div",{className:"relative mb-2 flex items-start group/item",style:{animation:`slideInRight 0.3s ease-out ${st*.05}s both`},children:[p.jsxs("div",{className:"absolute left-[-28px] top-[16px] flex items-center z-20",children:[p.jsx("div",{className:"w-[20px] h-[2px] bg-gradient-to-r from-purple-400 to-indigo-500 rounded-full shadow-sm group-hover/item:shadow-md transition-all duration-300 group-hover/item:w-[24px]",children:p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-300 to-indigo-400 rounded-full animate-pulse opacity-50"})}),p.jsxs("div",{className:"relative ml-1",children:[p.jsx("div",{className:"w-3 h-3 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-full border-2 border-white shadow-lg group-hover/item:scale-110 transition-transform duration-300 flex items-center justify-center",children:p.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse"})}),p.jsx("div",{className:"absolute inset-0 w-3 h-3 bg-purple-400 rounded-full animate-ping opacity-20"})]})]}),p.jsxs("div",{className:"flex-1 bg-white/80 backdrop-blur-sm rounded-lg border border-white/50 shadow-sm hover:shadow-md transition-all duration-300 hover:bg-white/90 group-hover/item:translate-x-1",children:[p.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 rounded-r-full ${Ye.priority==="High"?"bg-gradient-to-b from-red-400 to-red-600":Ye.priority==="Medium"?"bg-gradient-to-b from-yellow-400 to-orange-500":"bg-gradient-to-b from-green-400 to-green-600"}`}),p.jsx("div",{className:"relative z-10",children:p.jsx(wL,{subtask:Ye,onDelete:St,onUpdate:tn,onStatusChange:zt})}),p.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-purple-400/0 via-purple-400/10 to-indigo-400/0 opacity-0 group-hover/item:opacity-100 transition-opacity duration-300"})]})]},Ye._id))})]})]}),c&&p.jsx(_te,{isOpen:c,task:t,onClose:()=>d(!1),onSave:Je}),_&&p.jsx(Ete,{isOpen:_,onClose:()=>E(!1),onSave:Mt,parentTaskId:t._id,parentTask:t,subtask:M}),p.jsx(FV,{isOpen:$,onClose:()=>{X(!1),console.log("DisplayTodoList - Closing reminder modal, current task:",t)},task:t,onSetReminder:(Ye,st)=>{console.log("DisplayTodoList - Setting reminder for task:",{taskId:Ye,reminderTime:st}),En(Ye,st)}}),p.jsx(Pte,{isOpen:We,onClose:()=>ze(!1),task:t,onAddDependency:It}),Y&&p.jsx("div",{className:"ml-6 sm:ml-8 mb-4 bg-purple-50 rounded-lg",children:p.jsx(Nte,{taskId:t._id,onClose:()=>Ie(!1)})}),p.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-out ${H?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:p.jsx("div",{className:`ml-6 sm:ml-8 mb-4 transition-all duration-500 ease-out transform ${H?"translate-y-0 scale-100":"-translate-y-4 scale-95"}`,children:p.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 via-orange-50 to-yellow-100 rounded-xl p-4 border border-yellow-200 shadow-lg backdrop-blur-sm",children:[p.jsxs("div",{className:`flex items-center mb-4 transition-all duration-700 ease-out ${H?"translate-x-0 opacity-100":"-translate-x-4 opacity-0"}`,children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center mr-3 shadow-md group-hover:shadow-lg transition-shadow duration-300",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),p.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-yellow-700 to-orange-600 bg-clip-text text-transparent",children:"Notes"}),ne.length>0&&p.jsx("span",{className:"ml-auto bg-yellow-200 text-yellow-800 px-2 py-1 rounded-full text-xs font-semibold",children:ne.length})]}),p.jsx("div",{className:`transition-all duration-700 ease-out ${H?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:Ee?p.jsxs("div",{className:"flex items-center justify-center py-6",children:[p.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-yellow-300 border-t-yellow-600"}),p.jsx("span",{className:"ml-3 text-yellow-700 text-sm font-medium",children:"Loading notes..."})]}):ne.length>0?p.jsx("div",{className:"space-y-3",children:ne.map((Ye,st)=>p.jsxs("div",{className:`group bg-white rounded-lg p-3 shadow-sm border border-yellow-200/50 hover:shadow-md hover:border-yellow-300 transition-all duration-300 ease-out hover:-translate-y-0.5 ${H?"translate-x-0 opacity-100":"translate-x-4 opacity-0"}`,style:{transitionDelay:H?`${st*100}ms`:"0ms"},children:[p.jsx("p",{className:"text-gray-800 text-sm leading-relaxed mb-2",children:Ye.content}),p.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1 opacity-70",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.jsx("span",{children:new Date(Ye.createdAt).toLocaleString()})]})]},Ye._id))}):p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform duration-300",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),p.jsx("h4",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No notes yet"}),p.jsx("p",{className:"text-yellow-600 text-sm mb-4",children:"Start capturing your thoughts and ideas"}),p.jsxs("button",{onClick:()=>{Z(!0),I(!1)},className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg hover:from-yellow-600 hover:to-orange-600 transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add First Note"]})]})})]})})}),V&&p.jsx(Ate,{isOpen:V,onClose:()=>Z(!1),onSubmit:Pe}),ee&&p.jsx(Tte,{isOpen:ee,onClose:()=>re(!1),onSubmit:nt})]})}const kte=({onSortChange:t})=>{const{isDark:e}=Nm(),[n,r]=B.useState("deadline"),[i,s]=B.useState({deadline:"asc",priority:"asc",alphabetical:"asc",dependencies:"asc"}),a=o=>{if(o===n){const l=i[o]==="asc"?"desc":"asc";s(c=>({...c,[o]:l})),t(o,l)}else r(o),t(o,i[o])};return p.jsxs("div",{className:`p-1 sm:p-1 md:p-2 rounded-xl mb-3 sm:mb-4 ${e?"bg-gray-800 ":"bg-gray-100 "}`,children:[p.jsxs("div",{className:"sm:hidden",children:[p.jsx("div",{className:"flex items-center justify-center mb-3",children:p.jsxs("div",{className:`flex items-center space-x-2 ${e?"text-gray-300":"text-gray-700"}`,children:[p.jsx(DP,{className:"h-4 w-4 text-purple-600"}),p.jsx("span",{className:"font-semibold text-sm",children:"Sort Tasks By"})]})}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx(Yh,{icon:p.jsx(Kp,{}),label:"Deadline",isActive:n==="deadline",direction:n==="deadline"?i.deadline:null,onClick:()=>a("deadline"),isMobile:!0,showArrow:!0,color:"from-blue-500 to-indigo-600",isDark:e}),p.jsx(Yh,{icon:p.jsx(LP,{}),label:"Priority",isActive:n==="priority",direction:n==="priority"?i.priority:null,onClick:()=>a("priority"),isMobile:!0,showArrow:!0,color:"from-purple-500 to-pink-600",isDark:e}),p.jsx(Yh,{icon:p.jsx(nL,{}),label:"A-Z",isActive:n==="alphabetical",onClick:()=>a("alphabetical"),isMobile:!0,color:"from-green-500 to-emerald-600",isDark:e}),p.jsx(Yh,{icon:p.jsx(uf,{}),label:"Deps",isActive:n==="dependencies",onClick:()=>a("dependencies"),isMobile:!0,color:"from-orange-500 to-red-600",isDark:e})]})]}),p.jsx("div",{className:"hidden sm:block",children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 sm:gap-4",children:[p.jsxs("div",{className:`flex items-center space-x-2 ${e?"text-gray-300":"text-gray-700"}`,children:[p.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 p-2 rounded-lg shadow-md",children:p.jsx(DP,{className:"h-5 w-5 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:`font-bold text-base lg:text-lg ${e?"text-gray-100":"text-gray-800"}`,children:"Sort Tasks"}),p.jsx("p",{className:`text-xs lg:text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Choose your preferred sorting method"})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[p.jsx(Yh,{icon:p.jsx(uf,{}),label:"Dependencies",isActive:n==="dependencies",onClick:()=>a("dependencies"),color:"from-orange-500 to-red-600",isDark:e}),p.jsx(Yh,{icon:p.jsx(nL,{}),label:"Alphabetical",isActive:n==="alphabetical",onClick:()=>a("alphabetical"),color:"from-green-500 to-emerald-600",isDark:e}),p.jsx(Ote,{icon:p.jsx(Kp,{}),label:"Deadline",isActive:n==="deadline",direction:i.deadline,onClick:()=>a("deadline"),color:"from-blue-500 to-indigo-600",isDark:e}),p.jsx(Ite,{icon:p.jsx(LP,{}),label:"Priority",isActive:n==="priority",direction:i.priority,onClick:()=>a("priority"),color:"from-purple-500 to-pink-600",isDark:e})]})]})})]})},Yh=({icon:t,label:e,isActive:n,onClick:r,isMobile:i,direction:s,showArrow:a,color:o,isDark:l})=>i?p.jsxs("button",{onClick:r,className:`group relative overflow-hidden flex flex-col items-center justify-center p-2 rounded-lg transition-all duration-300 transform hover:scale-105 ${n?`bg-gradient-to-r ${o} text-white shadow-lg scale-105`:l?"bg-gray-600/80 text-gray-200 hover:bg-gray-500/90 hover:shadow-md border border-gray-500/30":"bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-lg border border-gray-200"}`,children:[p.jsxs("div",{className:"flex items-center justify-center mb-1",children:[p.jsx("span",{className:`text-sm transition-transform duration-200 ${n?"scale-110":"group-hover:scale-110"}`,children:t}),a&&n&&s&&p.jsx("span",{className:"ml-1 animate-bounce",children:s==="asc"?p.jsx(DR,{className:"text-xs"}):p.jsx(LR,{className:"text-xs"})})]}),p.jsx("span",{className:"text-xs font-semibold leading-tight text-center",children:e}),n&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse rounded-lg"})]}):p.jsxs("button",{onClick:r,className:`group relative overflow-hidden flex items-center space-x-1.5 px-3 lg:px-4 py-2 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-md ${n?`bg-gradient-to-r ${o} text-white shadow-lg scale-105`:l?"bg-gray-600/80 text-gray-200 hover:bg-gray-500/95 hover:shadow-lg border border-gray-500/30":"bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-lg border border-gray-200"}`,children:[p.jsx("span",{className:`text-sm transition-transform duration-200 ${n?"scale-110":"group-hover:scale-110"}`,children:t}),p.jsx("span",{className:"font-semibold text-sm",children:e}),n&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse rounded-lg"})]}),Ote=({icon:t,label:e,isActive:n,direction:r,onClick:i,color:s,isDark:a})=>p.jsxs("button",{onClick:i,className:`group relative overflow-hidden flex items-center space-x-1.5 px-3 lg:px-4 py-2 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-md ${n?`bg-gradient-to-r ${s} text-white shadow-lg scale-105`:a?"bg-gray-600/80 text-gray-200 hover:bg-gray-500/95 hover:shadow-lg border border-gray-500/30":"bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-lg border border-gray-200"}`,title:r==="asc"?"Sort by earliest deadline first":"Sort by latest deadline first",children:[p.jsx("span",{className:`text-sm transition-transform duration-200 ${n?"scale-110":"group-hover:scale-110"}`,children:t}),p.jsx("span",{className:"font-semibold text-sm",children:e}),n&&p.jsx("span",{className:"ml-1 animate-bounce",children:r==="asc"?p.jsx(DR,{className:"text-xs"}):p.jsx(LR,{className:"text-xs"})}),n&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse rounded-lg"})]}),Ite=({icon:t,label:e,isActive:n,direction:r,onClick:i,color:s,isDark:a})=>p.jsxs("button",{onClick:i,className:`group relative overflow-hidden flex items-center space-x-1.5 px-3 lg:px-4 py-2 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-md ${n?`bg-gradient-to-r ${s} text-white shadow-lg scale-105`:a?"bg-gray-600/80 text-gray-200 hover:bg-gray-500/95 hover:shadow-lg border border-gray-500/30":"bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-lg border border-gray-200"}`,title:r==="asc"?"Sort by highest priority first":"Sort by lowest priority first",children:[p.jsx("span",{className:`text-sm transition-transform duration-200 ${n?"scale-110 rotate-12":"group-hover:scale-110 group-hover:rotate-12"}`,children:t}),p.jsx("span",{className:"font-semibold text-sm",children:e}),n&&p.jsx("span",{className:"ml-1 animate-bounce",children:r==="asc"?p.jsx(DR,{className:"text-xs"}):p.jsx(LR,{className:"text-xs"})}),n&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse rounded-lg"})]}),BV=({isOpen:t,onClose:e,onConfirm:n,isDeleting:r,taskName:i})=>{if(!t)return null;const s=()=>{n()},a=()=>{r||e()},o=c=>{c.target===c.currentTarget&&!r&&e()},l=p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[99999] p-4",style:{animation:"modalBackdropFadeIn 0.3s ease-out forwards"},onClick:o,children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out",style:{animation:"modalSlideIn 0.4s ease-out forwards"},onClick:c=>c.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:p.jsx(WR,{className:"h-6 w-6 text-red-600"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-900 font-proza",children:"Delete Task"})]}),!r&&p.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100",children:p.jsx(Ia,{className:"h-5 w-5"})})]}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3 font-proza",children:"Are you sure?"}),p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[p.jsx("p",{className:"text-red-800 text-sm font-medium mb-2",children:"You are about to delete the following task:"}),p.jsx("div",{className:"bg-white border border-red-200 rounded p-3",children:p.jsxs("p",{className:"text-gray-900 font-semibold",children:['"',i,'"']})})]}),p.jsx("p",{className:"text-gray-600 text-sm",children:"This action cannot be undone. The task will be permanently removed from your list."})]}),p.jsxs("div",{className:"flex flex-col space-y-3",children:[p.jsx("button",{onClick:s,disabled:r,className:`w-full py-3 px-4 rounded-lg font-semibold transition-all duration-200 ${r?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white shadow-lg hover:shadow-red-500/25 active:scale-[0.98]"}`,children:r?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsx(Vf,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),"Deleting Task..."]}):"Yes, Delete Task"}),p.jsx("button",{onClick:a,disabled:r,className:`w-full py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-lg transition-all duration-200 active:scale-[0.98] ${r?"opacity-50 cursor-not-allowed":""}`,children:"Cancel"})]})]})]})});return Lu.createPortal(l,document.body)},Kg="http://localhost:5000";function Lte({searchTerm:t=""}){const[e,n]=B.useState([]),[r,i]=B.useState([]),[s,a]=B.useState(!0),[o,l]=B.useState(null),{socket:c}=Hw(),{createSuccessNotification:d,createErrorNotification:f}=VR(),{isDark:g}=Nm(),[y,x]=B.useState([]),[S,b]=B.useState(!1),[_,E]=B.useState({isOpen:!1,taskId:null,taskName:"",isDeleting:!1}),[M,P]=B.useState({type:"deadline",direction:"asc"}),[C,N]=B.useState(0),[O,D]=B.useState(0),[U,L]=B.useState(!1),[I,$]=B.useState(null),X=85,V=5,Z=()=>{if(r.length<=20)return{startIndex:0,endIndex:r.length-1,visibleItems:r};const ce=Math.max(0,Math.floor(C/X)-V),xe=Math.min(r.length-1,Math.ceil((C+O)/X)+V);return{startIndex:ce,endIndex:xe,visibleItems:r.slice(ce,xe+1)}},{startIndex:ee,endIndex:re,visibleItems:H}=Z(),J=()=>{if(r.length===0||!O)return{visible:0,total:0};const ce=Math.max(0,Math.floor(C/X)),xe=Math.min(r.length-1,Math.ceil((C+O)/X)),me=Math.max(0,xe-ce+1);return{visible:Math.min(me,r.length),total:r.length,startIndex:ce+1,endIndex:Math.min(xe+1,r.length)}},K=()=>{if(r.length===0||!O)return"";const ce=Math.max(0,Math.floor(C/X)),xe=Math.min(r.length-1,Math.ceil((C+O)/X));if(ce>=r.length||xe<0)return"";const me=r[ce],Fe=r[Math.min(xe,r.length-1)];if(!(me!=null&&me.date)||!(Fe!=null&&Fe.date))return"";const Be=me.date,He=Fe.date,Ge=Q=>{try{const[W,be,Se]=Q.split("/");return new Date(Se,be-1,W).toLocaleDateString("en-US",{month:"short",day:"numeric",year:Se!==new Date().getFullYear().toString()?"numeric":void 0})}catch{return Q}};if(Be===He)return Ge(Be);{const Q=Ge(Be),W=Ge(He);return`${Q} - ${W}`}},q=ce=>{N(ce.target.scrollTop),O||D(ce.target.clientHeight),L(!0),I&&clearTimeout(I);const xe=setTimeout(()=>{L(!1)},1500);$(xe)},ne=()=>{const ce=document.getElementById("task-list-container");ce&&ce.scrollTo({top:0,behavior:"smooth"})},ve=()=>{const ce=document.getElementById("task-list-container");if(ce){const xe=ce.scrollHeight-ce.clientHeight;ce.scrollTo({top:xe,behavior:"smooth"})}};B.useEffect(()=>{const ce=document.createElement("style");return ce.textContent=`
         .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
         }
         .custom-scrollbar::-webkit-scrollbar-track {
            background: ${g?"rgba(55, 65, 81, 0.3)":"rgba(229, 231, 235, 0.3)"};
            border-radius: 4px;
         }
         .custom-scrollbar::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #9406E6, #7D05C3);
            border-radius: 4px;
            transition: background 0.2s ease;
         }
         .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #7D05C3, #6B04A8);
         }
         .custom-scrollbar {
            scrollbar-width: thin;
            scrollbar-color: #9406E6 ${g?"rgba(55, 65, 81, 0.3)":"rgba(229, 231, 235, 0.3)"};
         }
         .animate-fade-in {
            animation: fadeIn 0.3s ease-in-out;
         }
         @keyframes fadeIn {
            from {
               opacity: 0;
               transform: translateY(-10px) translateX(10px);
            }
            to {
               opacity: 1;
               transform: translateY(0) translateX(0);
            }
         }
      `,document.head.appendChild(ce),()=>{document.head.removeChild(ce)}},[g]),B.useEffect(()=>()=>{I&&clearTimeout(I)},[I]),B.useEffect(()=>{se(),de()},[]),B.useEffect(()=>{if(!c)return;const ce=Be=>{n(He=>[...He,Be])},xe=Be=>{n(He=>He.map(Ge=>Ge._id===Be._id?Be:Ge))},me=Be=>{n(He=>He.filter(Ge=>Ge._id!==Be.taskId))},Fe=Be=>{n(He=>He.map(Ge=>Ge._id===Be.taskId?{...Ge,completed:Be.completed}:Ge))};return c.on("taskCreated",ce),c.on("taskUpdated",xe),c.on("taskDeleted",me),c.on("taskStatusChanged",Fe),()=>{c.off("taskCreated",ce),c.off("taskUpdated",xe),c.off("taskDeleted",me),c.off("taskStatusChanged",Fe)}},[c]),B.useEffect(()=>{if(e.length>=0){let ce=[...e];t.trim()&&(ce=e.filter(me=>me.task.toLowerCase().includes(t.toLowerCase().trim())));const xe=ze(ce,M.type,M.direction);i(xe)}},[e,M,t]);const se=async()=>{a(!0);try{const ce=localStorage.getItem("token");if(!ce)throw new Error("Authentication required");const xe=await fetch(`${Kg}/api/tasks`,{method:"GET",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"}});if(!xe.ok)throw new Error("Failed to fetch tasks");const me=await xe.json();n(me),l(null)}catch(ce){console.error("Error fetching tasks:",ce),l("Failed to load tasks. Please try again.")}finally{a(!1)}},de=async()=>{b(!0);try{const ce=localStorage.getItem("token");if(!ce)throw new Error("Authentication required");const xe=await fetch(`${Kg}/api/dependencies`,{method:"GET",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"}});if(!xe.ok)throw new Error("Failed to fetch dependencies");const me=await xe.json();x(me)}catch(ce){console.error("Error fetching dependencies:",ce)}finally{b(!1)}},Ee=async ce=>{const xe=e.find(me=>me._id===ce);E({isOpen:!0,taskId:ce,taskName:(xe==null?void 0:xe.task)||"Unknown Task",isDeleting:!1})},Ve=async()=>{E(ce=>({...ce,isDeleting:!0}));try{const ce=localStorage.getItem("token");if(!ce)throw new Error("Authentication required");const xe=await fetch(`${Kg}/api/tasks/${_.taskId}`,{method:"DELETE",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"}});if(xe.status===409){const me=await fetch(`${Kg}/api/tasks/${_.taskId}`,{method:"DELETE",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify({confirmCascade:!0})});if(!me.ok){const Fe=await me.json();throw new Error(Fe.message||"Failed to delete task")}}else if(!xe.ok){const me=await xe.json();throw new Error(me.message||"Failed to delete task")}n(me=>me.filter(Fe=>Fe._id!==_.taskId)),E({isOpen:!1,taskId:null,taskName:"",isDeleting:!1})}catch(ce){console.error("Error deleting task:",ce),f(ce.message||"Failed to delete task"),E(xe=>({...xe,isDeleting:!1}))}},Ue=()=>{E({isOpen:!1,taskId:null,taskName:"",isDeleting:!1})},ye=async(ce,xe)=>{try{const me=localStorage.getItem("token");if(!me)throw new Error("Authentication required");if(xe.date&&!xe.date.match(/^\d{2}\/\d{2}\/\d{4}$/))throw new Error("Invalid date format. Expected format: DD/MM/YYYY");if(xe.time&&!xe.time.match(/^\d{1,2}:\d{2}\s(?:AM|PM)$/))throw new Error("Invalid time format. Expected format: HH:MM AM/PM");const Fe=await fetch(`${Kg}/api/tasks/${ce}`,{method:"PUT",headers:{Authorization:`Bearer ${me}`,"Content-Type":"application/json"},body:JSON.stringify(xe)});if(!Fe.ok){const He=await Fe.json();throw new Error(He.message||"Failed to update task")}const Be=await Fe.json();n(He=>He.map(Ge=>Ge._id===ce?Be:Ge))}catch(me){throw console.error("Error updating task:",me),f(me.message||"Failed to update task"),me}},We=async(ce,xe,me)=>{me?f(me):d(`Task marked as ${xe?"incomplete":"complete"}`)},ze=(ce,xe,me)=>{const Fe=[...ce],Be=new Date,He=Ge=>{try{if(!Ge.date)return new Date(864e13);let Q=Ge.date;if(Q.includes("/")){const Oe=Q.split("/");if(Oe.length===3){const De=Oe[0].padStart(2,"0"),dt=Oe[1].padStart(2,"0");Q=`${Oe[2]}-${dt}-${De}`}}let W=Ge.time||"11:59 PM";if(W.includes("AM")||W.includes("PM")){const Oe=W.split(" "),De=Oe[0],dt=Oe[1],[vt,Ke]=De.split(":");let Je=parseInt(vt,10);dt==="AM"&&Je===12?Je=0:dt==="PM"&&Je!==12&&(Je+=12),W=`${Je.toString().padStart(2,"0")}:${Ke}:00`}const be=`${Q}T${W}`,Se=new Date(be);return isNaN(Se.getTime())?(console.warn(`Invalid date created for task: ${Ge.task}`,{date:Ge.date,time:Ge.time}),new Date(864e13)):Se}catch(Q){return console.error(`Error parsing date for task: ${Ge.task}`,Q),new Date(864e13)}};switch(xe){case"alphabetical":Fe.sort((be,Se)=>{const Oe=be.task.localeCompare(Se.task);return me==="asc"?Oe:-Oe});break;case"deadline":Fe.sort((be,Se)=>{const Oe=He(be),De=He(Se),dt=Oe.getTime()-Be.getTime(),vt=De.getTime()-Be.getTime();return be.completed!==Se.completed?be.completed?1:-1:me==="asc"?dt-vt:vt-dt});break;case"priority":const Ge={high:1,medium:2,low:3};Fe.sort((be,Se)=>{var vt,Ke;const Oe=Ge[(vt=be.priority)==null?void 0:vt.toLowerCase()]||999,De=Ge[(Ke=Se.priority)==null?void 0:Ke.toLowerCase()]||999,dt=Oe-De;return me==="asc"?dt:-dt});break;case"dependencies":const Q=new Map,W=new Map;y.forEach(be=>{var De,dt;const Se=((De=be.dependentTaskId)==null?void 0:De._id)||be.dependentTaskId,Oe=((dt=be.prerequisiteTaskId)==null?void 0:dt._id)||be.prerequisiteTaskId;Q.has(Se)||Q.set(Se,new Set),Q.get(Se).add(Oe),W.has(Se)||W.set(Se,{hasDependencies:!0,isDependent:!0}),W.has(Oe)||W.set(Oe,{hasDependencies:!0,isDependent:!1})}),Fe.sort((be,Se)=>{var Ot,Qe,Cn,Ut;const Oe=((Ot=W.get(be._id))==null?void 0:Ot.hasDependencies)||!1,De=((Qe=W.get(Se._id))==null?void 0:Qe.hasDependencies)||!1,dt=((Cn=W.get(be._id))==null?void 0:Cn.isDependent)||!1,vt=((Ut=W.get(Se._id))==null?void 0:Ut.isDependent)||!1;if(Oe!==De)return me==="asc"?Oe?-1:1:Oe?1:-1;if(Oe&&De&&dt!==vt)return me==="asc"?dt?-1:1:dt?1:-1;const Ke=He(be),Je=He(Se);return me==="asc"?Ke-Je:Je-Ke});break;default:Fe.sort((be,Se)=>{const Oe=He(be),De=He(Se);if(be.completed!==Se.completed)return be.completed?1:-1;const dt=Oe-De;return me==="asc"?dt:-dt})}return Fe},Y=(ce,xe)=>{console.log(`Sorting by ${ce} in ${xe} order`),P({type:ce,direction:xe})},Ie=ce=>{if(ce.completed)return!1;try{if(!ce.date)return!1;let xe=ce.date;if(xe.includes("/")){const Ge=xe.split("/");if(Ge.length===3){const Q=Ge[0].padStart(2,"0"),W=Ge[1].padStart(2,"0");xe=`${Ge[2]}-${W}-${Q}`}}let me=ce.time||"11:59 PM";if(me.includes("AM")||me.includes("PM")){const Ge=me.split(" "),Q=Ge[0],W=Ge[1],[be,Se]=Q.split(":");let Oe=parseInt(be,10);W==="AM"&&Oe===12?Oe=0:W==="PM"&&Oe!==12&&(Oe+=12),me=`${Oe.toString().padStart(2,"0")}:${Se}:00`}const Fe=`${xe}T${me}`,Be=new Date(Fe);return isNaN(Be.getTime())?(console.warn(`Invalid date in isDeadlineExceeded for task: ${ce.task}`,{date:ce.date,time:ce.time}),!1):Be<new Date}catch(xe){return console.error(`Error checking deadline for task: ${ce.task}`,xe),!1}};return s?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#9406E6]"})}):o?p.jsxs("div",{className:`text-center p-4 rounded-lg ${g?"text-red-400 bg-red-900/20 border border-red-800":"text-red-500 bg-red-100 border border-red-200"}`,children:[p.jsx("p",{children:o}),p.jsx("button",{onClick:se,className:"mt-2 px-4 py-2 bg-[#9406E6] text-white rounded-md hover:bg-[#7D05C3] transition-colors",children:"Try Again"})]}):p.jsxs("div",{className:"w-full",children:[p.jsxs("div",{className:"relative mb-4",children:[p.jsx("div",{className:`absolute inset-0 rounded-xl border shadow-lg ${g?"bg-gray-800 border-gray-700":"bg-gray-100 border-gray-200"}`}),p.jsxs("div",{className:"relative p-3 sm:p-4",children:[p.jsx(kte,{onSortChange:Y}),p.jsx("div",{className:"flex items-center justify-between mb-3",children:p.jsx("div",{className:`backdrop-blur-sm px-2 sm:px-3 py-1 rounded-full border ${g?"bg-purple-900/50 border-purple-700 text-purple-200":"bg-purple-100 border-purple-200 text-purple-700"}`,children:p.jsxs("span",{className:"text-xs sm:text-sm font-semibold",children:[r.length," ",r.length===1?"Task":"Tasks"]})})})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"h-[70vh] overflow-y-auto pr-2 custom-scrollbar scroll-smooth",id:"task-list-container",onScroll:q,children:r.length===0?p.jsx("div",{className:`text-center p-8 sm:p-12 rounded-2xl border shadow-lg ${g?"bg-gradient-to-r from-gray-800 to-gray-700 border-gray-600":"bg-gradient-to-r from-gray-50 to-gray-100 border-gray-200"}`,children:p.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[p.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 p-4 rounded-full",children:p.jsx(dL,{className:"h-8 w-8 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-lg font-semibold mb-2 font-proza ${g?"text-gray-200":"text-gray-700"}`,children:t?"No matching tasks found":"No tasks yet"}),p.jsx("p",{className:`max-w-md ${g?"text-gray-400":"text-gray-500"}`,children:t?`No tasks found for "${t}". Try adjusting your search term.`:"Create your first task to get started with organizing your work!"})]})]})}):p.jsxs("div",{style:{height:r.length*X,position:"relative"},children:[p.jsx("div",{style:{height:ee*X}}),p.jsx("div",{children:H.map((ce,xe)=>p.jsx("div",{style:{minHeight:X,position:"relative"},children:p.jsx(Rte,{list:ce,isexceeded:Ie(ce),onDelete:Ee,onUpdate:ye,onStatusChange:We,dependencies:y,onDependencyChange:de})},ce._id))}),p.jsx("div",{style:{height:(r.length-re-1)*X}})]})}),r.length>5&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:`absolute top-0 left-0 right-0 h-6 pointer-events-none z-10 rounded-t-xl ${g?"bg-gradient-to-b from-gray-800/30 via-gray-800/10 to-transparent":"bg-gradient-to-b from-white/30 via-white/10 to-transparent"}`}),p.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-6 pointer-events-none z-10 rounded-b-xl ${g?"bg-gradient-to-t from-gray-800/30 via-gray-800/10 to-transparent":"bg-gradient-to-t from-white/30 via-white/10 to-transparent"}`}),U&&K()&&p.jsx("div",{className:`absolute top-1/2 right-4 transform -translate-y-1/2 backdrop-blur-sm text-white text-xs font-medium px-3 py-2 rounded-lg shadow-lg z-30 animate-fade-in ${g?"bg-gradient-to-r from-purple-800 to-purple-900 border border-purple-600/20":"bg-gradient-to-r from-purple-800 to-purple-900 border border-white/20"}`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(HR,{className:"h-3 w-3"}),p.jsx("span",{children:K()})]})}),U&&r.length>10&&p.jsx("div",{className:`absolute top-16 right-4 backdrop-blur-sm text-white text-xs font-medium px-3 py-1.5 rounded-lg shadow-lg z-30 animate-fade-in ${g?"bg-gradient-to-r from-purple-600 to-purple-700 border border-purple-500/20":"bg-gradient-to-r from-purple-600 to-purple-700 border border-white/20"}`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(dL,{className:"h-3 w-3"}),p.jsx("span",{children:(()=>{const{visible:ce,total:xe,startIndex:me,endIndex:Fe}=J();return`${me}-${Fe} of ${xe}`})()})]})}),p.jsxs("div",{className:"absolute bottom-3 left-6 flex flex-col gap-2 z-20",children:[p.jsx("button",{onClick:ne,className:`backdrop-blur-sm text-white p-2 rounded-full shadow-lg transition-all duration-200 hover:scale-105 ${g?"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 border border-purple-500/20":"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 border border-white/20"}`,title:"Scroll to top",children:p.jsx(IP,{className:"h-4 w-4"})}),p.jsx("button",{onClick:ve,className:`backdrop-blur-sm text-white p-2 rounded-full shadow-lg transition-all duration-200 hover:scale-105 ${g?"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 border border-purple-500/20":"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 border border-white/20"}`,title:"Scroll to bottom",children:p.jsx(OP,{className:"h-4 w-4"})})]})]})]}),p.jsx(BV,{isOpen:_.isOpen,onClose:Ue,onConfirm:Ve,taskName:_.taskName,isDeleting:_.isDeleting})]})}function Dte({SetisAddFormVisible:t,setisDeleteFormVisible:e,onSearchChange:n}){const[r,i]=B.useState("");function s(){t(!0)}function a(){e(!0)}function o(c){const d=c.target.value;i(d),n&&n(d)}function l(){i(""),n&&n("")}return p.jsx("div",{className:"mb-3 -mt-10",children:p.jsxs("div",{className:"relative bg-white/15 backdrop-blur-lg border border-white/20 p-4 sm:p-3 lg:p-5 rounded-2xl shadow-xl",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 via-blue-500/10 to-indigo-500/10 rounded-2xl"}),p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-5 ",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 p-2.5 rounded-xl shadow-lg",children:p.jsx(DP,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-base sm:text-lg font-bold text-white font-proza",children:"Task Management"}),p.jsx("p",{className:"text-xs sm:text-sm text-white/80",children:"Search, create, and organize your tasks"})]})]}),p.jsxs("div",{className:"hidden sm:flex items-center space-x-2 bg-white/20 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/30",children:[p.jsx(LP,{className:"h-4 w-4 text-yellow-300"}),p.jsx("span",{className:"text-sm font-semibold text-white",children:"Quick Actions"})]})]}),p.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-5 lg:items-end",children:[p.jsx("div",{className:"flex-1 lg:flex-grow",children:p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500 to-blue-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition-opacity duration-300"}),p.jsx("div",{className:"relative bg-white/20 backdrop-blur-sm rounded-2xl border border-white/30 p-0.5",children:p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",value:r,onChange:o,placeholder:"Search tasks by name...",className:"w-full h-8 sm:h-8 pl-10 sm:pl-12 pr-10 sm:pr-12 py-2 bg-transparent text-white placeholder-white/70 rounded-xl outline-none focus:ring-2 focus:ring-white/50 transition-all duration-300 text-xs sm:text-sm"}),p.jsx("div",{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-white/80",children:p.jsx(see,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),r&&p.jsx("button",{onClick:l,className:"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 text-white/80 hover:text-white p-1 rounded-full hover:bg-white/20 transition-all duration-200",children:p.jsx(Uw,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})})]})}),p.jsxs("div",{className:"flex flex-row gap-2 sm:gap-3 lg:gap-4 lg:flex-shrink-0 justify-center sm:justify-start",children:[p.jsxs("button",{onClick:s,className:"group relative overflow-hidden mt-2 h-9 sm:h-10 px-3 sm:px-4 lg:px-5 bg-gradient-to-r from-[#9406E6] via-[#C724B1] to-[#9406E6] text-white rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-lg whitespace-nowrap min-w-fit flex-shrink-0",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-pulse"}),p.jsxs("div",{className:"relative flex items-center justify-center space-x-1 sm:space-x-2 lg:space-x-2",children:[p.jsx(Qd,{className:"h-3 w-3 sm:h-4 sm:w-4 group-hover:rotate-90 transition-transform duration-300 flex-shrink-0"}),p.jsx("span",{className:"text-xs sm:text-sm flex-shrink-0",children:"Add Task"})]})]}),p.jsxs("button",{onClick:a,className:"group relative overflow-hidden mt-2 h-9 sm:h-10 px-3 sm:px-4 lg:px-5 bg-gradient-to-r from-red-500 via-red-600 to-red-500 text-white rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-lg whitespace-nowrap min-w-fit flex-shrink-0",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-pulse"}),p.jsxs("div",{className:"relative flex items-center justify-center space-x-1 sm:space-x-2 lg:space-x-3",children:[p.jsx(Yo,{className:"h-4 w-4 sm:h-5 sm:w-5 group-hover:scale-110 transition-transform duration-300 flex-shrink-0"}),p.jsx("span",{className:"text-xs sm:text-sm lg:text-base flex-shrink-0",children:"Delete Task"})]})]})]})]}),r&&p.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-white/80",children:[p.jsx(ree,{className:"h-4 w-4"}),p.jsxs("span",{className:"text-sm",children:["Filtering tasks by: ",p.jsxs("span",{className:"font-semibold text-white",children:['"',r,'"']})]})]})]})]})})}function jte({SetisAddFormVisible:t,addTask:e}){const[n,r]=B.useState(""),[i,s]=B.useState(""),[a,o]=B.useState(""),[l,c]=B.useState("Medium"),[d,f]=B.useState(""),[g,y]=B.useState(""),[x,S]=B.useState([]),[b,_]=B.useState(!1),[E,M]=B.useState(null),P=new Date().toISOString().split("T")[0],C=I=>{const[$,X,V]=I.split("-");return`${V}/${X}/${$}`},N=I=>{const[$,X]=I.split(":"),V=parseInt($,10),Z=V===0?12:V>12?V-12:V,ee=V>=12?"PM":"AM";return`${Z}:${X} ${ee}`},O=async I=>{if(y(I),I.length<2){S([]);return}_(!0);try{const $=localStorage.getItem("token"),V=await fetch(`http://localhost:5000/api/tasks?search=${encodeURIComponent(I)}`,{headers:{Authorization:`Bearer ${$}`}});if(!V.ok)throw new Error("Failed to search tasks");const ee=(await V.json()).filter(re=>!re.completed);S(ee)}catch($){console.error("Error searching tasks:",$)}finally{_(!1)}},D=I=>{M(I),f(I._id),y(I.task),S([])},U=()=>{M(null),f(""),y(""),S([])};function L(I){if(I.preventDefault(),!n||!i||!a)return;const $={task:n,date:C(i),time:N(a),priority:l,dependencyTaskId:d||null};e($),t(!1)}return p.jsx("div",{className:"bg-gradient-to-r from-[#9406E6] to-[#C724B1] rounded-2xl shadow-2xl w-full mx-auto p-1 sm:p-2 flex items-center justify-center min-h-[80vh]",children:p.jsxs("div",{className:"bg-white/90 rounded-2xl w-full max-w-lg mx-auto p-0",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 pb-3 border-b border-gray-100",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Add New Task"}),p.jsx("button",{onClick:()=>t(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200","aria-label":"Close modal",children:p.jsx(Ia,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),p.jsxs("form",{onSubmit:L,className:"p-4 space-y-4",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Task Name ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"text",value:n,onChange:I=>r(I.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all duration-200 text-gray-800 placeholder-gray-400 bg-white",placeholder:"Enter task name",required:!0})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Date ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"date",value:i,onChange:I=>s(I.target.value),min:P,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all duration-200 text-gray-800 bg-white",required:!0})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Time ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"time",value:a,onChange:I=>o(I.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all duration-200 text-gray-800 bg-white",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority"}),p.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"High",color:"bg-red-500",label:"High",ring:"ring-red-500"},{value:"Medium",color:"bg-yellow-400",label:"Medium",ring:"ring-yellow-400"},{value:"Low",color:"bg-green-500",label:"Low",ring:"ring-green-500"}].map(I=>p.jsxs("label",{className:"cursor-pointer",children:[p.jsx("input",{type:"radio",name:"priority",value:I.value,checked:l===I.value,onChange:$=>c($.target.value),className:"sr-only"}),p.jsxs("div",{className:`p-3 rounded-lg border-2 transition-all duration-200 text-center ${l===I.value?`border-purple-500 bg-purple-50 ring-2 ${I.ring} ring-opacity-20`:"border-gray-200 hover:border-gray-300"}`,children:[p.jsx("div",{className:`w-3 h-3 ${I.color} rounded-full mx-auto mb-1`}),p.jsx("span",{className:"text-xs font-medium text-gray-700",children:I.label})]})]},I.value))})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Dependency ",p.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),E?p.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-medium text-gray-800 truncate",children:E.task}),p.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",E.date," at ",E.time]})]}),p.jsx("button",{type:"button",onClick:U,className:"p-1 hover:bg-purple-100 rounded-full transition-colors ml-2",children:p.jsx(Ia,{className:"w-4 h-4 text-gray-500"})})]})}):p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",value:g,onChange:I=>O(I.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all duration-200 text-gray-800 placeholder-gray-400 bg-white",placeholder:"Search for a task this depends on"}),b&&p.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:p.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-purple-500 border-t-transparent rounded-full"})}),x.length>0&&p.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white rounded-lg shadow-lg border border-gray-200 max-h-32 overflow-y-auto",children:x.map(I=>p.jsxs("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>D(I),children:[p.jsx("div",{className:"font-medium text-gray-800 text-sm truncate",children:I.task}),p.jsxs("div",{className:"text-xs text-gray-500",children:["Due: ",I.date," at ",I.time]})]},I._id))})]})]}),p.jsx("div",{className:"pt-2",children:p.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 text-white py-3 px-4 rounded-lg font-semibold hover:from-purple-700 hover:to-purple-800 focus:ring-4 focus:ring-purple-300 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Add Task"})})]})]})})}function Fte({tasks:t,deleteTask:e,setisDeleteFormVisible:n}){const[r,i]=B.useState(""),[s,a]=B.useState(!1),o=g=>{i(g.target.value)},l=()=>{r&&a(!0)},c=()=>{r&&(e(r),i(""),a(!1))},d=()=>{a(!1)},f={red:"bg-red-500",yellow:"bg-yellow-400",green:"bg-green-500"};return p.jsx("div",{className:"bg-gradient-to-r from-[#9406E6] to-[#C724B1] rounded-2xl shadow-2xl w-full mx-auto p-1 sm:p-2 flex items-center justify-center min-h-[60vh]",children:p.jsxs("div",{className:"bg-white/90 rounded-2xl w-full max-w-lg mx-auto p-0",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 pb-3 border-b border-gray-100",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Delete Task"}),p.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200","aria-label":"Close modal",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsx("div",{className:"p-4",children:t.length>0?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"mb-5",children:[p.jsx("p",{className:"text-gray-700 mb-4",children:"Select a task to delete:"}),p.jsx("div",{className:"max-h-48 overflow-y-auto pr-2 space-y-2 custom-scrollbar",children:t.map(g=>p.jsxs("label",{className:`flex items-center p-3 rounded-lg border cursor-pointer transition-all ${r===g._id?"bg-purple-50 border-purple-400":"bg-white border-gray-200 hover:bg-purple-50"}`,children:[p.jsx("input",{type:"radio",name:"taskToDelete",value:g._id,checked:r===g._id,onChange:o,className:"hidden"}),p.jsx("span",{className:`h-4 w-4 rounded-full mr-3 ${g.color?f[g.color]:"bg-gray-400"}`}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-gray-900 font-medium truncate",children:g.task}),p.jsxs("div",{className:"flex text-gray-500 text-xs mt-1",children:[p.jsx("p",{children:g.date}),p.jsx("span",{className:"mx-2",children:""}),p.jsx("p",{children:g.time})]})]}),p.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${r===g._id?"border-purple-500 bg-purple-600":"border-gray-300 bg-transparent"}`,children:r===g._id&&p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},g._id))})]}),p.jsx("button",{onClick:l,disabled:!r,className:`w-full py-3 bg-gradient-to-r from-red-500 to-pink-600 text-white font-semibold rounded-lg transition-all ${r?"hover:shadow-lg hover:shadow-red-500/30 active:scale-[0.98]":"opacity-50 cursor-not-allowed"}`,children:"Delete Task"})]}):p.jsxs("div",{className:"text-center py-6",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-300 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),p.jsx("p",{className:"text-gray-500",children:"No tasks available to delete"})]})}),s&&p.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm mx-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Confirm Deletion"}),p.jsx("p",{className:"text-gray-600 mb-5",children:"Are you sure you want to delete this task? This action cannot be undone."}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx("button",{onClick:d,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg transition-colors",children:"Cancel"}),p.jsx("button",{onClick:c,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})})]})})}const SL=({isOpen:t,onClose:e,children:n,size:r="md"})=>{if(!t)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-7xl"};return p.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-black/60 via-purple-900/20 to-black/60 backdrop-blur-md flex items-center justify-center z-50 p-2 sm:p-4 lg:p-6",onClick:e,style:{animation:"modalBackdropFadeIn 0.3s ease-out forwards",overflowY:"hidden"},children:p.jsxs("div",{className:`
               w-full ${i[r]} 
               max-h-[95vh] sm:max-h-[90vh] lg:max-h-[85vh]
               bg-gradient-to-br from-white via-purple-50/30 to-indigo-50/30
               backdrop-blur-xl border border-white/20
               rounded-2xl sm:rounded-3xl shadow-2xl
               transform transition-all duration-300 ease-out
               relative overflow-hidden
               flex flex-col
            `,onClick:s=>s.stopPropagation(),style:{animation:"modalSlideIn 0.4s ease-out forwards",boxShadow:"0 25px 50px -12px rgba(139, 92, 246, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[p.jsxs("div",{className:"absolute inset-0 opacity-5",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600 to-indigo-600"}),p.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
                        radial-gradient(circle at 25% 25%, rgba(139, 92, 246, 0.3) 0%, transparent 50%), 
                        radial-gradient(circle at 75% 75%, rgba(99, 102, 241, 0.3) 0%, transparent 50%)
                     `}})]}),p.jsx("div",{className:"relative z-10 flex flex-col h-full overflow-y-auto custom-scrollbar",children:n}),p.jsx("div",{className:"absolute inset-0 rounded-2xl sm:rounded-3xl bg-gradient-to-r from-purple-400/0 via-purple-400/5 to-indigo-400/0 pointer-events-none"})]})})},Zg="http://localhost:5000";function Bte(){const[t,e]=B.useState([]),[n,r]=B.useState(!1),[i,s]=B.useState(!1),[a,o]=B.useState(!0),[l,c]=B.useState(""),[d,f]=B.useState(""),[g,y]=B.useState(!1),[x,S]=B.useState(null),[b,_]=B.useState({isOpen:!1,taskId:null,taskName:"",isDeleting:!1});B.useEffect(()=>{E()},[]);const E=async()=>{o(!0),c("");try{const $=localStorage.getItem("token");if(!$)throw new Error("No authentication token found");const X=await fetch(`${Zg}/api/tasks`,{method:"GET",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"}});if(!X.ok)throw new Error(`HTTP error! status: ${X.status}`);const V=await X.json();e(V)}catch($){console.error("Error fetching tasks:",$),c("Failed to fetch tasks. Please try again.")}finally{o(!1)}},M=()=>{r(!n)},P=()=>{s(!i)},C=$=>{f($)};function N($){const X={...$,_id:Date.now(),completed:!1,createdAt:new Date().toISOString(),userId:localStorage.getItem("userId")};e(V=>[...V,X]),r(!1),O($)}const O=async $=>{try{const X=localStorage.getItem("token");if(!(await fetch(`${Zg}/api/tasks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify($)})).ok)throw new Error("Failed to add task");E()}catch(X){console.error("Error adding task:",X),c("Failed to add task. Please try again."),e(V=>V.filter(Z=>Z._id!==Date.now()))}},D=async $=>{const X=t.find(V=>V._id===$);_({isOpen:!0,taskId:$,taskName:(X==null?void 0:X.task)||"Unknown Task",isDeleting:!1})},U=async()=>{_($=>({...$,isDeleting:!0}));try{const $=localStorage.getItem("token"),X=await fetch(`${Zg}/api/tasks/${b.taskId}`,{method:"DELETE",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"}});if(X.status===409){const V=await fetch(`${Zg}/api/tasks/${b.taskId}`,{method:"DELETE",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify({confirmCascade:!0})});if(!V.ok){const Z=await V.json();throw new Error(Z.message||"Failed to delete task")}}else if(!X.ok){const V=await X.json();throw new Error(V.message||"Failed to delete task")}e(V=>V.filter(Z=>Z._id!==b.taskId)),s(!1),c(""),_({isOpen:!1,taskId:null,taskName:"",isDeleting:!1})}catch($){console.error("Error deleting task:",$),c($.message||"Failed to delete task. Please try again."),_(X=>({...X,isDeleting:!1}))}},L=()=>{_({isOpen:!1,taskId:null,taskName:"",isDeleting:!1})},I=async $=>{try{const X=localStorage.getItem("token");if(!(await fetch(`${Zg}/api/reminders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify($)})).ok)throw new Error("Failed to set reminder");toast.success("Reminder set successfully")}catch(X){console.error("Error setting reminder:",X),toast.error("Failed to set reminder")}};return p.jsxs("div",{className:"w-full sm:w-11/12 md:w-10/12 lg:w-11/12 dark:from-gray-900 dark:to-gray-800 p-1 sm:p-2 md:p-3 lg:p-4 xl:p-6",children:[p.jsx("div",{className:"max-w-7xl mx-auto px-1 sm:px-2 md:px-4 lg:px-6",children:p.jsxs("div",{className:"space-y-2 sm:space-y-4 md:space-y-6",children:[p.jsx(Dte,{SetisAddFormVisible:M,setisDeleteFormVisible:P,onSearchChange:C}),l&&p.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-2 py-2 sm:px-3 sm:py-2 md:px-4 md:py-3 rounded text-xs sm:text-sm md:text-base",children:l}),a?p.jsx("div",{className:"flex justify-center items-center h-24 sm:h-32 md:h-40",children:p.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 md:h-12 md:w-12 border-t-2 border-b-2 border-white dark:border-gray-300"})}):p.jsx("div",{className:"bg-white/10 dark:bg-white/5 backdrop-blur-md rounded-xl p-2 sm:p-3 md:p-4 lg:p-6",children:p.jsx(Lte,{searchTerm:d})})]})}),p.jsx(SL,{isOpen:n,onClose:M,children:p.jsx(jte,{addTask:N,SetisAddFormVisible:M})}),p.jsx(SL,{isOpen:i,onClose:P,children:p.jsx(Fte,{tasks:t,deleteTask:D,setisDeleteFormVisible:P})}),p.jsx(FV,{isOpen:g,onClose:()=>{y(!1),S(null)},task:x,onSetReminder:I}),p.jsx(BV,{isOpen:b.isOpen,onClose:L,onConfirm:U,taskName:b.taskName,isDeleting:b.isDeleting})]})}const Ute=({isOpen:t,onClose:e,onConfirm:n,isDeleting:r})=>{const[i,s]=B.useState(""),[a,o]=B.useState(!1),l=f=>{const g=f.target.value;s(g),o(g==="DELETE")},c=()=>{a&&n()},d=()=>{r||(s(""),o(!1),e())};return t?p.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out",children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:p.jsx(WR,{className:"h-6 w-6 text-red-600"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-900 font-proza",children:"Delete Account"})]}),!r&&p.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100",children:p.jsx(Ia,{className:"h-5 w-5"})})]}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3 font-proza",children:"Are you absolutely sure?"}),p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[p.jsx("p",{className:"text-red-800 text-sm font-medium mb-2",children:"This action cannot be undone. This will permanently delete:"}),p.jsxs("ul",{className:"text-red-700 text-sm space-y-1 ml-4",children:[p.jsx("li",{children:" Your account and profile information"}),p.jsx("li",{children:" All your tasks and subtasks"}),p.jsx("li",{children:" All notes and attachments"}),p.jsx("li",{children:" All dependencies and reminders"}),p.jsx("li",{children:" All notifications and settings"}),p.jsx("li",{children:" All productivity data and streaks"})]})]}),p.jsxs("p",{className:"text-gray-600 text-sm",children:["Please type ",p.jsx("span",{className:"font-semibold text-red-600",children:"DELETE"})," to confirm:"]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("input",{type:"text",value:i,onChange:l,placeholder:"Type DELETE to confirm",disabled:r,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${a?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-gray-500 focus:border-gray-500"} ${r?"opacity-50 cursor-not-allowed":""}`}),i&&!a&&p.jsx("p",{className:"text-red-500 text-sm mt-2",children:'Please type "DELETE" exactly as shown'})]}),p.jsxs("div",{className:"flex flex-col space-y-3",children:[p.jsx("button",{onClick:c,disabled:!a||r,className:`w-full py-3 px-4 rounded-lg font-semibold transition-all duration-200 ${a&&!r?"bg-red-600 hover:bg-red-700 text-white shadow-lg hover:shadow-red-500/25 active:scale-[0.98]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:r?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting Account..."]}):"Delete My Account Permanently"}),p.jsx("button",{onClick:d,disabled:r,className:`w-full py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-lg transition-all duration-200 active:scale-[0.98] ${r?"opacity-50 cursor-not-allowed":""}`,children:"Cancel"})]})]})]})}):null},Jg="http://localhost:5000",zte=[{id:"account",label:"Account Details",icon:bV,gradient:"from-purple-500 to-indigo-600",description:"Profile image, username and personal info"},{id:"theme",label:"Appearance",icon:I0,gradient:"from-orange-500 to-red-600",description:"Customize theme and visual preferences"},{id:"data",label:"Data Management",icon:yV,gradient:"from-indigo-500 to-purple-600",description:"Export, import, and manage your data"},{id:"delete",label:"Danger Zone",icon:Yo,gradient:"from-red-500 to-pink-600",description:"Delete account and sensitive operations"}];function Vte(){var ne,ve;const{logout:t}=Om(),{theme:e,changeTheme:n,themes:r,isDark:i,actualTheme:s}=Nm(),[a,o]=B.useState("account"),[l,c]=B.useState(!1),[d,f]=B.useState(""),[g,y]=B.useState(null),[x,S]=B.useState(null),[b,_]=B.useState(!0),[E,M]=B.useState(""),[P,C]=B.useState(""),[N,O]=B.useState(!1),[D,U]=B.useState(!1),[L,I]=B.useState(!1),[$,X]=B.useState(!1),V=se=>{se!==a&&(c(!0),setTimeout(()=>{o(se),setTimeout(()=>c(!1),50)},150))};B.useEffect(()=>{(async()=>{try{const de=localStorage.getItem("token");if(!de)return;const Ee=await fetch(`${Jg}/api/users/profile`,{method:"GET",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"},credentials:"include"});if(!Ee.ok)throw new Error("Failed to fetch profile");const Ve=await Ee.json();S(Ve),f(Ve.username)}catch(de){M("Error loading profile. Please try again."),console.error(de)}finally{_(!1)}})()},[]);const Z=async se=>{if(se.preventDefault(),M(""),C(""),!g){M("Please select an image");return}const de=new FormData;de.append("picture",g);try{const Ee=localStorage.getItem("token"),Ve=await fetch(`${Jg}/api/users/profile-image`,{method:"PUT",headers:{Authorization:`Bearer ${Ee}`},body:de,credentials:"include"});if(!Ve.ok)throw new Error("Failed to update profile image");const Ue=await Ve.json();C("Profile image updated successfully"),S(Ue.user),y(null);const ye=se.target.form.querySelector('input[type="file"]');ye&&(ye.value="")}catch(Ee){M("Error updating profile image. Please try again."),console.error(Ee)}},ee=async se=>{if(se.preventDefault(),M(""),C(""),!d){M("Username cannot be empty");return}try{const de=localStorage.getItem("token"),Ee=await fetch(`${Jg}/api/users/username`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de}`},body:JSON.stringify({username:d}),credentials:"include"});if(!Ee.ok)throw new Error("Failed to update username");const Ve=await Ee.json();C("Username updated successfully"),S(Ve.user)}catch(de){M("Error updating username. Please try again."),console.error(de)}},re=se=>{n(se),C("Theme updated successfully"),setTimeout(()=>C(""),2e3)},H=async()=>{O(!0);try{const se=localStorage.getItem("token"),de=await fetch(`${Jg}/api/users/export-data`,{method:"GET",headers:{Authorization:`Bearer ${se}`}});if(!de.ok)throw new Error("Failed to export data");const Ee=await de.blob(),Ve=window.URL.createObjectURL(Ee),Ue=document.createElement("a");Ue.href=Ve,Ue.download=`todo-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue),window.URL.revokeObjectURL(Ve),C("Data exported successfully")}catch{M("Failed to export data")}finally{O(!1)}},J=()=>{I(!0),M("")},K=()=>{$||(I(!1),M(""))},q=async()=>{X(!0),M("");try{const se=localStorage.getItem("token"),de=await fetch(`${Jg}/api/users/account`,{method:"DELETE",headers:{Authorization:`Bearer ${se}`,"Content-Type":"application/json"}});if(!de.ok){const Ve=await de.json();throw new Error(Ve.message||"Failed to delete account")}const Ee=await de.json();console.log("Account deletion successful:",Ee),t(),localStorage.clear(),window.location.href="/"}catch(se){console.error("Delete account error:",se),M(se.message||"An error occurred while deleting your account"),X(!1)}};return b?p.jsx("div",{className:"w-full h-screen mx-auto p-4 rounded-xl bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-white/20"}),p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white absolute top-0 left-0"}),p.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 blur-lg opacity-30 animate-pulse"})]})}):p.jsxs("div",{className:"w-11/12 h-[90vh] p-6 mx-auto bg-gradient-to-br from-indigo-900/80 via-purple-900/80 to-pink-900/80 dark:from-gray-900/80 dark:via-gray-800/80 dark:to-gray-900/80 flex flex-col overflow-hidden rounded-xl",children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px,1fr] gap-4 flex-1 min-h-0 overflow-hidden",children:[p.jsxs("div",{className:"bg-white/10 dark:bg-white/5 backdrop-blur-xl rounded-xl p-4 border border-white/20 dark:border-white/10 flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"mb-4 flex-shrink-0",children:[p.jsx("h2",{className:"text-lg font-bold text-white mb-1",children:"Settings"}),p.jsx("p",{className:"text-white/70 text-sm",children:"Customize your experience"})]}),p.jsx("div",{className:"space-y-2 flex-shrink-0",children:zte.map(se=>{const de=se.icon,Ee=a===se.id;return p.jsx("button",{onClick:()=>V(se.id),className:`group w-full text-left p-3 rounded-lg transition-all duration-300 ${Ee?`bg-gradient-to-r ${se.gradient} shadow-lg`:"hover:bg-white/10 dark:hover:bg-white/5"}`,children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"p-2 rounded-lg bg-white/20",children:p.jsx(de,{className:"h-4 w-4 text-white"})}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("div",{className:"font-medium text-sm text-white",children:se.label}),p.jsx("div",{className:"text-xs text-white/70 line-clamp-1 leading-relaxed",children:se.description})]})]})},se.id)})}),p.jsx("div",{className:"mt-4 pt-3 border-t border-white/20 dark:border-white/10 flex-shrink-0",children:p.jsxs("button",{onClick:t,className:"group w-full text-left p-3 rounded-lg text-white bg-red-500/20 hover:bg-red-500/30 transition-all duration-300 flex items-center space-x-3",children:[p.jsx("div",{className:"p-2 rounded-lg bg-red-500/20",children:p.jsx(iee,{className:"h-4 w-4"})}),p.jsx("span",{className:"font-medium text-sm",children:"Logout"})]})})]}),p.jsxs("div",{className:"bg-white/10 dark:bg-white/5 backdrop-blur-xl rounded-xl border border-white/20 dark:border-white/10 flex flex-col overflow-hidden min-h-0",children:[(E||P)&&p.jsxs("div",{className:"p-4 flex-shrink-0",children:[E&&p.jsx("div",{className:"bg-red-500/90 text-white p-3 rounded-lg text-sm border border-red-400/50",children:E}),P&&p.jsx("div",{className:"bg-green-500/90 text-white p-3 rounded-lg text-sm border border-green-400/50",children:P})]}),p.jsx("div",{className:"flex-1 p-6 overflow-hidden min-h-0",children:p.jsxs("div",{className:`transition-all duration-300 h-full ${l?"opacity-0":"opacity-100"}`,children:[a==="account"&&p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-0 flex-shrink-0",children:[p.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-purple-500 to-indigo-600",children:p.jsx(bV,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Account Details"}),p.jsx("p",{className:"text-white/70 text-sm",children:"Manage your profile image and username"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0",children:[p.jsxs("div",{className:"bg-white/5 dark:bg-white/3 rounded-xl p-6 border border-white/10 dark:border-white/5",children:[p.jsxs("div",{className:"flex flex-col items-center mb-6",children:[p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gradient-to-br from-purple-400 to-indigo-600 mb-4 border-4 border-white/20 group-hover:border-white/40 transition-all duration-300",children:x!=null&&x.picture||x!=null&&x.profileImage?p.jsx("img",{src:x.picture||x.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-2xl font-bold",children:((ve=(ne=x==null?void 0:x.username)==null?void 0:ne.charAt(0))==null?void 0:ve.toUpperCase())||"?"})}),p.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-400/20 to-indigo-600/20 blur-lg group-hover:blur-xl transition-all duration-300"})]}),p.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:x==null?void 0:x.username}),p.jsx("p",{className:"text-white/60 text-sm",children:x==null?void 0:x.email})]}),p.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-white font-medium mb-3 text-sm",children:"Select new profile image"}),p.jsx("input",{type:"file",accept:"image/*",onChange:se=>y(se.target.files[0]),className:"bg-white/10 dark:bg-white/5 text-white p-3 rounded-lg w-full border border-white/20 dark:border-white/10 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/50 transition-all duration-300 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:bg-purple-500 file:text-white text-sm"})]}),p.jsxs("button",{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-lg hover:from-purple-600 hover:to-indigo-700 transition-all duration-300 font-medium text-sm",children:[p.jsx(iL,{className:"h-4 w-4 inline mr-2"}),"Update Profile Image"]})]})]}),p.jsxs("div",{className:"bg-white/5 dark:bg-white/3 rounded-xl p-6 border border-white/10 dark:border-white/5",children:[p.jsx("h4",{className:"text-white font-semibold mb-6 text-lg",children:"Username Settings"}),p.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-white font-medium mb-3 text-sm",children:"Username"}),p.jsx("input",{type:"text",value:d,onChange:se=>f(se.target.value),className:"bg-white/10 dark:bg-white/5 text-white p-3 rounded-lg w-full border border-white/20 dark:border-white/10 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/50 transition-all duration-300 placeholder-white/50 text-sm",placeholder:"Enter new username"})]}),p.jsxs("button",{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-600 text-white rounded-lg hover:from-blue-600 hover:to-cyan-700 transition-all duration-300 font-medium text-sm",children:[p.jsx(tL,{className:"h-4 w-4 inline mr-2"}),"Update Username"]})]})]})]})]}),a==="theme"&&p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-6 flex-shrink-0",children:[p.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-orange-500 to-red-600",children:p.jsx(I0,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Appearance"}),p.jsx("p",{className:"text-white/70 text-sm",children:"Customize your theme preferences"})]})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 flex-shrink-0",children:[{id:r.LIGHT,label:"Light Mode",icon:AP,gradient:"from-yellow-400 to-orange-500",description:"Clean bright interface"},{id:r.DARK,label:"Dark Mode",icon:I0,gradient:"from-gray-700 to-gray-900",description:"Easy on the eyes"},{id:r.SYSTEM,label:"System",icon:xV,gradient:"from-blue-500 to-purple-600",description:"Match system preference"}].map(se=>{const de=se.icon,Ee=e===se.id;return p.jsx("button",{onClick:()=>re(se.id),className:`relative p-6 rounded-xl border-2 transition-all duration-300 hover:scale-105 ${Ee?`border-white/50 bg-gradient-to-br ${se.gradient}`:"border-white/20 dark:border-white/10 bg-white/5 dark:bg-white/3 hover:border-white/30"}`,children:p.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[p.jsx("div",{className:"p-3 rounded-lg bg-white/20",children:p.jsx(de,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"text-white font-medium text-sm block",children:se.label}),p.jsx("span",{className:"text-white/60 text-xs",children:se.description})]}),Ee&&p.jsx("div",{className:"absolute top-3 right-3",children:p.jsx(tL,{className:"h-5 w-5 text-white"})})]})},se.id)})}),p.jsx("div",{className:"mt-6 p-4 bg-white/5 dark:bg-white/3 rounded-lg border border-white/10 dark:border-white/5 flex-shrink-0",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-600",children:s==="dark"?p.jsx(I0,{className:"h-4 w-4 text-white"}):p.jsx(AP,{className:"h-4 w-4 text-white"})}),p.jsxs("div",{children:[p.jsxs("p",{className:"text-white font-medium text-sm",children:["Current Theme: ",p.jsx("span",{className:"capitalize",children:s})]}),p.jsx("p",{className:"text-white/60 text-xs",children:e===r.SYSTEM?`Following system preference (${s})`:`Manually selected ${e} theme`})]})]})})]}),a==="data"&&p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-6 flex-shrink-0",children:[p.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-indigo-500 to-purple-600",children:p.jsx(yV,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Data Management"}),p.jsx("p",{className:"text-white/70 text-sm",children:"Export and import your data"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 flex-shrink-0",children:[p.jsxs("div",{className:"bg-white/5 dark:bg-white/3 rounded-xl p-6 border border-white/10 dark:border-white/5",children:[p.jsx("h4",{className:"text-white font-semibold mb-3 text-lg",children:"Export Data"}),p.jsx("p",{className:"text-white/70 text-sm mb-6",children:"Download all your tasks, notes, and settings as a JSON file"}),p.jsxs("button",{onClick:H,disabled:N,className:"w-full px-6 py-3 bg-gradient-to-r from-green-500 to-teal-600 text-white rounded-lg hover:from-green-600 hover:to-teal-700 transition-all duration-300 disabled:opacity-50 font-medium text-sm",children:[p.jsx(EP,{className:"h-4 w-4 inline mr-2"}),N?"Exporting...":"Export Data"]})]}),p.jsxs("div",{className:"bg-white/5 dark:bg-white/3 rounded-xl p-6 border border-white/10 dark:border-white/5",children:[p.jsx("h4",{className:"text-white font-semibold mb-3 text-lg",children:"Import Data"}),p.jsx("p",{className:"text-white/70 text-sm mb-6",children:"Upload a previously exported JSON file to restore your data"}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("input",{type:"file",accept:".json",className:"bg-white/10 dark:bg-white/5 text-white p-3 rounded-lg w-full border border-white/20 dark:border-white/10 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:bg-purple-500 file:text-white text-sm"}),p.jsxs("button",{disabled:D,className:"w-full px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-lg hover:from-purple-600 hover:to-indigo-700 transition-all duration-300 disabled:opacity-50 font-medium text-sm",children:[p.jsx(iL,{className:"h-4 w-4 inline mr-2"}),D?"Importing...":"Import Data"]})]})]})]})]}),a==="delete"&&p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-0 flex-shrink-0",children:[p.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-red-500 to-pink-600",children:p.jsx(Yo,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Danger Zone"}),p.jsx("p",{className:"text-white/70 text-sm",children:"Permanent account deletion"})]})]}),p.jsxs("div",{className:"bg-red-500/10 rounded-xl p-6 border border-red-500/30 flex-shrink-0",children:[p.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[p.jsx(Yo,{className:"h-6 w-6 text-red-400 mt-1 flex-shrink-0"}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h4",{className:"text-red-300 font-semibold mb-3 text-lg",children:"Delete Account"}),p.jsx("p",{className:"text-red-200/80 text-sm mb-4",children:"This action will permanently delete your account and all associated data including:"}),p.jsxs("ul",{className:"text-red-200/70 text-sm space-y-1 mb-6 list-disc list-inside",children:[p.jsx("li",{children:"All tasks and subtasks"}),p.jsx("li",{children:"Notes and attachments"}),p.jsx("li",{children:"Reminders and notifications"}),p.jsx("li",{children:"Dependencies and relationships"}),p.jsx("li",{children:"Profile information and settings"})]}),p.jsx("div",{className:"bg-red-600/20 p-4 rounded-lg border border-red-500/30 mb-2",children:p.jsx("p",{className:"text-red-200 text-sm font-medium",children:" This action cannot be undone. Please export your data first if you want to keep it."})})]})]}),p.jsxs("button",{onClick:J,className:"w-full px-6 py-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 font-medium text-sm",children:[p.jsx(Yo,{className:"h-4 w-4 inline mr-2"}),"Delete My Account Forever"]})]})]})]})})]})]}),p.jsx(Ute,{isOpen:L,onClose:K,onConfirm:q,isDeleting:$})]})}function UV(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=UV(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function cn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=UV(t))&&(r&&(r+=" "),r+=e);return r}var n2,ML;function Fs(){if(ML)return n2;ML=1;var t=Array.isArray;return n2=t,n2}var r2,EL;function zV(){if(EL)return r2;EL=1;var t=typeof Sx=="object"&&Sx&&Sx.Object===Object&&Sx;return r2=t,r2}var i2,AL;function il(){if(AL)return i2;AL=1;var t=zV(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return i2=n,i2}var s2,TL;function uy(){if(TL)return s2;TL=1;var t=il(),e=t.Symbol;return s2=e,s2}var a2,PL;function Hte(){if(PL)return a2;PL=1;var t=uy(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var d=r.call(a);return c&&(o?a[i]=l:delete a[i]),d}return a2=s,a2}var o2,CL;function $te(){if(CL)return o2;CL=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return o2=n,o2}var l2,NL;function gc(){if(NL)return l2;NL=1;var t=uy(),e=Hte(),n=$te(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return l2=a,l2}var c2,RL;function vc(){if(RL)return c2;RL=1;function t(e){return e!=null&&typeof e=="object"}return c2=t,c2}var u2,kL;function Lm(){if(kL)return u2;kL=1;var t=gc(),e=vc(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return u2=r,u2}var d2,OL;function GR(){if(OL)return d2;OL=1;var t=Fs(),e=Lm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(t(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||a!=null&&s in Object(a)}return d2=i,d2}var f2,IL;function Bu(){if(IL)return f2;IL=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return f2=t,f2}var h2,LL;function qR(){if(LL)return h2;LL=1;var t=gc(),e=Bu(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==s}return h2=a,h2}var p2,DL;function Wte(){if(DL)return p2;DL=1;var t=il(),e=t["__core-js_shared__"];return p2=e,p2}var m2,jL;function Gte(){if(jL)return m2;jL=1;var t=Wte(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return m2=n,m2}var g2,FL;function VV(){if(FL)return g2;FL=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return g2=n,g2}var v2,BL;function qte(){if(BL)return v2;BL=1;var t=qR(),e=Gte(),n=Bu(),r=VV(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(g){if(!n(g)||e(g))return!1;var y=t(g)?d:s;return y.test(r(g))}return v2=f,v2}var y2,UL;function Xte(){if(UL)return y2;UL=1;function t(e,n){return e==null?void 0:e[n]}return y2=t,y2}var x2,zL;function Hf(){if(zL)return x2;zL=1;var t=qte(),e=Xte();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return x2=n,x2}var b2,VL;function $w(){if(VL)return b2;VL=1;var t=Hf(),e=t(Object,"create");return b2=e,b2}var w2,HL;function Yte(){if(HL)return w2;HL=1;var t=$w();function e(){this.__data__=t?t(null):{},this.size=0}return w2=e,w2}var _2,$L;function Kte(){if($L)return _2;$L=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return _2=t,_2}var S2,WL;function Zte(){if(WL)return S2;WL=1;var t=$w(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return S2=i,S2}var M2,GL;function Jte(){if(GL)return M2;GL=1;var t=$w(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return M2=r,M2}var E2,qL;function Qte(){if(qL)return E2;qL=1;var t=$w(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return E2=n,E2}var A2,XL;function ene(){if(XL)return A2;XL=1;var t=Yte(),e=Kte(),n=Zte(),r=Jte(),i=Qte();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,A2=s,A2}var T2,YL;function tne(){if(YL)return T2;YL=1;function t(){this.__data__=[],this.size=0}return T2=t,T2}var P2,KL;function XR(){if(KL)return P2;KL=1;function t(e,n){return e===n||e!==e&&n!==n}return P2=t,P2}var C2,ZL;function Ww(){if(ZL)return C2;ZL=1;var t=XR();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return C2=e,C2}var N2,JL;function nne(){if(JL)return N2;JL=1;var t=Ww(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return N2=r,N2}var R2,QL;function rne(){if(QL)return R2;QL=1;var t=Ww();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return R2=e,R2}var k2,eD;function ine(){if(eD)return k2;eD=1;var t=Ww();function e(n){return t(this.__data__,n)>-1}return k2=e,k2}var O2,tD;function sne(){if(tD)return O2;tD=1;var t=Ww();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return O2=e,O2}var I2,nD;function Gw(){if(nD)return I2;nD=1;var t=tne(),e=nne(),n=rne(),r=ine(),i=sne();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,I2=s,I2}var L2,rD;function YR(){if(rD)return L2;rD=1;var t=Hf(),e=il(),n=t(e,"Map");return L2=n,L2}var D2,iD;function ane(){if(iD)return D2;iD=1;var t=ene(),e=Gw(),n=YR();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return D2=r,D2}var j2,sD;function one(){if(sD)return j2;sD=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return j2=t,j2}var F2,aD;function qw(){if(aD)return F2;aD=1;var t=one();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return F2=e,F2}var B2,oD;function lne(){if(oD)return B2;oD=1;var t=qw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return B2=e,B2}var U2,lD;function cne(){if(lD)return U2;lD=1;var t=qw();function e(n){return t(this,n).get(n)}return U2=e,U2}var z2,cD;function une(){if(cD)return z2;cD=1;var t=qw();function e(n){return t(this,n).has(n)}return z2=e,z2}var V2,uD;function dne(){if(uD)return V2;uD=1;var t=qw();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return V2=e,V2}var H2,dD;function KR(){if(dD)return H2;dD=1;var t=ane(),e=lne(),n=cne(),r=une(),i=dne();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,H2=s,H2}var $2,fD;function HV(){if(fD)return $2;fD=1;var t=KR(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],l=s.cache;if(l.has(o))return l.get(o);var c=r.apply(this,a);return s.cache=l.set(o,c)||l,c};return s.cache=new(n.Cache||t),s}return n.Cache=t,$2=n,$2}var W2,hD;function fne(){if(hD)return W2;hD=1;var t=HV(),e=500;function n(r){var i=t(r,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return W2=n,W2}var G2,pD;function hne(){if(pD)return G2;pD=1;var t=fne(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,o,l,c){s.push(l?c.replace(n,"$1"):o||a)}),s});return G2=r,G2}var q2,mD;function ZR(){if(mD)return q2;mD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return q2=t,q2}var X2,gD;function pne(){if(gD)return X2;gD=1;var t=uy(),e=ZR(),n=Fs(),r=Lm(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function a(o){if(typeof o=="string")return o;if(n(o))return e(o,a)+"";if(r(o))return s?s.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return X2=a,X2}var Y2,vD;function $V(){if(vD)return Y2;vD=1;var t=pne();function e(n){return n==null?"":t(n)}return Y2=e,Y2}var K2,yD;function WV(){if(yD)return K2;yD=1;var t=Fs(),e=GR(),n=hne(),r=$V();function i(s,a){return t(s)?s:e(s,a)?[s]:n(r(s))}return K2=i,K2}var Z2,xD;function Xw(){if(xD)return Z2;xD=1;var t=Lm();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Z2=e,Z2}var J2,bD;function JR(){if(bD)return J2;bD=1;var t=WV(),e=Xw();function n(r,i){i=t(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[e(i[s++])];return s&&s==a?r:void 0}return J2=n,J2}var Q2,wD;function GV(){if(wD)return Q2;wD=1;var t=JR();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return Q2=e,Q2}var mne=GV();const la=Rn(mne);var eM,_D;function gne(){if(_D)return eM;_D=1;function t(e){return e==null}return eM=t,eM}var vne=gne();const Qt=Rn(vne);var tM,SD;function yne(){if(SD)return tM;SD=1;var t=gc(),e=Fs(),n=vc(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return tM=i,tM}var xne=yne();const Cf=Rn(xne);var bne=qR();const Gt=Rn(bne);var wne=Bu();const Dm=Rn(wne);var nM={exports:{}},In={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MD;function _ne(){if(MD)return In;MD=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function S(b){if(typeof b=="object"&&b!==null){var _=b.$$typeof;switch(_){case t:switch(b=b.type,b){case n:case i:case r:case c:case d:return b;default:switch(b=b&&b.$$typeof,b){case o:case a:case l:case g:case f:case s:return b;default:return _}}case e:return _}}}return In.ContextConsumer=a,In.ContextProvider=s,In.Element=t,In.ForwardRef=l,In.Fragment=n,In.Lazy=g,In.Memo=f,In.Portal=e,In.Profiler=i,In.StrictMode=r,In.Suspense=c,In.SuspenseList=d,In.isAsyncMode=function(){return!1},In.isConcurrentMode=function(){return!1},In.isContextConsumer=function(b){return S(b)===a},In.isContextProvider=function(b){return S(b)===s},In.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},In.isForwardRef=function(b){return S(b)===l},In.isFragment=function(b){return S(b)===n},In.isLazy=function(b){return S(b)===g},In.isMemo=function(b){return S(b)===f},In.isPortal=function(b){return S(b)===e},In.isProfiler=function(b){return S(b)===i},In.isStrictMode=function(b){return S(b)===r},In.isSuspense=function(b){return S(b)===c},In.isSuspenseList=function(b){return S(b)===d},In.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===c||b===d||b===y||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===f||b.$$typeof===s||b.$$typeof===a||b.$$typeof===l||b.$$typeof===x||b.getModuleId!==void 0)},In.typeOf=S,In}var ED;function Sne(){return ED||(ED=1,nM.exports=_ne()),nM.exports}var Mne=Sne(),rM,AD;function qV(){if(AD)return rM;AD=1;var t=gc(),e=vc(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return rM=r,rM}var iM,TD;function Ene(){if(TD)return iM;TD=1;var t=qV();function e(n){return t(n)&&n!=+n}return iM=e,iM}var Ane=Ene();const jm=Rn(Ane);var Tne=qV();const Pne=Rn(Tne);var ms=function(e){return e===0?0:e>0?1:-1},df=function(e){return Cf(e)&&e.indexOf("%")===e.length-1},et=function(e){return Pne(e)&&!jm(e)},ai=function(e){return et(e)||Cf(e)},Cne=0,$f=function(e){var n=++Cne;return"".concat(e||"").concat(n)},gs=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(e)&&!Cf(e))return r;var s;if(df(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return jm(s)&&(s=r),i&&s>n&&(s=n),s},vu=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Nne=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},si=function(e,n){return et(e)&&et(n)?function(r){return e+r*(n-e)}:function(){return n}};function E1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):la(r,e))===n})}var Rne=function(e,n){return et(e)&&et(n)?e-n:Cf(e)&&Cf(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Hp(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function jP(t){"@babel/helpers - typeof";return jP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jP(t)}var kne=["viewBox","children"],One=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PD=["points","pathLength"],sM={svg:kne,polygon:PD,polyline:PD},QR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],A1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!Dm(r))return null;var i={};return Object.keys(r).forEach(function(s){QR.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},Ine=function(e,n,r){return function(i){return e(n,r,i),null}},Nf=function(e,n,r){if(!Dm(e)||jP(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];QR.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=Ine(a,n,r))}),i},Lne=["children"],Dne=["children"];function CD(t,e){if(t==null)return{};var n=jne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FP(t){"@babel/helpers - typeof";return FP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FP(t)}var ND={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},rc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},RD=null,aM=null,ek=function t(e){if(e===RD&&Array.isArray(aM))return aM;var n=[];return B.Children.forEach(e,function(r){Qt(r)||(Mne.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),aM=n,RD=e,n};function ca(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return rc(i)}):r=[rc(e)],ek(t).forEach(function(i){var s=la(i,"type.displayName")||la(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function na(t,e){var n=ca(t,e);return n&&n[0]}var kD=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!et(r)||r<=0||!et(i)||i<=0)},Fne=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Bne=function(e){return e&&e.type&&Cf(e.type)&&Fne.indexOf(e.type)>=0},XV=function(e){return e&&FP(e)==="object"&&"clipDot"in e},Une=function(e,n,r,i){var s,a=(s=sM==null?void 0:sM[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Gt(e)&&(i&&a.includes(n)||One.includes(n))||r&&QR.includes(n)},kt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(B.isValidElement(e)&&(i=e.props),!Dm(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;Une((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},BP=function t(e,n){if(e===n)return!0;var r=B.Children.count(e);if(r!==B.Children.count(n))return!1;if(r===0)return!0;if(r===1)return OD(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!OD(s,a))return!1}return!0},OD=function(e,n){if(Qt(e)&&Qt(n))return!0;if(!Qt(e)&&!Qt(n)){var r=e.props||{},i=r.children,s=CD(r,Lne),a=n.props||{},o=a.children,l=CD(a,Dne);return i&&o?Hp(s,l)&&BP(i,o):!i&&!o?Hp(s,l):!1}return!1},ID=function(e,n){var r=[],i={};return ek(e).forEach(function(s,a){if(Bne(s))r.push(s);else if(s){var o=rc(s.type),l=n[o]||{},c=l.handler,d=l.once;if(c&&(!d||!i[o])){var f=c(s,o,a);r.push(f),i[o]=!0}}}),r},zne=function(e){var n=e&&e.type;return n&&ND[n]?ND[n]:null},Vne=function(e,n){return ek(n).indexOf(e)},Hne=["children","width","height","viewBox","className","style","title","desc"];function UP(){return UP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UP.apply(this,arguments)}function $ne(t,e){if(t==null)return{};var n=Wne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zP(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=$ne(t,Hne),d=i||{width:n,height:r,x:0,y:0},f=cn("recharts-surface",s);return oe.createElement("svg",UP({},kt(c,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),oe.createElement("title",null,o),oe.createElement("desc",null,l),e)}var Gne=["children","className"];function VP(){return VP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VP.apply(this,arguments)}function qne(t,e){if(t==null)return{};var n=Xne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mn=oe.forwardRef(function(t,e){var n=t.children,r=t.className,i=qne(t,Gne),s=cn("recharts-layer",r);return oe.createElement("g",VP({className:s},kt(i,!0),{ref:e}),n)}),wo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},oM,LD;function Yne(){if(LD)return oM;LD=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+n];return a}return oM=t,oM}var lM,DD;function Kne(){if(DD)return lM;DD=1;var t=Yne();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return lM=e,lM}var cM,jD;function YV(){if(jD)return cM;jD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+t+i+s+"]");function l(c){return o.test(c)}return cM=l,cM}var uM,FD;function Zne(){if(FD)return uM;FD=1;function t(e){return e.split("")}return uM=t,uM}var dM,BD;function Jne(){if(BD)return dM;BD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="["+t+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+l+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",x=c+"?",S="["+s+"]?",b="(?:"+y+"(?:"+[d,f,g].join("|")+")"+S+x+")*",_=S+x+b,E="(?:"+[d+o+"?",o,f,g,a].join("|")+")",M=RegExp(l+"(?="+l+")|"+E+_,"g");function P(C){return C.match(M)||[]}return dM=P,dM}var fM,UD;function Qne(){if(UD)return fM;UD=1;var t=Zne(),e=YV(),n=Jne();function r(i){return e(i)?n(i):t(i)}return fM=r,fM}var hM,zD;function ere(){if(zD)return hM;zD=1;var t=Kne(),e=YV(),n=Qne(),r=$V();function i(s){return function(a){a=r(a);var o=e(a)?n(a):void 0,l=o?o[0]:a.charAt(0),c=o?t(o,1).join(""):a.slice(1);return l[s]()+c}}return hM=i,hM}var pM,VD;function tre(){if(VD)return pM;VD=1;var t=ere(),e=t("toUpperCase");return pM=e,pM}var nre=tre();const Yw=Rn(nre);function tr(t){return function(){return t}}const KV=Math.cos,T1=Math.sin,Eo=Math.sqrt,P1=Math.PI,Kw=2*P1,HP=Math.PI,$P=2*HP,ef=1e-6,rre=$P-ef;function ZV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ire(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ZV;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let sre=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ZV:ire(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,d=a-e,f=o-n,g=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>ef)if(!(Math.abs(f*l-c*d)>ef)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-a,x=i-o,S=l*l+c*c,b=y*y+x*x,_=Math.sqrt(S),E=Math.sqrt(g),M=s*Math.tan((HP-Math.acos((S+g-b)/(2*_*E)))/2),P=M/E,C=M/_;Math.abs(P-1)>ef&&this._append`L${e+P*d},${n+P*f}`,this._append`A${s},${s},0,0,${+(f*y>d*x)},${this._x1=e+C*l},${this._y1=n+C*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,d=n+l,f=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>ef||Math.abs(this._y1-d)>ef)&&this._append`L${c},${d}`,r&&(g<0&&(g=g%$P+$P),g>rre?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:g>ef&&this._append`A${r},${r},0,${+(g>=HP)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function tk(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new sre(e)}function nk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function JV(t){this._context=t}JV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Zw(t){return new JV(t)}function QV(t){return t[0]}function eH(t){return t[1]}function tH(t,e){var n=tr(!0),r=null,i=Zw,s=null,a=tk(o);t=typeof t=="function"?t:t===void 0?QV:tr(t),e=typeof e=="function"?e:e===void 0?eH:tr(e);function o(l){var c,d=(l=nk(l)).length,f,g=!1,y;for(r==null&&(s=i(y=a())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(f,c,l),+e(f,c,l));if(y)return s=null,y+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:tr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:tr(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:tr(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function jx(t,e,n){var r=null,i=tr(!0),s=null,a=Zw,o=null,l=tk(c);t=typeof t=="function"?t:t===void 0?QV:tr(+t),e=typeof e=="function"?e:tr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?eH:tr(+n);function c(f){var g,y,x,S=(f=nk(f)).length,b,_=!1,E,M=new Array(S),P=new Array(S);for(s==null&&(o=a(E=l())),g=0;g<=S;++g){if(!(g<S&&i(b=f[g],g,f))===_)if(_=!_)y=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=g-1;x>=y;--x)o.point(M[x],P[x]);o.lineEnd(),o.areaEnd()}_&&(M[g]=+t(b,g,f),P[g]=+e(b,g,f),o.point(r?+r(b,g,f):M[g],n?+n(b,g,f):P[g]))}if(E)return o=null,E+""||null}function d(){return tH().defined(i).curve(a).context(s)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:tr(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:tr(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:tr(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:tr(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:tr(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:tr(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:tr(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),c):a},c.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),c):s},c}class nH{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function are(t){return new nH(t,!0)}function ore(t){return new nH(t,!1)}const rk={draw(t,e){const n=Eo(e/P1);t.moveTo(n,0),t.arc(0,0,n,0,Kw)}},lre={draw(t,e){const n=Eo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},rH=Eo(1/3),cre=rH*2,ure={draw(t,e){const n=Eo(e/cre),r=n*rH;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},dre={draw(t,e){const n=Eo(e),r=-n/2;t.rect(r,r,n,n)}},fre=.8908130915292852,iH=T1(P1/10)/T1(7*P1/10),hre=T1(Kw/10)*iH,pre=-KV(Kw/10)*iH,mre={draw(t,e){const n=Eo(e*fre),r=hre*n,i=pre*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=Kw*s/5,o=KV(a),l=T1(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},mM=Eo(3),gre={draw(t,e){const n=-Eo(e/(mM*3));t.moveTo(0,n*2),t.lineTo(-mM*n,-n),t.lineTo(mM*n,-n),t.closePath()}},Aa=-.5,Ta=Eo(3)/2,WP=1/Eo(12),vre=(WP/2+1)*3,yre={draw(t,e){const n=Eo(e/vre),r=n/2,i=n*WP,s=r,a=n*WP+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Aa*r-Ta*i,Ta*r+Aa*i),t.lineTo(Aa*s-Ta*a,Ta*s+Aa*a),t.lineTo(Aa*o-Ta*l,Ta*o+Aa*l),t.lineTo(Aa*r+Ta*i,Aa*i-Ta*r),t.lineTo(Aa*s+Ta*a,Aa*a-Ta*s),t.lineTo(Aa*o+Ta*l,Aa*l-Ta*o),t.closePath()}};function xre(t,e){let n=null,r=tk(i);t=typeof t=="function"?t:tr(t||rk),e=typeof e=="function"?e:tr(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:tr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:tr(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function C1(){}function N1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function sH(t){this._context=t}sH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:N1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:N1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bre(t){return new sH(t)}function aH(t){this._context=t}aH.prototype={areaStart:C1,areaEnd:C1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:N1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wre(t){return new aH(t)}function oH(t){this._context=t}oH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:N1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _re(t){return new oH(t)}function lH(t){this._context=t}lH.prototype={areaStart:C1,areaEnd:C1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Sre(t){return new lH(t)}function HD(t){return t<0?-1:1}function $D(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(HD(s)+HD(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function WD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function gM(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function R1(t){this._context=t}R1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gM(this,this._t0,WD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,gM(this,WD(this,n=$D(this,t,e)),n);break;default:gM(this,this._t0,n=$D(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function cH(t){this._context=new uH(t)}(cH.prototype=Object.create(R1.prototype)).point=function(t,e){R1.prototype.point.call(this,e,t)};function uH(t){this._context=t}uH.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Mre(t){return new R1(t)}function Ere(t){return new cH(t)}function dH(t){this._context=t}dH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=GD(t),i=GD(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function GD(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Are(t){return new dH(t)}function Jw(t,e){this._context=t,this._t=e}Jw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Tre(t){return new Jw(t,.5)}function Pre(t){return new Jw(t,0)}function Cre(t){return new Jw(t,1)}function Zp(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function GP(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Nre(t,e){return t[e]}function Rre(t){const e=[];return e.key=t,e}function kre(){var t=tr([]),e=GP,n=Zp,r=Nre;function i(s){var a=Array.from(t.apply(this,arguments),Rre),o,l=a.length,c=-1,d;for(const f of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(f,a[o].key,c,s)]).data=f;for(o=0,d=nk(e(a));o<l;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:tr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:tr(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?GP:typeof s=="function"?s:tr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Zp,i):n},i}function Ore(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Zp(t,e)}}function Ire(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Zp(t,e)}}function Lre(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var d=t[e[o]],f=d[r][1]||0,g=d[r-1][1]||0,y=(f-g)/2,x=0;x<o;++x){var S=t[e[x]],b=S[r][1]||0,_=S[r-1][1]||0;y+=b-_}l+=f,c+=y*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Zp(t,e)}}function tv(t){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}var Dre=["type","size","sizeType"];function qP(){return qP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qP.apply(this,arguments)}function qD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qD(Object(n),!0).forEach(function(r){jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jre(t,e,n){return e=Fre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=Bre(t,"string");return tv(e)=="symbol"?e:e+""}function Bre(t,e){if(tv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ure(t,e){if(t==null)return{};var n=zre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fH={symbolCircle:rk,symbolCross:lre,symbolDiamond:ure,symbolSquare:dre,symbolStar:mre,symbolTriangle:gre,symbolWye:yre},Vre=Math.PI/180,Hre=function(e){var n="symbol".concat(Yw(e));return fH[n]||rk},$re=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Vre;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Wre=function(e,n){fH["symbol".concat(Yw(e))]=n},ik=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=Ure(e,Dre),c=XD(XD({},l),{},{type:r,size:s,sizeType:o}),d=function(){var b=Hre(r),_=xre().type(b).size($re(s,o,r));return _()},f=c.className,g=c.cx,y=c.cy,x=kt(c,!0);return g===+g&&y===+y&&s===+s?oe.createElement("path",qP({},x,{className:cn("recharts-symbols",f),transform:"translate(".concat(g,", ").concat(y,")"),d:d()})):null};ik.registerSymbol=Wre;function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function XP(){return XP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XP.apply(this,arguments)}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){nv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pH(r.key),r)}}function Yre(t,e,n){return e&&Xre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kre(t,e,n){return e=k1(e),Zre(t,hH()?Reflect.construct(e,n||[],k1(t).constructor):e.apply(t,n))}function Zre(t,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jre(t)}function Jre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hH=function(){return!!t})()}function k1(t){return k1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k1(t)}function Qre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YP(t,e)}function YP(t,e){return YP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YP(t,e)}function nv(t,e,n){return e=pH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pH(t){var e=eie(t,"string");return Jp(e)=="symbol"?e:e+""}function eie(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oo=32,sk=function(t){function e(){return qre(this,e),Kre(this,e,arguments)}return Qre(e,t),Yre(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=oo/2,a=oo/6,o=oo/3,l=r.inactive?i:r.color;if(r.type==="plainline")return oe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:oo,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return oe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(oo,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return oe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(oo/8,"h").concat(oo,"v").concat(oo*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(oe.isValidElement(r.legendIcon)){var c=Gre({},r);return delete c.legendIcon,oe.cloneElement(r.legendIcon,c)}return oe.createElement(ik,{fill:l,cx:s,cy:s,size:oo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:oo,height:oo},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(y,x){var S=y.formatter||l,b=cn(nv(nv({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",y.inactive));if(y.type==="none")return null;var _=Gt(y.value)?null:y.value;wo(!Gt(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=y.inactive?c:y.color;return oe.createElement("li",XP({className:b,style:f,key:"legend-item-".concat(x)},Nf(r.props,y,x)),oe.createElement(zP,{width:a,height:a,viewBox:d,style:g},r.renderIcon(y)),oe.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},S?S(_,y,x):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return oe.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(B.PureComponent);nv(sk,"displayName","Legend");nv(sk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var vM,KD;function tie(){if(KD)return vM;KD=1;var t=Gw();function e(){this.__data__=new t,this.size=0}return vM=e,vM}var yM,ZD;function nie(){if(ZD)return yM;ZD=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return yM=t,yM}var xM,JD;function rie(){if(JD)return xM;JD=1;function t(e){return this.__data__.get(e)}return xM=t,xM}var bM,QD;function iie(){if(QD)return bM;QD=1;function t(e){return this.__data__.has(e)}return bM=t,bM}var wM,ej;function sie(){if(ej)return wM;ej=1;var t=Gw(),e=YR(),n=KR(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return wM=i,wM}var _M,tj;function mH(){if(tj)return _M;tj=1;var t=Gw(),e=tie(),n=nie(),r=rie(),i=iie(),s=sie();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,_M=a,_M}var SM,nj;function aie(){if(nj)return SM;nj=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return SM=e,SM}var MM,rj;function oie(){if(rj)return MM;rj=1;function t(e){return this.__data__.has(e)}return MM=t,MM}var EM,ij;function gH(){if(ij)return EM;ij=1;var t=KR(),e=aie(),n=oie();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,EM=r,EM}var AM,sj;function vH(){if(sj)return AM;sj=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return AM=t,AM}var TM,aj;function yH(){if(aj)return TM;aj=1;function t(e,n){return e.has(n)}return TM=t,TM}var PM,oj;function xH(){if(oj)return PM;oj=1;var t=gH(),e=vH(),n=yH(),r=1,i=2;function s(a,o,l,c,d,f){var g=l&r,y=a.length,x=o.length;if(y!=x&&!(g&&x>y))return!1;var S=f.get(a),b=f.get(o);if(S&&b)return S==o&&b==a;var _=-1,E=!0,M=l&i?new t:void 0;for(f.set(a,o),f.set(o,a);++_<y;){var P=a[_],C=o[_];if(c)var N=g?c(C,P,_,o,a,f):c(P,C,_,a,o,f);if(N!==void 0){if(N)continue;E=!1;break}if(M){if(!e(o,function(O,D){if(!n(M,D)&&(P===O||d(P,O,l,c,f)))return M.push(D)})){E=!1;break}}else if(!(P===C||d(P,C,l,c,f))){E=!1;break}}return f.delete(a),f.delete(o),E}return PM=s,PM}var CM,lj;function lie(){if(lj)return CM;lj=1;var t=il(),e=t.Uint8Array;return CM=e,CM}var NM,cj;function cie(){if(cj)return NM;cj=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return NM=t,NM}var RM,uj;function ak(){if(uj)return RM;uj=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return RM=t,RM}var kM,dj;function uie(){if(dj)return kM;dj=1;var t=uy(),e=lie(),n=XR(),r=xH(),i=cie(),s=ak(),a=1,o=2,l="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Map]",g="[object Number]",y="[object RegExp]",x="[object Set]",S="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",M=t?t.prototype:void 0,P=M?M.valueOf:void 0;function C(N,O,D,U,L,I,$){switch(D){case E:if(N.byteLength!=O.byteLength||N.byteOffset!=O.byteOffset)return!1;N=N.buffer,O=O.buffer;case _:return!(N.byteLength!=O.byteLength||!I(new e(N),new e(O)));case l:case c:case g:return n(+N,+O);case d:return N.name==O.name&&N.message==O.message;case y:case S:return N==O+"";case f:var X=i;case x:var V=U&a;if(X||(X=s),N.size!=O.size&&!V)return!1;var Z=$.get(N);if(Z)return Z==O;U|=o,$.set(N,O);var ee=r(X(N),X(O),U,L,I,$);return $.delete(N),ee;case b:if(P)return P.call(N)==P.call(O)}return!1}return kM=C,kM}var OM,fj;function bH(){if(fj)return OM;fj=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return OM=t,OM}var IM,hj;function die(){if(hj)return IM;hj=1;var t=bH(),e=Fs();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return IM=n,IM}var LM,pj;function fie(){if(pj)return LM;pj=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return LM=t,LM}var DM,mj;function hie(){if(mj)return DM;mj=1;function t(){return[]}return DM=t,DM}var jM,gj;function pie(){if(gj)return jM;gj=1;var t=fie(),e=hie(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return jM=s,jM}var FM,vj;function mie(){if(vj)return FM;vj=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return FM=t,FM}var BM,yj;function gie(){if(yj)return BM;yj=1;var t=gc(),e=vc(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return BM=r,BM}var UM,xj;function ok(){if(xj)return UM;xj=1;var t=gie(),e=vc(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return UM=s,UM}var E0={exports:{}},zM,bj;function vie(){if(bj)return zM;bj=1;function t(){return!1}return zM=t,zM}E0.exports;var wj;function wH(){return wj||(wj=1,function(t,e){var n=il(),r=vie(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c}(E0,E0.exports)),E0.exports}var VM,_j;function lk(){if(_j)return VM;_j=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return VM=n,VM}var HM,Sj;function ck(){if(Sj)return HM;Sj=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return HM=e,HM}var $M,Mj;function yie(){if(Mj)return $M;Mj=1;var t=gc(),e=ck(),n=vc(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",f="[object Object]",g="[object RegExp]",y="[object Set]",x="[object String]",S="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",E="[object Float32Array]",M="[object Float64Array]",P="[object Int8Array]",C="[object Int16Array]",N="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",U="[object Uint16Array]",L="[object Uint32Array]",I={};I[E]=I[M]=I[P]=I[C]=I[N]=I[O]=I[D]=I[U]=I[L]=!0,I[r]=I[i]=I[b]=I[s]=I[_]=I[a]=I[o]=I[l]=I[c]=I[d]=I[f]=I[g]=I[y]=I[x]=I[S]=!1;function $(X){return n(X)&&e(X.length)&&!!I[t(X)]}return $M=$,$M}var WM,Ej;function _H(){if(Ej)return WM;Ej=1;function t(e){return function(n){return e(n)}}return WM=t,WM}var A0={exports:{}};A0.exports;var Aj;function xie(){return Aj||(Aj=1,function(t,e){var n=zV(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o}(A0,A0.exports)),A0.exports}var GM,Tj;function SH(){if(Tj)return GM;Tj=1;var t=yie(),e=_H(),n=xie(),r=n&&n.isTypedArray,i=r?e(r):t;return GM=i,GM}var qM,Pj;function bie(){if(Pj)return qM;Pj=1;var t=mie(),e=ok(),n=Fs(),r=wH(),i=lk(),s=SH(),a=Object.prototype,o=a.hasOwnProperty;function l(c,d){var f=n(c),g=!f&&e(c),y=!f&&!g&&r(c),x=!f&&!g&&!y&&s(c),S=f||g||y||x,b=S?t(c.length,String):[],_=b.length;for(var E in c)(d||o.call(c,E))&&!(S&&(E=="length"||y&&(E=="offset"||E=="parent")||x&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,_)))&&b.push(E);return b}return qM=l,qM}var XM,Cj;function wie(){if(Cj)return XM;Cj=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return XM=e,XM}var YM,Nj;function MH(){if(Nj)return YM;Nj=1;function t(e,n){return function(r){return e(n(r))}}return YM=t,YM}var KM,Rj;function _ie(){if(Rj)return KM;Rj=1;var t=MH(),e=t(Object.keys,Object);return KM=e,KM}var ZM,kj;function Sie(){if(kj)return ZM;kj=1;var t=wie(),e=_ie(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return ZM=i,ZM}var JM,Oj;function dy(){if(Oj)return JM;Oj=1;var t=qR(),e=ck();function n(r){return r!=null&&e(r.length)&&!t(r)}return JM=n,JM}var QM,Ij;function Qw(){if(Ij)return QM;Ij=1;var t=bie(),e=Sie(),n=dy();function r(i){return n(i)?t(i):e(i)}return QM=r,QM}var eE,Lj;function Mie(){if(Lj)return eE;Lj=1;var t=die(),e=pie(),n=Qw();function r(i){return t(i,n,e)}return eE=r,eE}var tE,Dj;function Eie(){if(Dj)return tE;Dj=1;var t=Mie(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,c,d){var f=o&e,g=t(s),y=g.length,x=t(a),S=x.length;if(y!=S&&!f)return!1;for(var b=y;b--;){var _=g[b];if(!(f?_ in a:r.call(a,_)))return!1}var E=d.get(s),M=d.get(a);if(E&&M)return E==a&&M==s;var P=!0;d.set(s,a),d.set(a,s);for(var C=f;++b<y;){_=g[b];var N=s[_],O=a[_];if(l)var D=f?l(O,N,_,a,s,d):l(N,O,_,s,a,d);if(!(D===void 0?N===O||c(N,O,o,l,d):D)){P=!1;break}C||(C=_=="constructor")}if(P&&!C){var U=s.constructor,L=a.constructor;U!=L&&"constructor"in s&&"constructor"in a&&!(typeof U=="function"&&U instanceof U&&typeof L=="function"&&L instanceof L)&&(P=!1)}return d.delete(s),d.delete(a),P}return tE=i,tE}var nE,jj;function Aie(){if(jj)return nE;jj=1;var t=Hf(),e=il(),n=t(e,"DataView");return nE=n,nE}var rE,Fj;function Tie(){if(Fj)return rE;Fj=1;var t=Hf(),e=il(),n=t(e,"Promise");return rE=n,rE}var iE,Bj;function EH(){if(Bj)return iE;Bj=1;var t=Hf(),e=il(),n=t(e,"Set");return iE=n,iE}var sE,Uj;function Pie(){if(Uj)return sE;Uj=1;var t=Hf(),e=il(),n=t(e,"WeakMap");return sE=n,sE}var aE,zj;function Cie(){if(zj)return aE;zj=1;var t=Aie(),e=YR(),n=Tie(),r=EH(),i=Pie(),s=gc(),a=VV(),o="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",f="[object WeakMap]",g="[object DataView]",y=a(t),x=a(e),S=a(n),b=a(r),_=a(i),E=s;return(t&&E(new t(new ArrayBuffer(1)))!=g||e&&E(new e)!=o||n&&E(n.resolve())!=c||r&&E(new r)!=d||i&&E(new i)!=f)&&(E=function(M){var P=s(M),C=P==l?M.constructor:void 0,N=C?a(C):"";if(N)switch(N){case y:return g;case x:return o;case S:return c;case b:return d;case _:return f}return P}),aE=E,aE}var oE,Vj;function Nie(){if(Vj)return oE;Vj=1;var t=mH(),e=xH(),n=uie(),r=Eie(),i=Cie(),s=Fs(),a=wH(),o=SH(),l=1,c="[object Arguments]",d="[object Array]",f="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function x(S,b,_,E,M,P){var C=s(S),N=s(b),O=C?d:i(S),D=N?d:i(b);O=O==c?f:O,D=D==c?f:D;var U=O==f,L=D==f,I=O==D;if(I&&a(S)){if(!a(b))return!1;C=!0,U=!1}if(I&&!U)return P||(P=new t),C||o(S)?e(S,b,_,E,M,P):n(S,b,O,_,E,M,P);if(!(_&l)){var $=U&&y.call(S,"__wrapped__"),X=L&&y.call(b,"__wrapped__");if($||X){var V=$?S.value():S,Z=X?b.value():b;return P||(P=new t),M(V,Z,_,E,P)}}return I?(P||(P=new t),r(S,b,_,E,M,P)):!1}return oE=x,oE}var lE,Hj;function uk(){if(Hj)return lE;Hj=1;var t=Nie(),e=vc();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return lE=n,lE}var cE,$j;function Rie(){if($j)return cE;$j=1;var t=mH(),e=uk(),n=1,r=2;function i(s,a,o,l){var c=o.length,d=c,f=!l;if(s==null)return!d;for(s=Object(s);c--;){var g=o[c];if(f&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++c<d;){g=o[c];var y=g[0],x=s[y],S=g[1];if(f&&g[2]){if(x===void 0&&!(y in s))return!1}else{var b=new t;if(l)var _=l(x,S,y,s,a,b);if(!(_===void 0?e(S,x,n|r,l,b):_))return!1}}return!0}return cE=i,cE}var uE,Wj;function AH(){if(Wj)return uE;Wj=1;var t=Bu();function e(n){return n===n&&!t(n)}return uE=e,uE}var dE,Gj;function kie(){if(Gj)return dE;Gj=1;var t=AH(),e=Qw();function n(r){for(var i=e(r),s=i.length;s--;){var a=i[s],o=r[a];i[s]=[a,o,t(o)]}return i}return dE=n,dE}var fE,qj;function TH(){if(qj)return fE;qj=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return fE=t,fE}var hE,Xj;function Oie(){if(Xj)return hE;Xj=1;var t=Rie(),e=kie(),n=TH();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===i||t(a,i,s)}}return hE=r,hE}var pE,Yj;function Iie(){if(Yj)return pE;Yj=1;function t(e,n){return e!=null&&n in Object(e)}return pE=t,pE}var mE,Kj;function Lie(){if(Kj)return mE;Kj=1;var t=WV(),e=ok(),n=Fs(),r=lk(),i=ck(),s=Xw();function a(o,l,c){l=t(l,o);for(var d=-1,f=l.length,g=!1;++d<f;){var y=s(l[d]);if(!(g=o!=null&&c(o,y)))break;o=o[y]}return g||++d!=f?g:(f=o==null?0:o.length,!!f&&i(f)&&r(y,f)&&(n(o)||e(o)))}return mE=a,mE}var gE,Zj;function Die(){if(Zj)return gE;Zj=1;var t=Iie(),e=Lie();function n(r,i){return r!=null&&e(r,i,t)}return gE=n,gE}var vE,Jj;function jie(){if(Jj)return vE;Jj=1;var t=uk(),e=GV(),n=Die(),r=GR(),i=AH(),s=TH(),a=Xw(),o=1,l=2;function c(d,f){return r(d)&&i(f)?s(a(d),f):function(g){var y=e(g,d);return y===void 0&&y===f?n(g,d):t(f,y,o|l)}}return vE=c,vE}var yE,Qj;function Fm(){if(Qj)return yE;Qj=1;function t(e){return e}return yE=t,yE}var xE,e4;function Fie(){if(e4)return xE;e4=1;function t(e){return function(n){return n==null?void 0:n[e]}}return xE=t,xE}var bE,t4;function Bie(){if(t4)return bE;t4=1;var t=JR();function e(n){return function(r){return t(r,n)}}return bE=e,bE}var wE,n4;function Uie(){if(n4)return wE;n4=1;var t=Fie(),e=Bie(),n=GR(),r=Xw();function i(s){return n(s)?t(r(s)):e(s)}return wE=i,wE}var _E,r4;function sl(){if(r4)return _E;r4=1;var t=Oie(),e=jie(),n=Fm(),r=Fs(),i=Uie();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return _E=s,_E}var SE,i4;function PH(){if(i4)return SE;i4=1;function t(e,n,r,i){for(var s=e.length,a=r+(i?1:-1);i?a--:++a<s;)if(n(e[a],a,e))return a;return-1}return SE=t,SE}var ME,s4;function zie(){if(s4)return ME;s4=1;function t(e){return e!==e}return ME=t,ME}var EE,a4;function Vie(){if(a4)return EE;a4=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return EE=t,EE}var AE,o4;function Hie(){if(o4)return AE;o4=1;var t=PH(),e=zie(),n=Vie();function r(i,s,a){return s===s?n(i,s,a):t(i,e,a)}return AE=r,AE}var TE,l4;function $ie(){if(l4)return TE;l4=1;var t=Hie();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return TE=e,TE}var PE,c4;function Wie(){if(c4)return PE;c4=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return PE=t,PE}var CE,u4;function Gie(){if(u4)return CE;u4=1;function t(){}return CE=t,CE}var NE,d4;function qie(){if(d4)return NE;d4=1;var t=EH(),e=Gie(),n=ak(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return NE=i,NE}var RE,f4;function Xie(){if(f4)return RE;f4=1;var t=gH(),e=$ie(),n=Wie(),r=yH(),i=qie(),s=ak(),a=200;function o(l,c,d){var f=-1,g=e,y=l.length,x=!0,S=[],b=S;if(d)x=!1,g=n;else if(y>=a){var _=c?null:i(l);if(_)return s(_);x=!1,g=r,b=new t}else b=c?[]:S;e:for(;++f<y;){var E=l[f],M=c?c(E):E;if(E=d||E!==0?E:0,x&&M===M){for(var P=b.length;P--;)if(b[P]===M)continue e;c&&b.push(M),S.push(E)}else g(b,M,d)||(b!==S&&b.push(M),S.push(E))}return S}return RE=o,RE}var kE,h4;function Yie(){if(h4)return kE;h4=1;var t=sl(),e=Xie();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return kE=n,kE}var Kie=Yie();const p4=Rn(Kie);function CH(t,e,n){return e===!0?p4(t,n):Gt(e)?p4(t,e):t}function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}var Zie=["ref"];function m4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ul(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(n),!0).forEach(function(r){e_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RH(r.key),r)}}function Qie(t,e,n){return e&&g4(t.prototype,e),n&&g4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ese(t,e,n){return e=O1(e),tse(t,NH()?Reflect.construct(e,n||[],O1(t).constructor):e.apply(t,n))}function tse(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nse(t)}function nse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NH=function(){return!!t})()}function O1(t){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O1(t)}function rse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KP(t,e)}function KP(t,e){return KP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KP(t,e)}function e_(t,e,n){return e=RH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RH(t){var e=ise(t,"string");return Qp(e)=="symbol"?e:e+""}function ise(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sse(t,e){if(t==null)return{};var n=ase(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ase(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ose(t){return t.value}function lse(t,e){if(oe.isValidElement(t))return oe.cloneElement(t,e);if(typeof t=="function")return oe.createElement(t,e);e.ref;var n=sse(e,Zie);return oe.createElement(sk,n)}var v4=1,Vo=function(t){function e(){var n;Jie(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ese(this,e,[].concat(i)),e_(n,"lastBoundingBox",{width:-1,height:-1}),n}return rse(e,t),Qie(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>v4||Math.abs(i.height-this.lastBoundingBox.height)>v4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ul({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var y=this.getBBoxSnapshot();f={left:((c||0)-y.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var x=this.getBBoxSnapshot();g={top:((d||0)-x.height)/2}}else g=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ul(Ul({},f),g)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=Ul(Ul({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return oe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(y){r.wrapperNode=y}},lse(s,Ul(Ul({},this.props),{},{payload:CH(d,c,ose)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Ul(Ul({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&et(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(B.PureComponent);e_(Vo,"displayName","Legend");e_(Vo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var OE,y4;function cse(){if(y4)return OE;y4=1;var t=uy(),e=ok(),n=Fs(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return OE=i,OE}var IE,x4;function kH(){if(x4)return IE;x4=1;var t=bH(),e=cse();function n(r,i,s,a,o){var l=-1,c=r.length;for(s||(s=e),o||(o=[]);++l<c;){var d=r[l];i>0&&s(d)?i>1?n(d,i-1,s,a,o):t(o,d):a||(o[o.length]=d)}return o}return IE=n,IE}var LE,b4;function use(){if(b4)return LE;b4=1;function t(e){return function(n,r,i){for(var s=-1,a=Object(n),o=i(n),l=o.length;l--;){var c=o[e?l:++s];if(r(a[c],c,a)===!1)break}return n}}return LE=t,LE}var DE,w4;function dse(){if(w4)return DE;w4=1;var t=use(),e=t();return DE=e,DE}var jE,_4;function OH(){if(_4)return jE;_4=1;var t=dse(),e=Qw();function n(r,i){return r&&t(r,i,e)}return jE=n,jE}var FE,S4;function fse(){if(S4)return FE;S4=1;var t=dy();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var a=i.length,o=r?a:-1,l=Object(i);(r?o--:++o<a)&&s(l[o],o,l)!==!1;);return i}}return FE=e,FE}var BE,M4;function dk(){if(M4)return BE;M4=1;var t=OH(),e=fse(),n=e(t);return BE=n,BE}var UE,E4;function IH(){if(E4)return UE;E4=1;var t=dk(),e=dy();function n(r,i){var s=-1,a=e(r)?Array(r.length):[];return t(r,function(o,l,c){a[++s]=i(o,l,c)}),a}return UE=n,UE}var zE,A4;function hse(){if(A4)return zE;A4=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return zE=t,zE}var VE,T4;function pse(){if(T4)return VE;T4=1;var t=Lm();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,a=n===n,o=t(n),l=r!==void 0,c=r===null,d=r===r,f=t(r);if(!c&&!f&&!o&&n>r||o&&l&&d&&!c&&!f||s&&l&&d||!i&&d||!a)return 1;if(!s&&!o&&!f&&n<r||f&&i&&a&&!s&&!o||c&&i&&a||!l&&a||!d)return-1}return 0}return VE=e,VE}var HE,P4;function mse(){if(P4)return HE;P4=1;var t=pse();function e(n,r,i){for(var s=-1,a=n.criteria,o=r.criteria,l=a.length,c=i.length;++s<l;){var d=t(a[s],o[s]);if(d){if(s>=c)return d;var f=i[s];return d*(f=="desc"?-1:1)}}return n.index-r.index}return HE=e,HE}var $E,C4;function gse(){if(C4)return $E;C4=1;var t=ZR(),e=JR(),n=sl(),r=IH(),i=hse(),s=_H(),a=mse(),o=Fm(),l=Fs();function c(d,f,g){f.length?f=t(f,function(S){return l(S)?function(b){return e(b,S.length===1?S[0]:S)}:S}):f=[o];var y=-1;f=t(f,s(n));var x=r(d,function(S,b,_){var E=t(f,function(M){return M(S)});return{criteria:E,index:++y,value:S}});return i(x,function(S,b){return a(S,b,g)})}return $E=c,$E}var WE,N4;function vse(){if(N4)return WE;N4=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return WE=t,WE}var GE,R4;function yse(){if(R4)return GE;R4=1;var t=vse(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,o=-1,l=e(a.length-i,0),c=Array(l);++o<l;)c[o]=a[i+o];o=-1;for(var d=Array(i+1);++o<i;)d[o]=a[o];return d[i]=s(c),t(r,this,d)}}return GE=n,GE}var qE,k4;function xse(){if(k4)return qE;k4=1;function t(e){return function(){return e}}return qE=t,qE}var XE,O4;function LH(){if(O4)return XE;O4=1;var t=Hf(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return XE=e,XE}var YE,I4;function bse(){if(I4)return YE;I4=1;var t=xse(),e=LH(),n=Fm(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return YE=r,YE}var KE,L4;function wse(){if(L4)return KE;L4=1;var t=800,e=16,n=Date.now;function r(i){var s=0,a=0;return function(){var o=n(),l=e-(o-a);if(a=o,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return KE=r,KE}var ZE,D4;function _se(){if(D4)return ZE;D4=1;var t=bse(),e=wse(),n=e(t);return ZE=n,ZE}var JE,j4;function Sse(){if(j4)return JE;j4=1;var t=Fm(),e=yse(),n=_se();function r(i,s){return n(e(i,s,t),i+"")}return JE=r,JE}var QE,F4;function t_(){if(F4)return QE;F4=1;var t=XR(),e=dy(),n=lk(),r=Bu();function i(s,a,o){if(!r(o))return!1;var l=typeof a;return(l=="number"?e(o)&&n(a,o.length):l=="string"&&a in o)?t(o[a],s):!1}return QE=i,QE}var eA,B4;function Mse(){if(B4)return eA;B4=1;var t=kH(),e=gse(),n=Sse(),r=t_(),i=n(function(s,a){if(s==null)return[];var o=a.length;return o>1&&r(s,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return eA=i,eA}var Ese=Mse();const fk=Rn(Ese);function rv(t){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(t)}function ZP(){return ZP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZP.apply(this,arguments)}function Ase(t,e){return Nse(t)||Cse(t,e)||Pse(t,e)||Tse()}function Tse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pse(t,e){if(t){if(typeof t=="string")return U4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U4(t,e)}}function U4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Nse(t){if(Array.isArray(t))return t}function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){Rse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rse(t,e,n){return e=kse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kse(t){var e=Ose(t,"string");return rv(e)=="symbol"?e:e+""}function Ose(t,e){if(rv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ise(t){return Array.isArray(t)&&ai(t[0])&&ai(t[1])?t.join(" ~ "):t}var Lse=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,g=e.itemSorter,y=e.wrapperClassName,x=e.labelClassName,S=e.label,b=e.labelFormatter,_=e.accessibilityLayer,E=_===void 0?!1:_,M=function(){if(d&&d.length){var $={padding:0,margin:0},X=(g?fk(d,g):d).map(function(V,Z){if(V.type==="none")return null;var ee=tA({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},o),re=V.formatter||f||Ise,H=V.value,J=V.name,K=H,q=J;if(re&&K!=null&&q!=null){var ne=re(H,J,V,Z,d);if(Array.isArray(ne)){var ve=Ase(ne,2);K=ve[0],q=ve[1]}else K=ne}return oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:ee},ai(q)?oe.createElement("span",{className:"recharts-tooltip-item-name"},q):null,ai(q)?oe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,oe.createElement("span",{className:"recharts-tooltip-item-value"},K),oe.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return oe.createElement("ul",{className:"recharts-tooltip-item-list",style:$},X)}return null},P=tA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=tA({margin:0},c),N=!Qt(S),O=N?S:"",D=cn("recharts-default-tooltip",y),U=cn("recharts-tooltip-label",x);N&&b&&d!==void 0&&d!==null&&(O=b(S,d));var L=E?{role:"status","aria-live":"assertive"}:{};return oe.createElement("div",ZP({className:D,style:P},L),oe.createElement("p",{className:U,style:C},oe.isValidElement(O)?O:"".concat(O)),M())};function iv(t){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(t)}function Fx(t,e,n){return e=Dse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dse(t){var e=jse(t,"string");return iv(e)=="symbol"?e:e+""}function jse(t,e){if(iv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qg="recharts-tooltip-wrapper",Fse={visibility:"hidden"};function Bse(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return cn(Qg,Fx(Fx(Fx(Fx({},"".concat(Qg,"-right"),et(n)&&e&&et(e.x)&&n>=e.x),"".concat(Qg,"-left"),et(n)&&e&&et(e.x)&&n<e.x),"".concat(Qg,"-bottom"),et(r)&&e&&et(e.y)&&r>=e.y),"".concat(Qg,"-top"),et(r)&&e&&et(e.y)&&r<e.y))}function V4(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&et(s[r]))return s[r];var d=n[r]-o-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var g=d,y=l[r];return g<y?Math.max(f,l[r]):Math.max(d,l[r])}var x=f+o,S=l[r]+c;return x>S?Math.max(d,l[r]):Math.max(f,l[r])}function Use(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function zse(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,d,f;return a.height>0&&a.width>0&&n?(d=V4({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=V4({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Use({translateX:d,translateY:f,useTranslate3d:o})):c=Fse,{cssProperties:c,cssClasses:Bse({translateX:d,translateY:f,coordinate:n})}}function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(r){QP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jH(r.key),r)}}function $se(t,e,n){return e&&Hse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wse(t,e,n){return e=I1(e),Gse(t,DH()?Reflect.construct(e,n||[],I1(t).constructor):e.apply(t,n))}function Gse(t,e){if(e&&(em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qse(t)}function qse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DH=function(){return!!t})()}function I1(t){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I1(t)}function Xse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JP(t,e)}function JP(t,e){return JP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JP(t,e)}function QP(t,e,n){return e=jH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jH(t){var e=Yse(t,"string");return em(e)=="symbol"?e:e+""}function Yse(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var W4=1,Kse=function(t){function e(){var n;Vse(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Wse(this,e,[].concat(i)),QP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),QP(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return Xse(e,t),$se(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>W4||Math.abs(r.height-this.state.lastBoundingBox.height)>W4)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,g=i.isAnimationActive,y=i.offset,x=i.position,S=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,M=zse({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:y,position:x,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:_}),P=M.cssClasses,C=M.cssProperties,N=$4($4({transition:g&&s?"transform ".concat(o,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},E);return oe.createElement("div",{tabIndex:-1,className:P,style:N,ref:function(D){r.wrapperNode=D}},c)}}])}(B.PureComponent),Zse=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Uu={isSsr:Zse()};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function G4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(n),!0).forEach(function(r){hk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BH(r.key),r)}}function eae(t,e,n){return e&&Qse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tae(t,e,n){return e=L1(e),nae(t,FH()?Reflect.construct(e,n||[],L1(t).constructor):e.apply(t,n))}function nae(t,e){if(e&&(tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rae(t)}function rae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FH=function(){return!!t})()}function L1(t){return L1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},L1(t)}function iae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eC(t,e)}function eC(t,e){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eC(t,e)}function hk(t,e,n){return e=BH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BH(t){var e=sae(t,"string");return tm(e)=="symbol"?e:e+""}function sae(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function aae(t){return t.dataKey}function oae(t,e){return oe.isValidElement(t)?oe.cloneElement(t,e):typeof t=="function"?oe.createElement(t,e):oe.createElement(Lse,e)}var ra=function(t){function e(){return Jse(this,e),tae(this,e,arguments)}return iae(e,t),eae(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,g=i.isAnimationActive,y=i.offset,x=i.payload,S=i.payloadUniqBy,b=i.position,_=i.reverseDirection,E=i.useTranslate3d,M=i.viewBox,P=i.wrapperStyle,C=x??[];f&&C.length&&(C=CH(x.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),S,aae));var N=C.length>0;return oe.createElement(Kse,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:g,active:s,coordinate:d,hasPayload:N,offset:y,position:b,reverseDirection:_,useTranslate3d:E,viewBox:M,wrapperStyle:P},oae(c,q4(q4({},this.props),{},{payload:C})))}}])}(B.PureComponent);hk(ra,"displayName","Tooltip");hk(ra,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Uu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nA,X4;function lae(){if(X4)return nA;X4=1;var t=il(),e=function(){return t.Date.now()};return nA=e,nA}var rA,Y4;function cae(){if(Y4)return rA;Y4=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return rA=e,rA}var iA,K4;function uae(){if(K4)return iA;K4=1;var t=cae(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return iA=n,iA}var sA,Z4;function UH(){if(Z4)return sA;Z4=1;var t=uae(),e=Bu(),n=Lm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=t(c);var f=s.test(c);return f||a.test(c)?o(c.slice(2),f?2:8):i.test(c)?r:+c}return sA=l,sA}var aA,J4;function dae(){if(J4)return aA;J4=1;var t=Bu(),e=lae(),n=UH(),r="Expected a function",i=Math.max,s=Math.min;function a(o,l,c){var d,f,g,y,x,S,b=0,_=!1,E=!1,M=!0;if(typeof o!="function")throw new TypeError(r);l=n(l)||0,t(c)&&(_=!!c.leading,E="maxWait"in c,g=E?i(n(c.maxWait)||0,l):g,M="trailing"in c?!!c.trailing:M);function P(X){var V=d,Z=f;return d=f=void 0,b=X,y=o.apply(Z,V),y}function C(X){return b=X,x=setTimeout(D,l),_?P(X):y}function N(X){var V=X-S,Z=X-b,ee=l-V;return E?s(ee,g-Z):ee}function O(X){var V=X-S,Z=X-b;return S===void 0||V>=l||V<0||E&&Z>=g}function D(){var X=e();if(O(X))return U(X);x=setTimeout(D,N(X))}function U(X){return x=void 0,M&&d?P(X):(d=f=void 0,y)}function L(){x!==void 0&&clearTimeout(x),b=0,d=S=f=x=void 0}function I(){return x===void 0?y:U(e())}function $(){var X=e(),V=O(X);if(d=arguments,f=this,S=X,V){if(x===void 0)return C(S);if(E)return clearTimeout(x),x=setTimeout(D,l),P(S)}return x===void 0&&(x=setTimeout(D,l)),y}return $.cancel=L,$.flush=I,$}return aA=a,aA}var oA,Q4;function fae(){if(Q4)return oA;Q4=1;var t=dae(),e=Bu(),n="Expected a function";function r(i,s,a){var o=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(o="leading"in a?!!a.leading:o,l="trailing"in a?!!a.trailing:l),t(i,s,{leading:o,maxWait:s,trailing:l})}return oA=r,oA}var hae=fae();const zH=Rn(hae);function sv(t){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}function e5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(n),!0).forEach(function(r){pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pae(t,e,n){return e=mae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mae(t){var e=gae(t,"string");return sv(e)=="symbol"?e:e+""}function gae(t,e){if(sv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vae(t,e){return wae(t)||bae(t,e)||xae(t,e)||yae()}function yae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xae(t,e){if(t){if(typeof t=="string")return t5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t5(t,e)}}function t5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function wae(t){if(Array.isArray(t))return t}var Ux=B.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,g=t.maxHeight,y=t.children,x=t.debounce,S=x===void 0?0:x,b=t.id,_=t.className,E=t.onResize,M=t.style,P=M===void 0?{}:M,C=B.useRef(null),N=B.useRef();N.current=E,B.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var O=B.useState({containerWidth:i.width,containerHeight:i.height}),D=vae(O,2),U=D[0],L=D[1],I=B.useCallback(function(X,V){L(function(Z){var ee=Math.round(X),re=Math.round(V);return Z.containerWidth===ee&&Z.containerHeight===re?Z:{containerWidth:ee,containerHeight:re}})},[]);B.useEffect(function(){var X=function(J){var K,q=J[0].contentRect,ne=q.width,ve=q.height;I(ne,ve),(K=N.current)===null||K===void 0||K.call(N,ne,ve)};S>0&&(X=zH(X,S,{trailing:!0,leading:!1}));var V=new ResizeObserver(X),Z=C.current.getBoundingClientRect(),ee=Z.width,re=Z.height;return I(ee,re),V.observe(C.current),function(){V.disconnect()}},[I,S]);var $=B.useMemo(function(){var X=U.containerWidth,V=U.containerHeight;if(X<0||V<0)return null;wo(df(a)||df(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),wo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Z=df(a)?X:a,ee=df(l)?V:l;n&&n>0&&(Z?ee=Z/n:ee&&(Z=ee*n),g&&ee>g&&(ee=g)),wo(Z>0||ee>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,ee,a,l,d,f,n);var re=!Array.isArray(y)&&rc(y.type).endsWith("Chart");return oe.Children.map(y,function(H){return oe.isValidElement(H)?B.cloneElement(H,Bx({width:Z,height:ee},re?{style:Bx({height:"100%",width:"100%",maxHeight:ee,maxWidth:Z},H.props.style)}:{})):H})},[n,y,l,g,f,d,U,a]);return oe.createElement("div",{id:b?"".concat(b):void 0,className:cn("recharts-responsive-container",_),style:Bx(Bx({},P),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:g}),ref:C},$)}),n_=function(e){return null};n_.displayName="Cell";function av(t){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(t)}function n5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(n),!0).forEach(function(r){_ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ae(t,e,n){return e=Sae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sae(t){var e=Mae(t,"string");return av(e)=="symbol"?e:e+""}function Mae(t,e){if(av(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kh={widthCache:{},cacheCount:0},Eae=2e3,Aae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},r5="recharts_measurement_span";function Tae(t){var e=tC({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var L0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Uu.isSsr)return{width:0,height:0};var r=Tae(n),i=JSON.stringify({text:e,copyStyle:r});if(Kh.widthCache[i])return Kh.widthCache[i];try{var s=document.getElementById(r5);s||(s=document.createElement("span"),s.setAttribute("id",r5),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=tC(tC({},Aae),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return Kh.widthCache[i]=l,++Kh.cacheCount>Eae&&(Kh.cacheCount=0,Kh.widthCache={}),l}catch{return{width:0,height:0}}},Pae=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ov(t){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function D1(t,e){return kae(t)||Rae(t,e)||Nae(t,e)||Cae()}function Cae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nae(t,e){if(t){if(typeof t=="string")return i5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i5(t,e)}}function i5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function kae(t){if(Array.isArray(t))return t}function Oae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lae(r.key),r)}}function Iae(t,e,n){return e&&s5(t.prototype,e),n&&s5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lae(t){var e=Dae(t,"string");return ov(e)=="symbol"?e:e+""}function Dae(t,e){if(ov(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ov(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bae=Object.keys(VH),Np="NaN";function Uae(t,e){return t*VH[e]}var zx=function(){function t(e,n){Oae(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!jae.test(n)&&(this.num=NaN,this.unit=""),Bae.includes(n)&&(this.num=Uae(e,n),this.unit="px")}return Iae(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Fae.exec(n))!==null&&r!==void 0?r:[],s=D1(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function HH(t){if(t.includes(Np))return Np;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=a5.exec(e))!==null&&n!==void 0?n:[],i=D1(r,4),s=i[1],a=i[2],o=i[3],l=zx.parse(s??""),c=zx.parse(o??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Np;e=e.replace(a5,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,g=(f=o5.exec(e))!==null&&f!==void 0?f:[],y=D1(g,4),x=y[1],S=y[2],b=y[3],_=zx.parse(x??""),E=zx.parse(b??""),M=S==="+"?_.add(E):_.subtract(E);if(M.isNaN())return Np;e=e.replace(o5,M.toString())}return e}var l5=/\(([^()]*)\)/;function zae(t){for(var e=t;e.includes("(");){var n=l5.exec(e),r=D1(n,2),i=r[1];e=e.replace(l5,HH(i))}return e}function Vae(t){var e=t.replace(/\s+/g,"");return e=zae(e),e=HH(e),e}function Hae(t){try{return Vae(t)}catch{return Np}}function lA(t){var e=Hae(t.slice(5,-1));return e===Np?"":e}var $ae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Wae=["dx","dy","angle","className","breakAll"];function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nC.apply(this,arguments)}function c5(t,e){if(t==null)return{};var n=Gae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u5(t,e){return Kae(t)||Yae(t,e)||Xae(t,e)||qae()}function qae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xae(t,e){if(t){if(typeof t=="string")return d5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d5(t,e)}}function d5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Kae(t){if(Array.isArray(t))return t}var $H=/[ \f\n\r\t\v\u2028\u2029]+/,WH=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Qt(n)||(r?s=n.toString().split(""):s=n.toString().split($H));var a=s.map(function(l){return{word:l,width:L0(l,i).width}}),o=r?0:L0("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Zae=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=et(a),f=o,g=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(ee,re){var H=re.word,J=re.width,K=ee[ee.length-1];if(K&&(i==null||s||K.width+J+r<Number(i)))K.words.push(H),K.width+=J+r;else{var q={words:[H],width:J};ee.push(q)}return ee},[])},y=g(n),x=function(Z){return Z.reduce(function(ee,re){return ee.width>re.width?ee:re})};if(!d)return y;for(var S="",b=function(Z){var ee=f.slice(0,Z),re=WH({breakAll:c,style:l,children:ee+S}).wordsWithComputedWidth,H=g(re),J=H.length>a||x(H).width>Number(i);return[J,H]},_=0,E=f.length-1,M=0,P;_<=E&&M<=f.length-1;){var C=Math.floor((_+E)/2),N=C-1,O=b(N),D=u5(O,2),U=D[0],L=D[1],I=b(C),$=u5(I,1),X=$[0];if(!U&&!X&&(_=C+1),U&&X&&(E=C-1),!U&&X){P=L;break}M++}return P||y},f5=function(e){var n=Qt(e)?[]:e.toString().split($H);return[{words:n}]},Jae=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!Uu.isSsr){var l,c,d=WH({breakAll:a,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,g=d.spaceWidth;l=f,c=g}else return f5(i);return Zae({breakAll:a,children:i,maxLines:o,style:s},l,c,n,r)}return f5(i)},h5="#808080",Rf=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,g=e.textAnchor,y=g===void 0?"start":g,x=e.verticalAnchor,S=x===void 0?"end":x,b=e.fill,_=b===void 0?h5:b,E=c5(e,$ae),M=B.useMemo(function(){return Jae({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:f,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,f,E.style,E.width]),P=E.dx,C=E.dy,N=E.angle,O=E.className,D=E.breakAll,U=c5(E,Wae);if(!ai(r)||!ai(s))return null;var L=r+(et(P)?P:0),I=s+(et(C)?C:0),$;switch(S){case"start":$=lA("calc(".concat(c,")"));break;case"middle":$=lA("calc(".concat((M.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:$=lA("calc(".concat(M.length-1," * -").concat(o,")"));break}var X=[];if(f){var V=M[0].width,Z=E.width;X.push("scale(".concat((et(Z)?Z/V:1)/V,")"))}return N&&X.push("rotate(".concat(N,", ").concat(L,", ").concat(I,")")),X.length&&(U.transform=X.join(" ")),oe.createElement("text",nC({},kt(U,!0),{x:L,y:I,className:cn("recharts-text",O),textAnchor:y,fill:_.includes("url")?h5:_}),M.map(function(ee,re){var H=ee.words.join(D?"":" ");return oe.createElement("tspan",{x:L,dy:re===0?$:o,key:"".concat(H,"-").concat(re)},H)}))};function Mu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pk(t){let e,n,r;t.length!==2?(e=Mu,n=(o,l)=>Mu(t(o),l),r=(o,l)=>t(o)-l):(e=t===Mu||t===Qae?t:eoe,n=t,r=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function eoe(){return 0}function GH(t){return t===null?NaN:+t}function*toe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const noe=pk(Mu),fy=noe.right;pk(GH).center;class p5 extends Map{constructor(e,n=soe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(m5(this,e))}has(e){return super.has(m5(this,e))}set(e,n){return super.set(roe(this,e),n)}delete(e){return super.delete(ioe(this,e))}}function m5({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function roe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ioe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function soe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function aoe(t=Mu){if(t===Mu)return qH;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function qH(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ooe=Math.sqrt(50),loe=Math.sqrt(10),coe=Math.sqrt(2);function j1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=ooe?10:s>=loe?5:s>=coe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?j1(t,e,n*2):[o,l,c]}function rC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?j1(e,t,n):j1(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function iC(t,e,n){return e=+e,t=+t,n=+n,j1(t,e,n)[2]}function sC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?iC(e,t,n):iC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function g5(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function v5(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function XH(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?qH:aoe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),y=Math.max(n,Math.floor(e-c*f/l+g)),x=Math.min(r,Math.floor(e+(l-c)*f/l+g));XH(t,e,y,x,i)}const s=t[e];let a=n,o=r;for(e0(t,n,e),i(t[r],s)>0&&e0(t,n,r);a<o;){for(e0(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?e0(t,n,o):(++o,e0(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function e0(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function uoe(t,e,n){if(t=Float64Array.from(toe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return v5(t);if(e>=1)return g5(t);var r,i=(r-1)*e,s=Math.floor(i),a=g5(XH(t,s).subarray(0,s+1)),o=v5(t.subarray(s+1));return a+(o-a)*(i-s)}}function doe(t,e,n=GH){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function foe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Da(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function yc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const aC=Symbol("implicit");function mk(){var t=new p5,e=[],n=[],r=aC;function i(s){let a=t.get(s);if(a===void 0){if(r!==aC)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new p5;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return mk(e,n).unknown(r)},Da.apply(i,arguments),i}function lv(){var t=mk().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var g=e().length,y=i<r,x=y?i:r,S=y?r:i;s=(S-x)/Math.max(1,g-l+c*2),o&&(s=Math.floor(s)),x+=(S-x-s*(g-l))*d,a=s*(1-l),o&&(x=Math.round(x),a=Math.round(a));var b=foe(g).map(function(_){return x+s*_});return n(y?b.reverse():b)}return t.domain=function(g){return arguments.length?(e(g),f()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(o=!!g,f()):o},t.padding=function(g){return arguments.length?(l=Math.min(1,c=+g),f()):l},t.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),f()):l},t.paddingOuter=function(g){return arguments.length?(c=+g,f()):c},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),f()):d},t.copy=function(){return lv(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Da.apply(f(),arguments)}function YH(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return YH(e())},t}function D0(){return YH(lv.apply(null,arguments).paddingInner(1))}function gk(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function KH(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hy(){}var cv=.7,F1=1/cv,$p="\\s*([+-]?\\d+)\\s*",uv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hoe=/^#([0-9a-f]{3,8})$/,poe=new RegExp(`^rgb\\(${$p},${$p},${$p}\\)$`),moe=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),goe=new RegExp(`^rgba\\(${$p},${$p},${$p},${uv}\\)$`),voe=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${uv}\\)$`),yoe=new RegExp(`^hsl\\(${uv},${Ko},${Ko}\\)$`),xoe=new RegExp(`^hsla\\(${uv},${Ko},${Ko},${uv}\\)$`),y5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gk(hy,dv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:x5,formatHex:x5,formatHex8:boe,formatHsl:woe,formatRgb:b5,toString:b5});function x5(){return this.rgb().formatHex()}function boe(){return this.rgb().formatHex8()}function woe(){return ZH(this).formatHsl()}function b5(){return this.rgb().formatRgb()}function dv(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=hoe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?w5(e):n===3?new Ds(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=poe.exec(t))?new Ds(e[1],e[2],e[3],1):(e=moe.exec(t))?new Ds(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=goe.exec(t))?Vx(e[1],e[2],e[3],e[4]):(e=voe.exec(t))?Vx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yoe.exec(t))?M5(e[1],e[2]/100,e[3]/100,1):(e=xoe.exec(t))?M5(e[1],e[2]/100,e[3]/100,e[4]):y5.hasOwnProperty(t)?w5(y5[t]):t==="transparent"?new Ds(NaN,NaN,NaN,0):null}function w5(t){return new Ds(t>>16&255,t>>8&255,t&255,1)}function Vx(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ds(t,e,n,r)}function _oe(t){return t instanceof hy||(t=dv(t)),t?(t=t.rgb(),new Ds(t.r,t.g,t.b,t.opacity)):new Ds}function oC(t,e,n,r){return arguments.length===1?_oe(t):new Ds(t,e,n,r??1)}function Ds(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}gk(Ds,oC,KH(hy,{brighter(t){return t=t==null?F1:Math.pow(F1,t),new Ds(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?cv:Math.pow(cv,t),new Ds(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ds(wf(this.r),wf(this.g),wf(this.b),B1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_5,formatHex:_5,formatHex8:Soe,formatRgb:S5,toString:S5}));function _5(){return`#${ff(this.r)}${ff(this.g)}${ff(this.b)}`}function Soe(){return`#${ff(this.r)}${ff(this.g)}${ff(this.b)}${ff((isNaN(this.opacity)?1:this.opacity)*255)}`}function S5(){const t=B1(this.opacity);return`${t===1?"rgb(":"rgba("}${wf(this.r)}, ${wf(this.g)}, ${wf(this.b)}${t===1?")":`, ${t})`}`}function B1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ff(t){return t=wf(t),(t<16?"0":"")+t.toString(16)}function M5(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xo(t,e,n,r)}function ZH(t){if(t instanceof xo)return new xo(t.h,t.s,t.l,t.opacity);if(t instanceof hy||(t=dv(t)),!t)return new xo;if(t instanceof xo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new xo(a,o,l,t.opacity)}function Moe(t,e,n,r){return arguments.length===1?ZH(t):new xo(t,e,n,r??1)}function xo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}gk(xo,Moe,KH(hy,{brighter(t){return t=t==null?F1:Math.pow(F1,t),new xo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?cv:Math.pow(cv,t),new xo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ds(cA(t>=240?t-240:t+120,i,r),cA(t,i,r),cA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new xo(E5(this.h),Hx(this.s),Hx(this.l),B1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=B1(this.opacity);return`${t===1?"hsl(":"hsla("}${E5(this.h)}, ${Hx(this.s)*100}%, ${Hx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function E5(t){return t=(t||0)%360,t<0?t+360:t}function Hx(t){return Math.max(0,Math.min(1,t||0))}function cA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const vk=t=>()=>t;function Eoe(t,e){return function(n){return t+n*e}}function Aoe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Toe(t){return(t=+t)==1?JH:function(e,n){return n-e?Aoe(e,n,t):vk(isNaN(e)?n:e)}}function JH(t,e){var n=e-t;return n?Eoe(t,n):vk(isNaN(t)?e:t)}const A5=function t(e){var n=Toe(e);function r(i,s){var a=n((i=oC(i)).r,(s=oC(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=JH(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function Poe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Coe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Noe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Bm(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function Roe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function U1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function koe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Bm(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var lC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uA=new RegExp(lC.source,"g");function Ooe(t){return function(){return t}}function Ioe(t){return function(e){return t(e)+""}}function Loe(t,e){var n=lC.lastIndex=uA.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=lC.exec(t))&&(i=uA.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:U1(r,i)})),n=uA.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Ioe(l[0].x):Ooe(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function Bm(t,e){var n=typeof e,r;return e==null||n==="boolean"?vk(e):(n==="number"?U1:n==="string"?(r=dv(e))?(e=r,A5):Loe:e instanceof dv?A5:e instanceof Date?Roe:Coe(e)?Poe:Array.isArray(e)?Noe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?koe:U1)(t,e)}function yk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Doe(t,e){e===void 0&&(e=t,t=Bm);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function joe(t){return function(){return t}}function z1(t){return+t}var T5=[0,1];function vs(t){return t}function cC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:joe(isNaN(e)?NaN:.5)}function Foe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Boe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=cC(i,r),s=n(a,s)):(r=cC(r,i),s=n(s,a)),function(o){return s(r(o))}}function Uoe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=cC(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=fy(t,o,1,r)-1;return s[l](i[l](o))}}function py(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function r_(){var t=T5,e=T5,n=Bm,r,i,s,a=vs,o,l,c;function d(){var g=Math.min(t.length,e.length);return a!==vs&&(a=Foe(t[0],t[g-1])),o=g>2?Uoe:Boe,l=c=null,f}function f(g){return g==null||isNaN(g=+g)?s:(l||(l=o(t.map(r),e,n)))(r(a(g)))}return f.invert=function(g){return a(i((c||(c=o(e,t.map(r),U1)))(g)))},f.domain=function(g){return arguments.length?(t=Array.from(g,z1),d()):t.slice()},f.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},f.rangeRound=function(g){return e=Array.from(g),n=yk,d()},f.clamp=function(g){return arguments.length?(a=g?!0:vs,d()):a!==vs},f.interpolate=function(g){return arguments.length?(n=g,d()):n},f.unknown=function(g){return arguments.length?(s=g,f):s},function(g,y){return r=g,i=y,d()}}function xk(){return r_()(vs,vs)}function zoe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function V1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function nm(t){return t=V1(Math.abs(t)),t?t[1]:NaN}function Voe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Hoe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var $oe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fv(t){if(!(e=$oe.exec(t)))throw new Error("invalid format: "+t);var e;return new bk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fv.prototype=bk.prototype;function bk(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Woe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var QH;function Goe(t,e){var n=V1(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(QH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+V1(t,Math.max(0,e+s-1))[0]}function P5(t,e){var n=V1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const C5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zoe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>P5(t*100,e),r:P5,s:Goe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function N5(t){return t}var R5=Array.prototype.map,k5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qoe(t){var e=t.grouping===void 0||t.thousands===void 0?N5:Voe(R5.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?N5:Hoe(R5.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=fv(f);var g=f.fill,y=f.align,x=f.sign,S=f.symbol,b=f.zero,_=f.width,E=f.comma,M=f.precision,P=f.trim,C=f.type;C==="n"?(E=!0,C="g"):C5[C]||(M===void 0&&(M=12),P=!0,C="g"),(b||g==="0"&&y==="=")&&(b=!0,g="0",y="=");var N=S==="$"?n:S==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",O=S==="$"?r:/[%p]/.test(C)?a:"",D=C5[C],U=/[defgprs%]/.test(C);M=M===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function L(I){var $=N,X=O,V,Z,ee;if(C==="c")X=D(I)+X,I="";else{I=+I;var re=I<0||1/I<0;if(I=isNaN(I)?l:D(Math.abs(I),M),P&&(I=Woe(I)),re&&+I==0&&x!=="+"&&(re=!1),$=(re?x==="("?x:o:x==="-"||x==="("?"":x)+$,X=(C==="s"?k5[8+QH/3]:"")+X+(re&&x==="("?")":""),U){for(V=-1,Z=I.length;++V<Z;)if(ee=I.charCodeAt(V),48>ee||ee>57){X=(ee===46?i+I.slice(V+1):I.slice(V))+X,I=I.slice(0,V);break}}}E&&!b&&(I=e(I,1/0));var H=$.length+I.length+X.length,J=H<_?new Array(_-H+1).join(g):"";switch(E&&b&&(I=e(J+I,J.length?_-X.length:1/0),J=""),y){case"<":I=$+I+X+J;break;case"=":I=$+J+I+X;break;case"^":I=J.slice(0,H=J.length>>1)+$+I+X+J.slice(H);break;default:I=J+$+I+X;break}return s(I)}return L.toString=function(){return f+""},L}function d(f,g){var y=c((f=fv(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(nm(g)/3)))*3,S=Math.pow(10,-x),b=k5[8+x/3];return function(_){return y(S*_)+b}}return{format:c,formatPrefix:d}}var $x,wk,e7;Xoe({thousands:",",grouping:[3],currency:["$",""]});function Xoe(t){return $x=qoe(t),wk=$x.format,e7=$x.formatPrefix,$x}function Yoe(t){return Math.max(0,-nm(Math.abs(t)))}function Koe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nm(e)/3)))*3-nm(Math.abs(t)))}function Zoe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nm(e)-nm(t))+1}function t7(t,e,n,r){var i=sC(t,e,n),s;switch(r=fv(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Koe(i,a))&&(r.precision=s),e7(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Zoe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Yoe(i))&&(r.precision=s-(r.type==="%")*2);break}}return wk(r)}function zu(t){var e=t.domain;return t.ticks=function(n){var r=e();return rC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return t7(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,d=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);d-- >0;){if(c=iC(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function H1(){var t=xk();return t.copy=function(){return py(t,H1())},Da.apply(t,arguments),zu(t)}function n7(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,z1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return n7(t).unknown(e)},t=arguments.length?Array.from(t,z1):[0,1],zu(n)}function r7(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function O5(t){return Math.log(t)}function I5(t){return Math.exp(t)}function Joe(t){return-Math.log(-t)}function Qoe(t){return-Math.exp(-t)}function ele(t){return isFinite(t)?+("1e"+t):t<0?0:t}function tle(t){return t===10?ele:t===Math.E?Math.exp:e=>Math.pow(t,e)}function nle(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function L5(t){return(e,n)=>-t(-e,n)}function _k(t){const e=t(O5,I5),n=e.domain;let r=10,i,s;function a(){return i=nle(r),s=tle(r),n()[0]<0?(i=L5(i),s=L5(s),t(Joe,Qoe)):t(O5,I5),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let g=i(c),y=i(d),x,S;const b=o==null?10:+o;let _=[];if(!(r%1)&&y-g<b){if(g=Math.floor(g),y=Math.ceil(y),c>0){for(;g<=y;++g)for(x=1;x<r;++x)if(S=g<0?x/s(-g):x*s(g),!(S<c)){if(S>d)break;_.push(S)}}else for(;g<=y;++g)for(x=r-1;x>=1;--x)if(S=g>0?x/s(-g):x*s(g),!(S<c)){if(S>d)break;_.push(S)}_.length*2<b&&(_=rC(c,d,b))}else _=rC(g,y,Math.min(y-g,b)).map(s);return f?_.reverse():_},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=fv(l)).precision==null&&(l.trim=!0),l=wk(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(r7(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function i7(){const t=_k(r_()).domain([1,10]);return t.copy=()=>py(t,i7()).base(t.base()),Da.apply(t,arguments),t}function D5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function j5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Sk(t){var e=1,n=t(D5(e),j5(e));return n.constant=function(r){return arguments.length?t(D5(e=+r),j5(e)):e},zu(n)}function s7(){var t=Sk(r_());return t.copy=function(){return py(t,s7()).constant(t.constant())},Da.apply(t,arguments)}function F5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function rle(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ile(t){return t<0?-t*t:t*t}function Mk(t){var e=t(vs,vs),n=1;function r(){return n===1?t(vs,vs):n===.5?t(rle,ile):t(F5(n),F5(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zu(e)}function Ek(){var t=Mk(r_());return t.copy=function(){return py(t,Ek()).exponent(t.exponent())},Da.apply(t,arguments),t}function sle(){return Ek.apply(null,arguments).exponent(.5)}function B5(t){return Math.sign(t)*t*t}function ale(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function a7(){var t=xk(),e=[0,1],n=!1,r;function i(s){var a=ale(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(B5(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,z1)).map(B5)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return a7(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Da.apply(i,arguments),zu(i)}function o7(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=doe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[fy(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Mu),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return o7().domain(t).range(e).unknown(r)},Da.apply(s,arguments)}function l7(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[fy(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return l7().domain([t,e]).range(i).unknown(s)},Da.apply(zu(a),arguments)}function c7(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[fy(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return c7().domain(t).range(e).unknown(n)},Da.apply(i,arguments)}const dA=new Date,fA=new Date;function ci(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>ci(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(dA.setTime(+s),fA.setTime(+a),t(dA),t(fA),Math.floor(n(dA,fA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const $1=ci(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ci(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):$1);$1.range;const Kl=1e3,Oa=Kl*60,Zl=Oa*60,lc=Zl*24,Ak=lc*7,U5=lc*30,hA=lc*365,hf=ci(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Kl)},(t,e)=>(e-t)/Kl,t=>t.getUTCSeconds());hf.range;const Tk=ci(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kl)},(t,e)=>{t.setTime(+t+e*Oa)},(t,e)=>(e-t)/Oa,t=>t.getMinutes());Tk.range;const Pk=ci(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Oa)},(t,e)=>(e-t)/Oa,t=>t.getUTCMinutes());Pk.range;const Ck=ci(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kl-t.getMinutes()*Oa)},(t,e)=>{t.setTime(+t+e*Zl)},(t,e)=>(e-t)/Zl,t=>t.getHours());Ck.range;const Nk=ci(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Zl)},(t,e)=>(e-t)/Zl,t=>t.getUTCHours());Nk.range;const my=ci(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Oa)/lc,t=>t.getDate()-1);my.range;const i_=ci(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/lc,t=>t.getUTCDate()-1);i_.range;const u7=ci(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/lc,t=>Math.floor(t/lc));u7.range;function Wf(t){return ci(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Oa)/Ak)}const s_=Wf(0),W1=Wf(1),ole=Wf(2),lle=Wf(3),rm=Wf(4),cle=Wf(5),ule=Wf(6);s_.range;W1.range;ole.range;lle.range;rm.range;cle.range;ule.range;function Gf(t){return ci(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ak)}const a_=Gf(0),G1=Gf(1),dle=Gf(2),fle=Gf(3),im=Gf(4),hle=Gf(5),ple=Gf(6);a_.range;G1.range;dle.range;fle.range;im.range;hle.range;ple.range;const Rk=ci(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Rk.range;const kk=ci(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());kk.range;const cc=ci(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());cc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ci(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});cc.range;const uc=ci(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());uc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ci(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});uc.range;function d7(t,e,n,r,i,s){const a=[[hf,1,Kl],[hf,5,5*Kl],[hf,15,15*Kl],[hf,30,30*Kl],[s,1,Oa],[s,5,5*Oa],[s,15,15*Oa],[s,30,30*Oa],[i,1,Zl],[i,3,3*Zl],[i,6,6*Zl],[i,12,12*Zl],[r,1,lc],[r,2,2*lc],[n,1,Ak],[e,1,U5],[e,3,3*U5],[t,1,hA]];function o(c,d,f){const g=d<c;g&&([c,d]=[d,c]);const y=f&&typeof f.range=="function"?f:l(c,d,f),x=y?y.range(c,+d+1):[];return g?x.reverse():x}function l(c,d,f){const g=Math.abs(d-c)/f,y=pk(([,,b])=>b).right(a,g);if(y===a.length)return t.every(sC(c/hA,d/hA,f));if(y===0)return $1.every(Math.max(sC(c,d,f),1));const[x,S]=a[g/a[y-1][2]<a[y][2]/g?y-1:y];return x.every(S)}return[o,l]}const[mle,gle]=d7(uc,kk,a_,u7,Nk,Pk),[vle,yle]=d7(cc,Rk,s_,my,Ck,Tk);function pA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function mA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function t0(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function xle(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=n0(i),d=r0(i),f=n0(s),g=r0(s),y=n0(a),x=r0(a),S=n0(o),b=r0(o),_=n0(l),E=r0(l),M={a:re,A:H,b:J,B:K,c:null,d:G5,e:G5,f:Vle,g:Jle,G:ece,H:Ble,I:Ule,j:zle,L:f7,m:Hle,M:$le,p:q,q:ne,Q:Y5,s:K5,S:Wle,u:Gle,U:qle,V:Xle,w:Yle,W:Kle,x:null,X:null,y:Zle,Y:Qle,Z:tce,"%":X5},P={a:ve,A:se,b:de,B:Ee,c:null,d:q5,e:q5,f:sce,g:mce,G:vce,H:nce,I:rce,j:ice,L:p7,m:ace,M:oce,p:Ve,q:Ue,Q:Y5,s:K5,S:lce,u:cce,U:uce,V:dce,w:fce,W:hce,x:null,X:null,y:pce,Y:gce,Z:yce,"%":X5},C={a:L,A:I,b:$,B:X,c:V,d:$5,e:$5,f:Lle,g:H5,G:V5,H:W5,I:W5,j:Rle,L:Ile,m:Nle,M:kle,p:U,q:Cle,Q:jle,s:Fle,S:Ole,u:Mle,U:Ele,V:Ale,w:Sle,W:Tle,x:Z,X:ee,y:H5,Y:V5,Z:Ple,"%":Dle};M.x=N(n,M),M.X=N(r,M),M.c=N(e,M),P.x=N(n,P),P.X=N(r,P),P.c=N(e,P);function N(ye,We){return function(ze){var Y=[],Ie=-1,ce=0,xe=ye.length,me,Fe,Be;for(ze instanceof Date||(ze=new Date(+ze));++Ie<xe;)ye.charCodeAt(Ie)===37&&(Y.push(ye.slice(ce,Ie)),(Fe=z5[me=ye.charAt(++Ie)])!=null?me=ye.charAt(++Ie):Fe=me==="e"?" ":"0",(Be=We[me])&&(me=Be(ze,Fe)),Y.push(me),ce=Ie+1);return Y.push(ye.slice(ce,Ie)),Y.join("")}}function O(ye,We){return function(ze){var Y=t0(1900,void 0,1),Ie=D(Y,ye,ze+="",0),ce,xe;if(Ie!=ze.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(We&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ce=mA(t0(Y.y,0,1)),xe=ce.getUTCDay(),ce=xe>4||xe===0?G1.ceil(ce):G1(ce),ce=i_.offset(ce,(Y.V-1)*7),Y.y=ce.getUTCFullYear(),Y.m=ce.getUTCMonth(),Y.d=ce.getUTCDate()+(Y.w+6)%7):(ce=pA(t0(Y.y,0,1)),xe=ce.getDay(),ce=xe>4||xe===0?W1.ceil(ce):W1(ce),ce=my.offset(ce,(Y.V-1)*7),Y.y=ce.getFullYear(),Y.m=ce.getMonth(),Y.d=ce.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),xe="Z"in Y?mA(t0(Y.y,0,1)).getUTCDay():pA(t0(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(xe+5)%7:Y.w+Y.U*7-(xe+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,mA(Y)):pA(Y)}}function D(ye,We,ze,Y){for(var Ie=0,ce=We.length,xe=ze.length,me,Fe;Ie<ce;){if(Y>=xe)return-1;if(me=We.charCodeAt(Ie++),me===37){if(me=We.charAt(Ie++),Fe=C[me in z5?We.charAt(Ie++):me],!Fe||(Y=Fe(ye,ze,Y))<0)return-1}else if(me!=ze.charCodeAt(Y++))return-1}return Y}function U(ye,We,ze){var Y=c.exec(We.slice(ze));return Y?(ye.p=d.get(Y[0].toLowerCase()),ze+Y[0].length):-1}function L(ye,We,ze){var Y=y.exec(We.slice(ze));return Y?(ye.w=x.get(Y[0].toLowerCase()),ze+Y[0].length):-1}function I(ye,We,ze){var Y=f.exec(We.slice(ze));return Y?(ye.w=g.get(Y[0].toLowerCase()),ze+Y[0].length):-1}function $(ye,We,ze){var Y=_.exec(We.slice(ze));return Y?(ye.m=E.get(Y[0].toLowerCase()),ze+Y[0].length):-1}function X(ye,We,ze){var Y=S.exec(We.slice(ze));return Y?(ye.m=b.get(Y[0].toLowerCase()),ze+Y[0].length):-1}function V(ye,We,ze){return D(ye,e,We,ze)}function Z(ye,We,ze){return D(ye,n,We,ze)}function ee(ye,We,ze){return D(ye,r,We,ze)}function re(ye){return a[ye.getDay()]}function H(ye){return s[ye.getDay()]}function J(ye){return l[ye.getMonth()]}function K(ye){return o[ye.getMonth()]}function q(ye){return i[+(ye.getHours()>=12)]}function ne(ye){return 1+~~(ye.getMonth()/3)}function ve(ye){return a[ye.getUTCDay()]}function se(ye){return s[ye.getUTCDay()]}function de(ye){return l[ye.getUTCMonth()]}function Ee(ye){return o[ye.getUTCMonth()]}function Ve(ye){return i[+(ye.getUTCHours()>=12)]}function Ue(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var We=N(ye+="",M);return We.toString=function(){return ye},We},parse:function(ye){var We=O(ye+="",!1);return We.toString=function(){return ye},We},utcFormat:function(ye){var We=N(ye+="",P);return We.toString=function(){return ye},We},utcParse:function(ye){var We=O(ye+="",!0);return We.toString=function(){return ye},We}}}var z5={"-":"",_:" ",0:"0"},xi=/^\s*\d+/,ble=/^%/,wle=/[\\^$*+?|[\]().{}]/g;function Pn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function _le(t){return t.replace(wle,"\\$&")}function n0(t){return new RegExp("^(?:"+t.map(_le).join("|")+")","i")}function r0(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Sle(t,e,n){var r=xi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Mle(t,e,n){var r=xi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ele(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ale(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Tle(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function V5(t,e,n){var r=xi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function H5(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ple(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Cle(t,e,n){var r=xi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Nle(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $5(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Rle(t,e,n){var r=xi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function W5(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function kle(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ole(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ile(t,e,n){var r=xi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Lle(t,e,n){var r=xi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Dle(t,e,n){var r=ble.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function jle(t,e,n){var r=xi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Fle(t,e,n){var r=xi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function G5(t,e){return Pn(t.getDate(),e,2)}function Ble(t,e){return Pn(t.getHours(),e,2)}function Ule(t,e){return Pn(t.getHours()%12||12,e,2)}function zle(t,e){return Pn(1+my.count(cc(t),t),e,3)}function f7(t,e){return Pn(t.getMilliseconds(),e,3)}function Vle(t,e){return f7(t,e)+"000"}function Hle(t,e){return Pn(t.getMonth()+1,e,2)}function $le(t,e){return Pn(t.getMinutes(),e,2)}function Wle(t,e){return Pn(t.getSeconds(),e,2)}function Gle(t){var e=t.getDay();return e===0?7:e}function qle(t,e){return Pn(s_.count(cc(t)-1,t),e,2)}function h7(t){var e=t.getDay();return e>=4||e===0?rm(t):rm.ceil(t)}function Xle(t,e){return t=h7(t),Pn(rm.count(cc(t),t)+(cc(t).getDay()===4),e,2)}function Yle(t){return t.getDay()}function Kle(t,e){return Pn(W1.count(cc(t)-1,t),e,2)}function Zle(t,e){return Pn(t.getFullYear()%100,e,2)}function Jle(t,e){return t=h7(t),Pn(t.getFullYear()%100,e,2)}function Qle(t,e){return Pn(t.getFullYear()%1e4,e,4)}function ece(t,e){var n=t.getDay();return t=n>=4||n===0?rm(t):rm.ceil(t),Pn(t.getFullYear()%1e4,e,4)}function tce(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pn(e/60|0,"0",2)+Pn(e%60,"0",2)}function q5(t,e){return Pn(t.getUTCDate(),e,2)}function nce(t,e){return Pn(t.getUTCHours(),e,2)}function rce(t,e){return Pn(t.getUTCHours()%12||12,e,2)}function ice(t,e){return Pn(1+i_.count(uc(t),t),e,3)}function p7(t,e){return Pn(t.getUTCMilliseconds(),e,3)}function sce(t,e){return p7(t,e)+"000"}function ace(t,e){return Pn(t.getUTCMonth()+1,e,2)}function oce(t,e){return Pn(t.getUTCMinutes(),e,2)}function lce(t,e){return Pn(t.getUTCSeconds(),e,2)}function cce(t){var e=t.getUTCDay();return e===0?7:e}function uce(t,e){return Pn(a_.count(uc(t)-1,t),e,2)}function m7(t){var e=t.getUTCDay();return e>=4||e===0?im(t):im.ceil(t)}function dce(t,e){return t=m7(t),Pn(im.count(uc(t),t)+(uc(t).getUTCDay()===4),e,2)}function fce(t){return t.getUTCDay()}function hce(t,e){return Pn(G1.count(uc(t)-1,t),e,2)}function pce(t,e){return Pn(t.getUTCFullYear()%100,e,2)}function mce(t,e){return t=m7(t),Pn(t.getUTCFullYear()%100,e,2)}function gce(t,e){return Pn(t.getUTCFullYear()%1e4,e,4)}function vce(t,e){var n=t.getUTCDay();return t=n>=4||n===0?im(t):im.ceil(t),Pn(t.getUTCFullYear()%1e4,e,4)}function yce(){return"+0000"}function X5(){return"%"}function Y5(t){return+t}function K5(t){return Math.floor(+t/1e3)}var Zh,g7,v7;xce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xce(t){return Zh=xle(t),g7=Zh.format,Zh.parse,v7=Zh.utcFormat,Zh.utcParse,Zh}function bce(t){return new Date(t)}function wce(t){return t instanceof Date?+t:+new Date(+t)}function Ok(t,e,n,r,i,s,a,o,l,c){var d=xk(),f=d.invert,g=d.domain,y=c(".%L"),x=c(":%S"),S=c("%I:%M"),b=c("%I %p"),_=c("%a %d"),E=c("%b %d"),M=c("%B"),P=c("%Y");function C(N){return(l(N)<N?y:o(N)<N?x:a(N)<N?S:s(N)<N?b:r(N)<N?i(N)<N?_:E:n(N)<N?M:P)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?g(Array.from(N,wce)):g().map(bce)},d.ticks=function(N){var O=g();return t(O[0],O[O.length-1],N??10)},d.tickFormat=function(N,O){return O==null?C:c(O)},d.nice=function(N){var O=g();return(!N||typeof N.range!="function")&&(N=e(O[0],O[O.length-1],N??10)),N?g(r7(O,N)):d},d.copy=function(){return py(d,Ok(t,e,n,r,i,s,a,o,l,c))},d}function _ce(){return Da.apply(Ok(vle,yle,cc,Rk,s_,my,Ck,Tk,hf,g7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Sce(){return Da.apply(Ok(mle,gle,uc,kk,a_,i_,Nk,Pk,hf,v7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function o_(){var t=0,e=1,n,r,i,s,a=vs,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(a=f,c):a};function d(f){return function(g){var y,x;return arguments.length?([y,x]=g,a=f(y,x),c):[a(0),a(1)]}}return c.range=d(Bm),c.rangeRound=d(yk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Vu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function y7(){var t=zu(o_()(vs));return t.copy=function(){return Vu(t,y7())},yc.apply(t,arguments)}function x7(){var t=_k(o_()).domain([1,10]);return t.copy=function(){return Vu(t,x7()).base(t.base())},yc.apply(t,arguments)}function b7(){var t=Sk(o_());return t.copy=function(){return Vu(t,b7()).constant(t.constant())},yc.apply(t,arguments)}function Ik(){var t=Mk(o_());return t.copy=function(){return Vu(t,Ik()).exponent(t.exponent())},yc.apply(t,arguments)}function Mce(){return Ik.apply(null,arguments).exponent(.5)}function w7(){var t=[],e=vs;function n(r){if(r!=null&&!isNaN(r=+r))return e((fy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Mu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>uoe(t,s/r))},n.copy=function(){return w7(e).domain(t)},yc.apply(n,arguments)}function l_(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=vs,d,f=!1,g;function y(S){return isNaN(S=+S)?g:(S=.5+((S=+d(S))-s)*(r*S<r*s?o:l),c(f?Math.max(0,Math.min(1,S)):S))}y.domain=function(S){return arguments.length?([t,e,n]=S,i=d(t=+t),s=d(e=+e),a=d(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,y):[t,e,n]},y.clamp=function(S){return arguments.length?(f=!!S,y):f},y.interpolator=function(S){return arguments.length?(c=S,y):c};function x(S){return function(b){var _,E,M;return arguments.length?([_,E,M]=b,c=Doe(S,[_,E,M]),y):[c(0),c(.5),c(1)]}}return y.range=x(Bm),y.rangeRound=x(yk),y.unknown=function(S){return arguments.length?(g=S,y):g},function(S){return d=S,i=S(t),s=S(e),a=S(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,y}}function _7(){var t=zu(l_()(vs));return t.copy=function(){return Vu(t,_7())},yc.apply(t,arguments)}function S7(){var t=_k(l_()).domain([.1,1,10]);return t.copy=function(){return Vu(t,S7()).base(t.base())},yc.apply(t,arguments)}function M7(){var t=Sk(l_());return t.copy=function(){return Vu(t,M7()).constant(t.constant())},yc.apply(t,arguments)}function Lk(){var t=Mk(l_());return t.copy=function(){return Vu(t,Lk()).exponent(t.exponent())},yc.apply(t,arguments)}function Ece(){return Lk.apply(null,arguments).exponent(.5)}const Z5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lv,scaleDiverging:_7,scaleDivergingLog:S7,scaleDivergingPow:Lk,scaleDivergingSqrt:Ece,scaleDivergingSymlog:M7,scaleIdentity:n7,scaleImplicit:aC,scaleLinear:H1,scaleLog:i7,scaleOrdinal:mk,scalePoint:D0,scalePow:Ek,scaleQuantile:o7,scaleQuantize:l7,scaleRadial:a7,scaleSequential:y7,scaleSequentialLog:x7,scaleSequentialPow:Ik,scaleSequentialQuantile:w7,scaleSequentialSqrt:Mce,scaleSequentialSymlog:b7,scaleSqrt:sle,scaleSymlog:s7,scaleThreshold:c7,scaleTime:_ce,scaleUtc:Sce,tickFormat:t7},Symbol.toStringTag,{value:"Module"}));var gA,J5;function c_(){if(J5)return gA;J5=1;var t=Lm();function e(n,r,i){for(var s=-1,a=n.length;++s<a;){var o=n[s],l=r(o);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,d=o}return d}return gA=e,gA}var vA,Q5;function E7(){if(Q5)return vA;Q5=1;function t(e,n){return e>n}return vA=t,vA}var yA,eF;function Ace(){if(eF)return yA;eF=1;var t=c_(),e=E7(),n=Fm();function r(i){return i&&i.length?t(i,n,e):void 0}return yA=r,yA}var Tce=Ace();const bu=Rn(Tce);var xA,tF;function A7(){if(tF)return xA;tF=1;function t(e,n){return e<n}return xA=t,xA}var bA,nF;function Pce(){if(nF)return bA;nF=1;var t=c_(),e=A7(),n=Fm();function r(i){return i&&i.length?t(i,n,e):void 0}return bA=r,bA}var Cce=Pce();const u_=Rn(Cce);var wA,rF;function Nce(){if(rF)return wA;rF=1;var t=ZR(),e=sl(),n=IH(),r=Fs();function i(s,a){var o=r(s)?t:n;return o(s,e(a,3))}return wA=i,wA}var _A,iF;function Rce(){if(iF)return _A;iF=1;var t=kH(),e=Nce();function n(r,i){return t(e(r,i),1)}return _A=n,_A}var kce=Rce();const Oce=Rn(kce);var SA,sF;function Ice(){if(sF)return SA;sF=1;var t=uk();function e(n,r){return t(n,r)}return SA=e,SA}var Lce=Ice();const kf=Rn(Lce);var Um=1e9,Dce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jk,hr=!0,La="[DecimalError] ",_f=La+"Invalid argument: ",Dk=La+"Exponent out of range: ",zm=Math.floor,tf=Math.pow,jce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ia,gi=1e7,ar=7,T7=9007199254740991,q1=zm(T7/ar),_t={};_t.absoluteValue=_t.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};_t.comparedTo=_t.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};_t.decimalPlaces=_t.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ar;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};_t.dividedBy=_t.div=function(t){return ic(this,new this.constructor(t))};_t.dividedToIntegerBy=_t.idiv=function(t){var e=this,n=e.constructor;return Kn(ic(e,new n(t),0,1),n.precision)};_t.equals=_t.eq=function(t){return!this.cmp(t)};_t.exponent=function(){return Xr(this)};_t.greaterThan=_t.gt=function(t){return this.cmp(t)>0};_t.greaterThanOrEqualTo=_t.gte=function(t){return this.cmp(t)>=0};_t.isInteger=_t.isint=function(){return this.e>this.d.length-2};_t.isNegative=_t.isneg=function(){return this.s<0};_t.isPositive=_t.ispos=function(){return this.s>0};_t.isZero=function(){return this.s===0};_t.lessThan=_t.lt=function(t){return this.cmp(t)<0};_t.lessThanOrEqualTo=_t.lte=function(t){return this.cmp(t)<1};_t.logarithm=_t.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ia))throw Error(La+"NaN");if(n.s<1)throw Error(La+(n.s?"NaN":"-Infinity"));return n.eq(ia)?new r(0):(hr=!1,e=ic(hv(n,s),hv(t,s),s),hr=!0,Kn(e,i))};_t.minus=_t.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?N7(e,t):P7(e,(t.s=-t.s,t))};_t.modulo=_t.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(La+"NaN");return n.s?(hr=!1,e=ic(n,t,0,1).times(t),hr=!0,n.minus(e)):Kn(new r(n),i)};_t.naturalExponential=_t.exp=function(){return C7(this)};_t.naturalLogarithm=_t.ln=function(){return hv(this)};_t.negated=_t.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};_t.plus=_t.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?P7(e,t):N7(e,(t.s=-t.s,t))};_t.precision=_t.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(_f+t);if(e=Xr(i)+1,r=i.d.length-1,n=r*ar+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};_t.squareRoot=_t.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(La+"NaN")}for(t=Xr(o),hr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ho(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(ic(o,s,a+2)).times(.5),Ho(s.d).slice(0,a)===(e=Ho(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Kn(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return hr=!0,Kn(r,n)};_t.times=_t.mul=function(t){var e,n,r,i,s,a,o,l,c,d=this,f=d.constructor,g=d.d,y=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=g.length,c=y.length,l<c&&(s=g,g=y,y=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+y[r]*g[i-r-1]+e,s[i--]=o%gi|0,e=o/gi|0;s[i]=(s[i]+e)%gi|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,hr?Kn(t,f.precision):t};_t.toDecimalPlaces=_t.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(rl(t,0,Um),e===void 0?e=r.rounding:rl(e,0,8),Kn(n,t+Xr(n)+1,e))};_t.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Of(r,!0):(rl(t,0,Um),e===void 0?e=i.rounding:rl(e,0,8),r=Kn(new i(r),t+1,e),n=Of(r,!0,t+1)),n};_t.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Of(i):(rl(t,0,Um),e===void 0?e=s.rounding:rl(e,0,8),r=Kn(new s(i),t+Xr(i)+1,e),n=Of(r.abs(),!1,t+Xr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};_t.toInteger=_t.toint=function(){var t=this,e=t.constructor;return Kn(new e(t),Xr(t)+1,e.rounding)};_t.toNumber=function(){return+this};_t.toPower=_t.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(ia);if(o=new l(o),!o.s){if(t.s<1)throw Error(La+"Infinity");return o}if(o.eq(ia))return o;if(r=l.precision,t.eq(ia))return Kn(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=d<0?-d:d)<=T7){for(i=new l(ia),e=Math.ceil(r/ar+4),hr=!1;n%2&&(i=i.times(o),oF(i.d,e)),n=zm(n/2),n!==0;)o=o.times(o),oF(o.d,e);return hr=!0,t.s<0?new l(ia).div(i):Kn(i,r)}}else if(s<0)throw Error(La+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,hr=!1,i=t.times(hv(o,r+c)),hr=!0,i=C7(i),i.s=s,i};_t.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Xr(i),r=Of(i,n<=s.toExpNeg||n>=s.toExpPos)):(rl(t,1,Um),e===void 0?e=s.rounding:rl(e,0,8),i=Kn(new s(i),t,e),n=Xr(i),r=Of(i,t<=n||n<=s.toExpNeg,t)),r};_t.toSignificantDigits=_t.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(rl(t,1,Um),e===void 0?e=r.rounding:rl(e,0,8)),Kn(new r(n),t,e)};_t.toString=_t.valueOf=_t.val=_t.toJSON=_t[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Xr(t),n=t.constructor;return Of(t,e<=n.toExpNeg||e>=n.toExpPos)};function P7(t,e){var n,r,i,s,a,o,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),hr?Kn(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(f/ar),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/gi|0,l[s]%=gi;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,hr?Kn(e,f):e}function rl(t,e,n){if(t!==~~t||t<e||t>n)throw Error(_f+t)}function Ho(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=ar-r.length,n&&(s+=pu(n)),s+=r;a=t[e],r=a+"",n=ar-r.length,n&&(s+=pu(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var ic=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%gi|0,a=s/gi|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*gi+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,d,f,g,y,x,S,b,_,E,M,P,C,N,O,D,U=r.constructor,L=r.s==i.s?1:-1,I=r.d,$=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(La+"Division by zero");for(l=r.e-i.e,O=$.length,C=I.length,y=new U(L),x=y.d=[],c=0;$[c]==(I[c]||0);)++c;if($[c]>(I[c]||0)&&--l,s==null?E=s=U.precision:a?E=s+(Xr(r)-Xr(i))+1:E=s,E<0)return new U(0);if(E=E/ar+2|0,c=0,O==1)for(d=0,$=$[0],E++;(c<C||d)&&E--;c++)M=d*gi+(I[c]||0),x[c]=M/$|0,d=M%$|0;else{for(d=gi/($[0]+1)|0,d>1&&($=t($,d),I=t(I,d),O=$.length,C=I.length),P=O,S=I.slice(0,O),b=S.length;b<O;)S[b++]=0;D=$.slice(),D.unshift(0),N=$[0],$[1]>=gi/2&&++N;do d=0,o=e($,S,O,b),o<0?(_=S[0],O!=b&&(_=_*gi+(S[1]||0)),d=_/N|0,d>1?(d>=gi&&(d=gi-1),f=t($,d),g=f.length,b=S.length,o=e(f,S,g,b),o==1&&(d--,n(f,O<g?D:$,g))):(d==0&&(o=d=1),f=$.slice()),g=f.length,g<b&&f.unshift(0),n(S,f,b),o==-1&&(b=S.length,o=e($,S,O,b),o<1&&(d++,n(S,O<b?D:$,b))),b=S.length):o===0&&(d++,S=[0]),x[c++]=d,o&&S[0]?S[b++]=I[P]||0:(S=[I[P]],b=1);while((P++<C||S[0]!==void 0)&&E--)}return x[0]||x.shift(),y.e=l,Kn(y,a?s+Xr(y)+1:s)}}();function C7(t,e){var n,r,i,s,a,o,l=0,c=0,d=t.constructor,f=d.precision;if(Xr(t)>16)throw Error(Dk+Xr(t));if(!t.s)return new d(ia);for(hr=!1,o=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(tf(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new d(ia),d.precision=o;;){if(i=Kn(i.times(t),o),n=n.times(++l),a=s.plus(ic(i,n,o)),Ho(a.d).slice(0,o)===Ho(s.d).slice(0,o)){for(;c--;)s=Kn(s.times(s),o);return d.precision=f,e==null?(hr=!0,Kn(s,f)):s}s=a}}function Xr(t){for(var e=t.e*ar,n=t.d[0];n>=10;n/=10)e++;return e}function MA(t,e,n){if(e>t.LN10.sd())throw hr=!0,n&&(t.precision=n),Error(La+"LN10 precision limit exceeded");return Kn(new t(t.LN10),e)}function pu(t){for(var e="";t--;)e+="0";return e}function hv(t,e){var n,r,i,s,a,o,l,c,d,f=1,g=10,y=t,x=y.d,S=y.constructor,b=S.precision;if(y.s<1)throw Error(La+(y.s?"NaN":"-Infinity"));if(y.eq(ia))return new S(0);if(e==null?(hr=!1,c=b):c=e,y.eq(10))return e==null&&(hr=!0),MA(S,c);if(c+=g,S.precision=c,n=Ho(x),r=n.charAt(0),s=Xr(y),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Ho(y.d),r=n.charAt(0),f++;s=Xr(y),r>1?(y=new S("0."+n),s++):y=new S(r+"."+n.slice(1))}else return l=MA(S,c+2,b).times(s+""),y=hv(new S(r+"."+n.slice(1)),c-g).plus(l),S.precision=b,e==null?(hr=!0,Kn(y,b)):y;for(o=a=y=ic(y.minus(ia),y.plus(ia),c),d=Kn(y.times(y),c),i=3;;){if(a=Kn(a.times(d),c),l=o.plus(ic(a,new S(i),c)),Ho(l.d).slice(0,c)===Ho(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(MA(S,c+2,b).times(s+""))),o=ic(o,new S(f),c),S.precision=b,e==null?(hr=!0,Kn(o,b)):o;o=l,i+=2}}function aF(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=zm(n/ar),t.d=[],r=(n+1)%ar,n<0&&(r+=ar),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ar;r<i;)t.d.push(+e.slice(r,r+=ar));e=e.slice(r),r=ar-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),hr&&(t.e>q1||t.e<-q1))throw Error(Dk+n)}else t.s=0,t.e=0,t.d=[0];return t}function Kn(t,e,n){var r,i,s,a,o,l,c,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=ar,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/ar),s=f.length,d>=s)return t;for(c=s=f[d],a=1;s>=10;s/=10)a++;r%=ar,i=r-ar+a}if(n!==void 0&&(s=tf(10,a-i-1),o=c/s%10|0,l=e<0||f[d+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/tf(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(s=Xr(t),f.length=1,e=e-s-1,f[0]=tf(10,(ar-e%ar)%ar),t.e=zm(-e/ar)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=tf(10,ar-r),f[d]=i>0?(c/tf(10,a-i)%tf(10,i)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==gi&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=gi)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(hr&&(t.e>q1||t.e<-q1))throw Error(Dk+Xr(t));return t}function N7(t,e){var n,r,i,s,a,o,l,c,d,f,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),hr?Kn(e,y):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(d=a<0,d?(n=l,a=-a,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(y/ar),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=gi-1;--l[s],l[i]+=gi}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,hr?Kn(e,y):e):new g(0)}function Of(t,e,n){var r,i=Xr(t),s=Ho(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+pu(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+pu(-i-1)+s,n&&(r=n-a)>0&&(s+=pu(r))):i>=a?(s+=pu(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+pu(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=pu(r))),t.s<0?"-"+s:s}function oF(t,e){if(t.length>e)return t.length=e,!0}function R7(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(_f+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return aF(a,s.toString())}else if(typeof s!="string")throw Error(_f+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,jce.test(s))aF(a,s);else throw Error(_f+s)}if(i.prototype=_t,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=R7,i.config=i.set=Fce,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Fce(t){if(!t||typeof t!="object")throw Error(La+"Object expected");var e,n,r,i=["precision",1,Um,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(zm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(_f+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(_f+n+": "+r);return this}var jk=R7(Dce);ia=new jk(1);const Wn=jk;function Bce(t){return Hce(t)||Vce(t)||zce(t)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zce(t,e){if(t){if(typeof t=="string")return uC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uC(t,e)}}function Vce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Hce(t){if(Array.isArray(t))return uC(t)}function uC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $ce=function(e){return e},k7={},O7=function(e){return e===k7},lF=function(e){return function n(){return arguments.length===0||arguments.length===1&&O7(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Wce=function t(e,n){return e===1?n:lF(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==k7}).length;return a>=e?n.apply(void 0,i):t(e-a,lF(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=i.map(function(f){return O7(f)?l.shift():f});return n.apply(void 0,Bce(d).concat(l))}))})},d_=function(e){return Wce(e.length,e)},dC=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Gce=d_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),qce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return $ce;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},fC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},I7=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function Xce(t){var e;return t===0?e=1:e=Math.floor(new Wn(t).abs().log(10).toNumber())+1,e}function Yce(t,e,n){for(var r=new Wn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Kce=d_(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Zce=d_(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Jce=d_(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const f_={rangeStep:Yce,getDigitCount:Xce,interpolateNumber:Kce,uninterpolateNumber:Zce,uninterpolateTruncation:Jce};function hC(t){return tue(t)||eue(t)||L7(t)||Qce()}function Qce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function tue(t){if(Array.isArray(t))return pC(t)}function pv(t,e){return iue(t)||rue(t,e)||L7(t,e)||nue()}function nue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L7(t,e){if(t){if(typeof t=="string")return pC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pC(t,e)}}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rue(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function iue(t){if(Array.isArray(t))return t}function D7(t){var e=pv(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function j7(t,e,n){if(t.lte(0))return new Wn(0);var r=f_.getDigitCount(t.toNumber()),i=new Wn(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Wn(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new Wn(Math.ceil(l))}function sue(t,e,n){var r=1,i=new Wn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Wn(10).pow(f_.getDigitCount(t)-1),i=new Wn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Wn(Math.floor(t)))}else t===0?i=new Wn(Math.floor((e-1)/2)):n||(i=new Wn(Math.floor(t)));var a=Math.floor((e-1)/2),o=qce(Gce(function(l){return i.add(new Wn(l-a).mul(r)).toNumber()}),dC);return o(0,e)}function F7(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Wn(0),tickMin:new Wn(0),tickMax:new Wn(0)};var s=j7(new Wn(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Wn(0):(a=new Wn(t).add(e).div(2),a=a.sub(new Wn(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new Wn(e).sub(a).div(s).toNumber()),c=o+l+1;return c>n?F7(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:s,tickMin:a.sub(new Wn(o).mul(s)),tickMax:a.add(new Wn(l).mul(s))})}function aue(t){var e=pv(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=D7([n,r]),l=pv(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(hC(dC(0,i-1).map(function(){return 1/0}))):[].concat(hC(dC(0,i-1).map(function(){return-1/0})),[d]);return n>r?fC(f):f}if(c===d)return sue(c,i,s);var g=F7(c,d,a,s),y=g.step,x=g.tickMin,S=g.tickMax,b=f_.rangeStep(x,S.add(new Wn(.1).mul(y)),y);return n>r?fC(b):b}function oue(t,e){var n=pv(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=D7([r,i]),o=pv(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=j7(new Wn(c).sub(l).div(d-1),s,0),g=[].concat(hC(f_.rangeStep(new Wn(l),new Wn(c).sub(new Wn(.99).mul(f)),f)),[c]);return r>i?fC(g):g}var lue=I7(aue),cue=I7(oue),uue="Invariant failed";function If(t,e){throw new Error(uue)}var due=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X1.apply(this,arguments)}function fue(t,e){return gue(t)||mue(t,e)||pue(t,e)||hue()}function hue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pue(t,e){if(t){if(typeof t=="string")return cF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cF(t,e)}}function cF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function gue(t){if(Array.isArray(t))return t}function vue(t,e){if(t==null)return{};var n=yue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z7(r.key),r)}}function wue(t,e,n){return e&&bue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ue(t,e,n){return e=Y1(e),Sue(t,B7()?Reflect.construct(e,n||[],Y1(t).constructor):e.apply(t,n))}function Sue(t,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mue(t)}function Mue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B7=function(){return!!t})()}function Y1(t){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y1(t)}function Eue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mC(t,e)}function mC(t,e){return mC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mC(t,e)}function U7(t,e,n){return e=z7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z7(t){var e=Aue(t,"string");return sm(e)=="symbol"?e:e+""}function Aue(t,e){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gy=function(t){function e(){return xue(this,e),_ue(this,e,arguments)}return Eue(e,t),wue(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,g=vue(r,due),y=kt(g,!1);this.props.direction==="x"&&d.type!=="number"&&If();var x=l.map(function(S){var b=c(S,o),_=b.x,E=b.y,M=b.value,P=b.errorVal;if(!P)return null;var C=[],N,O;if(Array.isArray(P)){var D=fue(P,2);N=D[0],O=D[1]}else N=O=P;if(s==="vertical"){var U=d.scale,L=E+i,I=L+a,$=L-a,X=U(M-N),V=U(M+O);C.push({x1:V,y1:I,x2:V,y2:$}),C.push({x1:X,y1:L,x2:V,y2:L}),C.push({x1:X,y1:I,x2:X,y2:$})}else if(s==="horizontal"){var Z=f.scale,ee=_+i,re=ee-a,H=ee+a,J=Z(M-N),K=Z(M+O);C.push({x1:re,y1:K,x2:H,y2:K}),C.push({x1:ee,y1:J,x2:ee,y2:K}),C.push({x1:re,y1:J,x2:H,y2:J})}return oe.createElement(mn,X1({className:"recharts-errorBar",key:"bar-".concat(C.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},y),C.map(function(q){return oe.createElement("line",X1({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return oe.createElement(mn,{className:"recharts-errorBars"},x)}}])}(oe.Component);U7(gy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});U7(gy,"displayName","ErrorBar");function mv(t){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function uF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(n),!0).forEach(function(r){Tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e,n){return e=Pue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pue(t){var e=Cue(t,"string");return mv(e)=="symbol"?e:e+""}function Cue(t,e){if(mv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V7=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=na(n,Vo);if(!a)return null;var o=Vo.defaultProps,l=o!==void 0?Dd(Dd({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(d,f){var g=f.item,y=f.props,x=y.sectors||y.data||[];return d.concat(x.map(function(S){return{type:a.props.iconType||g.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):c=(r||[]).map(function(d){var f=d.item,g=f.type.defaultProps,y=g!==void 0?Dd(Dd({},g),f.props):{},x=y.dataKey,S=y.name,b=y.legendType,_=y.hide;return{inactive:_,dataKey:x,type:l.iconType||b||"square",color:Fk(f),value:S||x,payload:y}}),Dd(Dd(Dd({},l),Vo.getWithHeight(a,i)),{},{payload:c,item:a})};function gv(t){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function dF(t){return Oue(t)||kue(t)||Rue(t)||Nue()}function Nue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rue(t,e){if(t){if(typeof t=="string")return gC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gC(t,e)}}function kue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oue(t){if(Array.isArray(t))return gC(t)}function gC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(n),!0).forEach(function(r){Wp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wp(t,e,n){return e=Iue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iue(t){var e=Lue(t,"string");return gv(e)=="symbol"?e:e+""}function Lue(t,e){if(gv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dr(t,e,n){return Qt(t)||Qt(e)?n:ai(e)?la(t,e,n):Gt(e)?e(t):n}function j0(t,e,n,r){var i=Oce(t,function(o){return Dr(o,e)});if(n==="number"){var s=i.filter(function(o){return et(o)||parseFloat(o)});return s.length?[u_(s),bu(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Qt(o)}):i;return a.map(function(o){return ai(o)||o instanceof Date?o:""})}var Due=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var d=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,g=c>=o-1?i[0].coordinate:i[c+1].coordinate,y=void 0;if(ms(f-d)!==ms(g-f)){var x=[];if(ms(g-f)===ms(l[1]-l[0])){y=g;var S=f+l[1]-l[0];x[0]=Math.min(S,(S+d)/2),x[1]=Math.max(S,(S+d)/2)}else{y=d;var b=g+l[1]-l[0];x[0]=Math.min(f,(b+f)/2),x[1]=Math.max(f,(b+f)/2)}var _=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){a=i[c].index;break}}else{var E=Math.min(d,g),M=Math.max(d,g);if(e>(E+f)/2&&e<=(M+f)/2){a=i[c].index;break}}}else for(var P=0;P<o;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<o-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===o-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){a=r[P].index;break}return a},Fk=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Tr(Tr({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},jue=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var d=s[o[l]].stackGroups,f=Object.keys(d),g=0,y=f.length;g<y;g++){var x=d[f[g]],S=x.items,b=x.cateAxisId,_=S.filter(function(O){return rc(O.type).indexOf("Bar")>=0});if(_&&_.length){var E=_[0].type.defaultProps,M=E!==void 0?Tr(Tr({},E),_[0].props):_[0].props,P=M.barSize,C=M[b];a[C]||(a[C]=[]);var N=Qt(P)?n:P;a[C].push({item:_[0],stackList:_.slice(1),barSize:Qt(N)?void 0:gs(N,r,0)})}}return a},Fue=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=gs(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var g=!1,y=i/l,x=a.reduce(function(P,C){return P+C.barSize||0},0);x+=(l-1)*c,x>=i&&(x-=(l-1)*c,c=0),x>=i&&y>0&&(g=!0,y*=.9,x=l*y);var S=(i-x)/2>>0,b={offset:S-c,size:0};d=a.reduce(function(P,C){var N={item:C.item,position:{offset:b.offset+b.size+c,size:g?y:C.barSize}},O=[].concat(dF(P),[N]);return b=O[O.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(D){O.push({item:D,position:b})}),O},f)}else{var _=gs(r,i,0,!0);i-2*_-(l-1)*c<=0&&(c=0);var E=(i-2*_-(l-1)*c)/l;E>1&&(E>>=0);var M=o===+o?Math.min(E,o):E;d=a.reduce(function(P,C,N){var O=[].concat(dF(P),[{item:C.item,position:{offset:_+(E+c)*N+(E-M)/2,size:M}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(D){O.push({item:D,position:O[O.length-1].position})}),O},f)}return d},Bue=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=V7({children:s,legendWidth:l});if(c){var d=i||{},f=d.width,g=d.height,y=c.align,x=c.verticalAlign,S=c.layout;if((S==="vertical"||S==="horizontal"&&x==="middle")&&y!=="center"&&et(e[y]))return Tr(Tr({},e),{},Wp({},y,e[y]+(f||0)));if((S==="horizontal"||S==="vertical"&&y==="center")&&x!=="middle"&&et(e[x]))return Tr(Tr({},e),{},Wp({},x,e[x]+(g||0)))}return e},Uue=function(e,n,r){return Qt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},H7=function(e,n,r,i,s){var a=n.props.children,o=ca(a,gy).filter(function(c){return Uue(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=Dr(d,r);if(Qt(f))return c;var g=Array.isArray(f)?[u_(f),bu(f)]:[f,f],y=l.reduce(function(x,S){var b=Dr(d,S,0),_=g[0]-Math.abs(Array.isArray(b)?b[0]:b),E=g[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(_,x[0]),Math.max(E,x[1])]},[1/0,-1/0]);return[Math.min(y[0],c[0]),Math.max(y[1],c[1])]},[1/0,-1/0])}return null},zue=function(e,n,r,i,s){var a=n.map(function(o){return H7(e,o,r,s,i)}).filter(function(o){return!Qt(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},$7=function(e,n,r,i,s){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&H7(e,l,c,i)||j0(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},W7=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},G7=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(a=!0),l.coordinate});return s||o.push(n),a||o.push(r),o},Jl=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ms(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var g=s?s.indexOf(f):f;return{coordinate:i(g)+c,value:f,offset:c}});return d.filter(function(f){return!jm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,g){return{coordinate:i(f)+c,value:f,index:g,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,g){return{coordinate:i(f)+c,value:s?s[f]:f,index:g,offset:c}})},EA=new WeakMap,Wx=function(e,n){if(typeof n!="function")return e;EA.has(e)||EA.set(e,new WeakMap);var r=EA.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},q7=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:lv(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:H1(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:D0(),realScaleType:"point"}:s==="category"?{scale:lv(),realScaleType:"band"}:{scale:H1(),realScaleType:"linear"};if(Cf(i)){var l="scale".concat(Yw(i));return{scale:(Z5[l]||D0)(),realScaleType:Z5[l]?l:"point"}}return Gt(i)?{scale:i}:{scale:D0(),realScaleType:"point"}},hF=1e-4,X7=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-hF,a=Math.max(i[0],i[1])+hF,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},Vue=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Hue=function(e,n){if(!n||n.length!==2||!et(n[0])||!et(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!et(e[0])||e[0]<r)&&(s[0]=r),(!et(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},$ue=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=jm(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},Wue=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=jm(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Gue={sign:$ue,expand:Ore,none:Zp,silhouette:Ire,wiggle:Lre,positive:Wue},que=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=Gue[r],a=kre().keys(i).value(function(o,l){return+Dr(o,l,0)}).order(GP).offset(s);return a(e)},Xue=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},c=o.reduce(function(f,g){var y,x=(y=g.type)!==null&&y!==void 0&&y.defaultProps?Tr(Tr({},g.type.defaultProps),g.props):g.props,S=x.stackId,b=x.hide;if(b)return f;var _=x[r],E=f[_]||{hasStack:!1,stackGroups:{}};if(ai(S)){var M=E.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};M.items.push(g),E.hasStack=!0,E.stackGroups[S]=M}else E.stackGroups[$f("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return Tr(Tr({},f),{},Wp({},_,E))},l),d={};return Object.keys(c).reduce(function(f,g){var y=c[g];if(y.hasStack){var x={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(S,b){var _=y.stackGroups[b];return Tr(Tr({},S),{},Wp({},b,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:que(e,_.items,s)}))},x)}return Tr(Tr({},f),{},Wp({},g,y))},d)},Y7=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=lue(c,s,o);return e.domain([u_(d),bu(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),g=cue(f,s,o);return{niceTicks:g}}return null};function K1(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Qt(i[e.dataKey])){var o=E1(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Dr(i,Qt(a)?e.dataKey:a);return Qt(l)?null:e.scale(l)}var pF=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Dr(a,n.dataKey,n.domain[o]);return Qt(l)?null:n.scale(l)-s/2+i},Yue=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},Kue=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Tr(Tr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(ai(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},Zue=function(e){return e.reduce(function(n,r){return[u_(r.concat([n[0]]).filter(et)),bu(r.concat([n[1]]).filter(et))]},[1/0,-1/0])},K7=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,d){var f=Zue(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},mF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vC=function(e,n,r){if(Gt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(et(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(mF.test(e[0])){var s=+mF.exec(e[0])[1];i[0]=n[0]-s}else Gt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(et(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(gF.test(e[1])){var a=+gF.exec(e[1])[1];i[1]=n[1]+a}else Gt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Z1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=fk(n,function(f){return f.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],d=s[o-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},vF=function(e,n,r){return!e||!e.length||kf(e,la(r,"type.defaultProps.domain"))?n:e},Z7=function(e,n){var r=e.type.defaultProps?Tr(Tr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return Tr(Tr({},kt(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:Fk(e),value:Dr(n,i),type:l,payload:n,chartType:c,hide:d})};function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function yF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(n),!0).forEach(function(r){J7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J7(t,e,n){return e=Jue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jue(t){var e=Que(t,"string");return vv(e)=="symbol"?e:e+""}function Que(t,e){if(vv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ede(t,e){return ide(t)||rde(t,e)||nde(t,e)||tde()}function tde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nde(t,e){if(t){if(typeof t=="string")return xF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xF(t,e)}}function xF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function ide(t){if(Array.isArray(t))return t}var J1=Math.PI/180,sde=function(e){return e*180/Math.PI},nr=function(e,n,r,i){return{x:e+Math.cos(-J1*i)*r,y:n+Math.sin(-J1*i)*r}},Q7=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},ade=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.startAngle,c=e.endAngle,d=gs(e.cx,a,a/2),f=gs(e.cy,o,o/2),g=Q7(a,o,r),y=gs(e.innerRadius,g,0),x=gs(e.outerRadius,g,g*.8),S=Object.keys(n);return S.reduce(function(b,_){var E=n[_],M=E.domain,P=E.reversed,C;if(Qt(E.range))i==="angleAxis"?C=[l,c]:i==="radiusAxis"&&(C=[y,x]),P&&(C=[C[1],C[0]]);else{C=E.range;var N=C,O=ede(N,2);l=O[0],c=O[1]}var D=q7(E,s),U=D.realScaleType,L=D.scale;L.domain(M).range(C),X7(L);var I=Y7(L,ql(ql({},E),{},{realScaleType:U})),$=ql(ql(ql({},E),I),{},{range:C,radius:x,realScaleType:U,scale:L,cx:d,cy:f,innerRadius:y,outerRadius:x,startAngle:l,endAngle:c});return ql(ql({},b),{},J7({},_,$))},{})},ode=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},lde=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=ode({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:sde(c),angleInRadian:c}},cde=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},ude=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},bF=function(e,n){var r=e.x,i=e.y,s=lde({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var d=cde(n),f=d.startAngle,g=d.endAngle,y=o,x;if(f<=g){for(;y>g;)y-=360;for(;y<f;)y+=360;x=y>=f&&y<=g}else{for(;y>f;)y-=360;for(;y<g;)y+=360;x=y>=g&&y<=f}return x?ql(ql({},n),{},{radius:a,angle:ude(y,n)}):null},e$=function(e){return!B.isValidElement(e)&&!Gt(e)&&typeof e!="boolean"?e.className:""};function yv(t){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}var dde=["offset"];function fde(t){return gde(t)||mde(t)||pde(t)||hde()}function hde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pde(t,e){if(t){if(typeof t=="string")return yC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yC(t,e)}}function mde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gde(t){if(Array.isArray(t))return yC(t)}function yC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vde(t,e){if(t==null)return{};var n=yde(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(n),!0).forEach(function(r){xde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xde(t,e,n){return e=bde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bde(t){var e=wde(t,"string");return yv(e)=="symbol"?e:e+""}function wde(t,e){if(yv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}var _de=function(e){var n=e.value,r=e.formatter,i=Qt(e.children)?n:e.children;return Gt(r)?r(i):i},Sde=function(e,n){var r=ms(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Mde=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,d=l.cy,f=l.innerRadius,g=l.outerRadius,y=l.startAngle,x=l.endAngle,S=l.clockWise,b=(f+g)/2,_=Sde(y,x),E=_>=0?1:-1,M,P;i==="insideStart"?(M=y+E*a,P=S):i==="insideEnd"?(M=x-E*a,P=!S):i==="end"&&(M=x+E*a,P=S),P=_<=0?P:!P;var C=nr(c,d,b,M),N=nr(c,d,b,M+(P?1:-1)*359),O="M".concat(C.x,",").concat(C.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(P?0:1,`,
    `).concat(N.x,",").concat(N.y),D=Qt(e.id)?$f("recharts-radial-line-"):e.id;return oe.createElement("text",xv({},r,{dominantBaseline:"central",className:cn("recharts-radial-bar-label",o)}),oe.createElement("defs",null,oe.createElement("path",{id:D,d:O})),oe.createElement("textPath",{xlinkHref:"#".concat(D)},n))},Ede=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,d=s.startAngle,f=s.endAngle,g=(d+f)/2;if(i==="outside"){var y=nr(a,o,c+r,g),x=y.x,S=y.y;return{x,y:S,textAnchor:x>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,_=nr(a,o,b,g),E=_.x,M=_.y;return{x:E,y:M,textAnchor:"middle",verticalAnchor:"middle"}},Ade=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,c=a.width,d=a.height,f=d>=0?1:-1,g=f*i,y=f>0?"end":"start",x=f>0?"start":"end",S=c>=0?1:-1,b=S*i,_=S>0?"end":"start",E=S>0?"start":"end";if(s==="top"){var M={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:y};return ii(ii({},M),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var P={x:o+c/2,y:l+d+g,textAnchor:"middle",verticalAnchor:x};return ii(ii({},P),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(s==="left"){var C={x:o-b,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return ii(ii({},C),r?{width:Math.max(C.x-r.x,0),height:d}:{})}if(s==="right"){var N={x:o+c+b,y:l+d/2,textAnchor:E,verticalAnchor:"middle"};return ii(ii({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var O=r?{width:c,height:d}:{};return s==="insideLeft"?ii({x:o+b,y:l+d/2,textAnchor:E,verticalAnchor:"middle"},O):s==="insideRight"?ii({x:o+c-b,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},O):s==="insideTop"?ii({x:o+c/2,y:l+g,textAnchor:"middle",verticalAnchor:x},O):s==="insideBottom"?ii({x:o+c/2,y:l+d-g,textAnchor:"middle",verticalAnchor:y},O):s==="insideTopLeft"?ii({x:o+b,y:l+g,textAnchor:E,verticalAnchor:x},O):s==="insideTopRight"?ii({x:o+c-b,y:l+g,textAnchor:_,verticalAnchor:x},O):s==="insideBottomLeft"?ii({x:o+b,y:l+d-g,textAnchor:E,verticalAnchor:y},O):s==="insideBottomRight"?ii({x:o+c-b,y:l+d-g,textAnchor:_,verticalAnchor:y},O):Dm(s)&&(et(s.x)||df(s.x))&&(et(s.y)||df(s.y))?ii({x:o+gs(s.x,c),y:l+gs(s.y,d),textAnchor:"end",verticalAnchor:"end"},O):ii({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},Tde=function(e){return"cx"in e&&et(e.cx)};function vi(t){var e=t.offset,n=e===void 0?5:e,r=vde(t,dde),i=ii({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,g=i.textBreakAll;if(!s||Qt(o)&&Qt(l)&&!B.isValidElement(c)&&!Gt(c))return null;if(B.isValidElement(c))return B.cloneElement(c,i);var y;if(Gt(c)){if(y=B.createElement(c,i),B.isValidElement(y))return y}else y=_de(i);var x=Tde(s),S=kt(i,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Mde(i,y,S);var b=x?Ede(i):Ade(i);return oe.createElement(Rf,xv({className:cn("recharts-label",f)},S,b,{breakAll:g}),y)}vi.displayName="Label";var t$=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,g=e.y,y=e.top,x=e.left,S=e.width,b=e.height,_=e.clockWise,E=e.labelViewBox;if(E)return E;if(et(S)&&et(b)){if(et(f)&&et(g))return{x:f,y:g,width:S,height:b};if(et(y)&&et(x))return{x:y,y:x,width:S,height:b}}return et(f)&&et(g)?{x:f,y:g,width:0,height:0}:et(n)&&et(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:_}:e.viewBox?e.viewBox:{}},Pde=function(e,n){return e?e===!0?oe.createElement(vi,{key:"label-implicit",viewBox:n}):ai(e)?oe.createElement(vi,{key:"label-implicit",viewBox:n,value:e}):B.isValidElement(e)?e.type===vi?B.cloneElement(e,{key:"label-implicit",viewBox:n}):oe.createElement(vi,{key:"label-implicit",content:e,viewBox:n}):Gt(e)?oe.createElement(vi,{key:"label-implicit",content:e,viewBox:n}):Dm(e)?oe.createElement(vi,xv({viewBox:n},e,{key:"label-implicit"})):null:null},Cde=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=t$(e),a=ca(i,vi).map(function(l,c){return B.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return a;var o=Pde(e.label,n||s);return[o].concat(fde(a))};vi.parseViewBox=t$;vi.renderCallByParent=Cde;var AA,_F;function Nde(){if(_F)return AA;_F=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return AA=t,AA}var Rde=Nde();const kde=Rn(Rde);function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}var Ode=["valueAccessor"],Ide=["data","dataKey","clockWise","id","textBreakAll"];function Lde(t){return Bde(t)||Fde(t)||jde(t)||Dde()}function Dde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jde(t,e){if(t){if(typeof t=="string")return xC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xC(t,e)}}function Fde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bde(t){if(Array.isArray(t))return xC(t)}function xC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q1.apply(this,arguments)}function SF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(n),!0).forEach(function(r){Ude(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ude(t,e,n){return e=zde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zde(t){var e=Vde(t,"string");return bv(e)=="symbol"?e:e+""}function Vde(t,e){if(bv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EF(t,e){if(t==null)return{};var n=Hde(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $de=function(e){return Array.isArray(e.value)?kde(e.value):e.value};function Zo(t){var e=t.valueAccessor,n=e===void 0?$de:e,r=EF(t,Ode),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=EF(r,Ide);return!i||!i.length?null:oe.createElement(mn,{className:"recharts-label-list"},i.map(function(d,f){var g=Qt(s)?n(d,f):Dr(d&&d.payload,s),y=Qt(o)?{}:{id:"".concat(o,"-").concat(f)};return oe.createElement(vi,Q1({},kt(d,!0),c,y,{parentViewBox:d.parentViewBox,value:g,textBreakAll:l,viewBox:vi.parseViewBox(Qt(a)?d:MF(MF({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Zo.displayName="LabelList";function Wde(t,e){return t?t===!0?oe.createElement(Zo,{key:"labelList-implicit",data:e}):oe.isValidElement(t)||Gt(t)?oe.createElement(Zo,{key:"labelList-implicit",data:e,content:t}):Dm(t)?oe.createElement(Zo,Q1({data:e},t,{key:"labelList-implicit"})):null:null}function Gde(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ca(r,Zo).map(function(a,o){return B.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=Wde(t.label,e);return[s].concat(Lde(i))}Zo.renderCallByParent=Gde;function wv(t){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function bC(){return bC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bC.apply(this,arguments)}function AF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(n),!0).forEach(function(r){qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qde(t,e,n){return e=Xde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xde(t){var e=Yde(t,"string");return wv(e)=="symbol"?e:e+""}function Yde(t,e){if(wv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kde=function(e,n){var r=ms(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Gx=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/J1,g=c?s:s+a*f,y=nr(n,r,d,g),x=nr(n,r,i,g),S=c?s-a*f:s,b=nr(n,r,d*Math.cos(f*J1),S);return{center:y,circleTangency:x,lineTangency:b,theta:f}},n$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=Kde(a,o),c=a+l,d=nr(n,r,s,a),f=nr(n,r,s,c),g="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var y=nr(n,r,i,a),x=nr(n,r,i,c);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},Zde=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=ms(d-c),g=Gx({cx:n,cy:r,radius:s,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),y=g.circleTangency,x=g.lineTangency,S=g.theta,b=Gx({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),_=b.circleTangency,E=b.lineTangency,M=b.theta,P=l?Math.abs(c-d):Math.abs(c-d)-S-M;if(P<0)return o?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):n$({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d});var C="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var N=Gx({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=N.circleTangency,D=N.lineTangency,U=N.theta,L=Gx({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),I=L.circleTangency,$=L.lineTangency,X=L.theta,V=l?Math.abs(c-d):Math.abs(c-d)-U-X;if(V<0&&a===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},Jde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},r$=function(e){var n=TF(TF({},Jde),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,g=n.className;if(a<s||d===f)return null;var y=cn("recharts-sector",g),x=a-s,S=gs(o,x,0,!0),b;return S>0&&Math.abs(d-f)<360?b=Zde({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(S,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):b=n$({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:f}),oe.createElement("path",bC({},kt(n,!0),{className:y,d:b,role:"img"}))};function _v(t){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function wC(){return wC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wC.apply(this,arguments)}function PF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(n),!0).forEach(function(r){Qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qde(t,e,n){return e=efe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function efe(t){var e=tfe(t,"string");return _v(e)=="symbol"?e:e+""}function tfe(t,e){if(_v(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NF={curveBasisClosed:wre,curveBasisOpen:_re,curveBasis:bre,curveBumpX:are,curveBumpY:ore,curveLinearClosed:Sre,curveLinear:Zw,curveMonotoneX:Mre,curveMonotoneY:Ere,curveNatural:Are,curveStep:Tre,curveStepAfter:Cre,curveStepBefore:Pre},qx=function(e){return e.x===+e.x&&e.y===+e.y},i0=function(e){return e.x},s0=function(e){return e.y},nfe=function(e,n){if(Gt(e))return e;var r="curve".concat(Yw(e));return(r==="curveMonotone"||r==="curveBump")&&n?NF["".concat(r).concat(n==="vertical"?"Y":"X")]:NF[r]||Zw},rfe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=nfe(r,o),f=c?s.filter(function(S){return qx(S)}):s,g;if(Array.isArray(a)){var y=c?a.filter(function(S){return qx(S)}):a,x=f.map(function(S,b){return CF(CF({},S),{},{base:y[b]})});return o==="vertical"?g=jx().y(s0).x1(i0).x0(function(S){return S.base.x}):g=jx().x(i0).y1(s0).y0(function(S){return S.base.y}),g.defined(qx).curve(d),g(x)}return o==="vertical"&&et(a)?g=jx().y(s0).x1(i0).x0(a):et(a)?g=jx().x(i0).y1(s0).y0(a):g=tH().x(i0).y(s0),g.defined(qx).curve(d),g(f)},Sf=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?rfe(e):i;return oe.createElement("path",wC({},kt(e,!1),A1(e),{className:cn("recharts-curve",n),d:a,ref:s}))},TA={exports:{}},PA,RF;function ife(){if(RF)return PA;RF=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return PA=t,PA}var CA,kF;function sfe(){if(kF)return CA;kF=1;var t=ife();function e(){}function n(){}return n.resetWarningCache=e,CA=function(){function r(a,o,l,c,d,f){if(f!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},CA}var OF;function afe(){return OF||(OF=1,TA.exports=sfe()()),TA.exports}var ofe=afe();const Ln=Rn(ofe);var lfe=Object.getOwnPropertyNames,cfe=Object.getOwnPropertySymbols,ufe=Object.prototype.hasOwnProperty;function IF(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function Xx(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function LF(t){return lfe(t).concat(cfe(t))}var dfe=Object.hasOwn||function(t,e){return ufe.call(t,e)};function qf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ffe="__v",hfe="__o",pfe="_owner",DF=Object.getOwnPropertyDescriptor,jF=Object.keys;function mfe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function gfe(t,e){return qf(t.getTime(),e.getTime())}function vfe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function yfe(t,e){return t===e}function FF(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var c=e.entries(),d=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var g=a.value,y=o.value;if(n.equals(g[0],y[0],l,f,t,e,n)&&n.equals(g[1],y[1],g[0],y[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var xfe=qf;function bfe(t,e,n){var r=jF(t),i=r.length;if(jF(e).length!==i)return!1;for(;i-- >0;)if(!i$(t,e,n,r[i]))return!1;return!0}function a0(t,e,n){var r=LF(t),i=r.length;if(LF(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!i$(t,e,n,s)||(a=DF(t,s),o=DF(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function wfe(t,e){return qf(t.valueOf(),e.valueOf())}function _fe(t,e){return t.source===e.source&&t.flags===e.flags}function BF(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function Sfe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Mfe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function i$(t,e,n,r){return(r===pfe||r===hfe||r===ffe)&&(t.$$typeof||e.$$typeof)?!0:dfe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Efe="[object Arguments]",Afe="[object Boolean]",Tfe="[object Date]",Pfe="[object Error]",Cfe="[object Map]",Nfe="[object Number]",Rfe="[object Object]",kfe="[object RegExp]",Ofe="[object Set]",Ife="[object String]",Lfe="[object URL]",Dfe=Array.isArray,UF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,zF=Object.assign,jfe=Object.prototype.toString.call.bind(Object.prototype.toString);function Ffe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,g=t.areUrlsEqual;return function(x,S,b){if(x===S)return!0;if(x==null||S==null)return!1;var _=typeof x;if(_!==typeof S)return!1;if(_!=="object")return _==="number"?a(x,S,b):_==="function"?i(x,S,b):!1;var E=x.constructor;if(E!==S.constructor)return!1;if(E===Object)return o(x,S,b);if(Dfe(x))return e(x,S,b);if(UF!=null&&UF(x))return f(x,S,b);if(E===Date)return n(x,S,b);if(E===RegExp)return c(x,S,b);if(E===Map)return s(x,S,b);if(E===Set)return d(x,S,b);var M=jfe(x);return M===Tfe?n(x,S,b):M===kfe?c(x,S,b):M===Cfe?s(x,S,b):M===Ofe?d(x,S,b):M===Rfe?typeof x.then!="function"&&typeof S.then!="function"&&o(x,S,b):M===Lfe?g(x,S,b):M===Pfe?r(x,S,b):M===Efe?o(x,S,b):M===Afe||M===Nfe||M===Ife?l(x,S,b):!1}}function Bfe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?a0:mfe,areDatesEqual:gfe,areErrorsEqual:vfe,areFunctionsEqual:yfe,areMapsEqual:r?IF(FF,a0):FF,areNumbersEqual:xfe,areObjectsEqual:r?a0:bfe,arePrimitiveWrappersEqual:wfe,areRegExpsEqual:_fe,areSetsEqual:r?IF(BF,a0):BF,areTypedArraysEqual:r?a0:Sfe,areUrlsEqual:Mfe};if(n&&(i=zF({},i,n(i))),e){var s=Xx(i.areArraysEqual),a=Xx(i.areMapsEqual),o=Xx(i.areObjectsEqual),l=Xx(i.areSetsEqual);i=zF({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function Ufe(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function zfe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var d=r(),f=d.cache,g=f===void 0?e?new WeakMap:void 0:f,y=d.meta;return n(l,c,{cache:g,equals:i,meta:y,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,a)}}var Vfe=Hu();Hu({strict:!0});Hu({circular:!0});Hu({circular:!0,strict:!0});Hu({createInternalComparator:function(){return qf}});Hu({strict:!0,createInternalComparator:function(){return qf}});Hu({circular:!0,createInternalComparator:function(){return qf}});Hu({circular:!0,createInternalComparator:function(){return qf},strict:!0});function Hu(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=Bfe(t),l=Ffe(o),c=r?r(l):Ufe(l);return zfe({circular:n,comparator:l,createState:i,equals:c,strict:a})}function Hfe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function VF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):Hfe(i)};requestAnimationFrame(r)}function _C(t){"@babel/helpers - typeof";return _C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_C(t)}function $fe(t){return Xfe(t)||qfe(t)||Gfe(t)||Wfe()}function Wfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gfe(t,e){if(t){if(typeof t=="string")return HF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HF(t,e)}}function HF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xfe(t){if(Array.isArray(t))return t}function Yfe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=$fe(a),l=o[0],c=o.slice(1);if(typeof l=="number"){VF(i.bind(null,c),l);return}i(l),VF(i.bind(null,c));return}_C(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function $F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(n),!0).forEach(function(r){s$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$F(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s$(t,e,n){return e=Kfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kfe(t){var e=Zfe(t,"string");return Sv(e)==="symbol"?e:String(e)}function Zfe(t,e){if(Sv(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jfe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},Qfe=function(e){return e},ehe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},F0=function(e,n){return Object.keys(n).reduce(function(r,i){return WF(WF({},r),{},s$({},i,e(i,n[i])))},{})},GF=function(e,n,r){return e.map(function(i){return"".concat(ehe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function the(t,e){return ihe(t)||rhe(t,e)||a$(t,e)||nhe()}function nhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function ihe(t){if(Array.isArray(t))return t}function she(t){return lhe(t)||ohe(t)||a$(t)||ahe()}function ahe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a$(t,e){if(t){if(typeof t=="string")return SC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SC(t,e)}}function ohe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lhe(t){if(Array.isArray(t))return SC(t)}function SC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ew=1e-4,o$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},l$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},qF=function(e,n){return function(r){var i=o$(e,n);return l$(i,r)}},che=function(e,n){return function(r){var i=o$(e,n),s=[].concat(she(i.map(function(a,o){return a*o}).slice(1)),[0]);return l$(s,r)}},XF=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=the(c,4);i=d[0],s=d[1],a=d[2],o=d[3]}}}var f=qF(i,a),g=qF(s,o),y=che(i,a),x=function(_){return _>1?1:_<0?0:_},S=function(_){for(var E=_>1?1:_,M=E,P=0;P<8;++P){var C=f(M)-E,N=y(M);if(Math.abs(C-E)<ew||N<ew)return g(M);M=x(M-C/N)}return g(M)};return S.isStepper=!1,S},uhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(d,f,g){var y=-(d-f)*r,x=g*s,S=g+(y-x)*o/1e3,b=g*o/1e3+d;return Math.abs(b-f)<ew&&Math.abs(S)<ew?[f,0]:[b,S]};return l.isStepper=!0,l.dt=o,l},dhe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XF(i);case"spring":return uhe();default:if(i.split("(")[0]==="cubic-bezier")return XF(i)}return typeof i=="function"?i:null};function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function YF(t){return phe(t)||hhe(t)||c$(t)||fhe()}function fhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function phe(t){if(Array.isArray(t))return EC(t)}function KF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KF(Object(n),!0).forEach(function(r){MC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MC(t,e,n){return e=mhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mhe(t){var e=ghe(t,"string");return Mv(e)==="symbol"?e:String(e)}function ghe(t,e){if(Mv(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vhe(t,e){return bhe(t)||xhe(t,e)||c$(t,e)||yhe()}function yhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c$(t,e){if(t){if(typeof t=="string")return EC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EC(t,e)}}function EC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function bhe(t){if(Array.isArray(t))return t}var tw=function(e,n,r){return e+(n-e)*r},AC=function(e){var n=e.from,r=e.to;return n!==r},whe=function t(e,n,r){var i=F0(function(s,a){if(AC(a)){var o=e(a.from,a.to,a.velocity),l=vhe(o,2),c=l[0],d=l[1];return Oi(Oi({},a),{},{from:c,velocity:d})}return a},n);return r<1?F0(function(s,a){return AC(a)?Oi(Oi({},a),{},{velocity:tw(a.velocity,i[s].velocity,r),from:tw(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const _he=function(t,e,n,r,i){var s=Jfe(t,e),a=s.reduce(function(b,_){return Oi(Oi({},b),{},MC({},_,[t[_],e[_]]))},{}),o=s.reduce(function(b,_){return Oi(Oi({},b),{},MC({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,c,d,f=function(){return null},g=function(){return F0(function(_,E){return E.from},o)},y=function(){return!Object.values(o).filter(AC).length},x=function(_){c||(c=_);var E=_-c,M=E/n.dt;o=whe(n,o,M),i(Oi(Oi(Oi({},t),e),g())),c=_,y()||(l=requestAnimationFrame(f))},S=function(_){d||(d=_);var E=(_-d)/r,M=F0(function(C,N){return tw.apply(void 0,YF(N).concat([n(E)]))},a);if(i(Oi(Oi(Oi({},t),e),M)),E<1)l=requestAnimationFrame(f);else{var P=F0(function(C,N){return tw.apply(void 0,YF(N).concat([n(1)]))},a);i(Oi(Oi(Oi({},t),e),P))}};return f=n.isStepper?x:S,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}var She=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Mhe(t,e){if(t==null)return{};var n=Ehe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ehe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NA(t){return Che(t)||Phe(t)||The(t)||Ahe()}function Ahe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function The(t,e){if(t){if(typeof t=="string")return TC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TC(t,e)}}function Phe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Che(t){if(Array.isArray(t))return TC(t)}function TC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(n),!0).forEach(function(r){T0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T0(t,e,n){return e=u$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u$(r.key),r)}}function khe(t,e,n){return e&&Rhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u$(t){var e=Ohe(t,"string");return am(e)==="symbol"?e:String(e)}function Ohe(t,e){if(am(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(am(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ihe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PC(t,e)}function PC(t,e){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PC(t,e)}function Lhe(t){var e=Dhe();return function(){var r=nw(t),i;if(e){var s=nw(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return CC(this,i)}}function CC(t,e){if(e&&(am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NC(t)}function NC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nw(t){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nw(t)}var _o=function(t){Ihe(n,t);var e=Lhe(n);function n(r,i){var s;Nhe(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,d=a.to,f=a.steps,g=a.children,y=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(NC(s)),s.changeStyle=s.changeStyle.bind(NC(s)),!o||y<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:d}),CC(s);if(f&&f.length)s.state={style:f[0].style};else if(c){if(typeof g=="function")return s.state={style:c},CC(s);s.state={style:l?T0({},l,c):c}}else s.state={style:{}};return s}return khe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,d=s.to,f=s.from,g=this.state.style;if(o){if(!a){var y={style:l?T0({},l,d):d};this.state&&g&&(l&&g[l]!==d||!l&&g!==d)&&this.setState(y);return}if(!(Vfe(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=x||c?f:i.to;if(this.state&&g){var b={style:l?T0({},l,S):S};(l&&g[l]!==S||!l&&g!==S)&&this.setState(b)}this.runAnimation(lo(lo({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,g=i.onAnimationStart,y=_he(a,o,dhe(c),l,this.changeStyle),x=function(){s.stopJSAnimation=y()};this.manager.start([g,d,x,l,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],d=c.style,f=c.duration,g=f===void 0?0:f,y=function(S,b,_){if(_===0)return S;var E=b.duration,M=b.easing,P=M===void 0?"ease":M,C=b.style,N=b.properties,O=b.onAnimationEnd,D=_>0?a[_-1]:b,U=N||Object.keys(C);if(typeof P=="function"||P==="spring")return[].concat(NA(S),[s.runJSAnimation.bind(s,{from:D.style,to:C,duration:E,easing:P}),E]);var L=GF(U,E,P),I=lo(lo(lo({},D.style),C),{},{transition:L});return[].concat(NA(S),[I,E,O]).filter(Qfe)};return this.manager.start([l].concat(NA(a.reduce(y,[d,Math.max(g,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Yfe());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,g=i.steps,y=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof c=="function"||typeof y=="function"||c==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var S=o?T0({},o,l):l,b=GF(Object.keys(S),a,c);x.start([d,s,lo(lo({},S),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Mhe(i,She),c=B.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||c===0||a<=0)return s;var f=function(y){var x=y.props,S=x.style,b=S===void 0?{}:S,_=x.className,E=B.cloneElement(y,lo(lo({},l),{},{style:lo(lo({},b),d),className:_}));return E};return c===1?f(B.Children.only(s)):oe.createElement("div",null,B.Children.map(s,function(g){return f(g)}))}}]),n}(B.PureComponent);_o.displayName="Animate";_o.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_o.propTypes={from:Ln.oneOfType([Ln.object,Ln.string]),to:Ln.oneOfType([Ln.object,Ln.string]),attributeName:Ln.string,duration:Ln.number,begin:Ln.number,easing:Ln.oneOfType([Ln.string,Ln.func]),steps:Ln.arrayOf(Ln.shape({duration:Ln.number.isRequired,style:Ln.object.isRequired,easing:Ln.oneOfType([Ln.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ln.func]),properties:Ln.arrayOf("string"),onAnimationEnd:Ln.func})),children:Ln.oneOfType([Ln.node,Ln.func]),isActive:Ln.bool,canBegin:Ln.bool,onAnimationEnd:Ln.func,shouldReAnimate:Ln.bool,onAnimationStart:Ln.func,onAnimationReStart:Ln.func};function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}function jhe(t,e){return zhe(t)||Uhe(t,e)||Bhe(t,e)||Fhe()}function Fhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bhe(t,e){if(t){if(typeof t=="string")return JF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JF(t,e)}}function JF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function zhe(t){if(Array.isArray(t))return t}function QF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(n),!0).forEach(function(r){Vhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vhe(t,e,n){return e=Hhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hhe(t){var e=$he(t,"string");return Ev(e)=="symbol"?e:e+""}function $he(t,e){if(Ev(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ev(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tB=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],g=0,y=4;g<y;g++)f[g]=s[g]>a?a:s[g];d="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*f[1])),d+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*f[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var x=Math.min(a,s);d="M ".concat(e,",").concat(n+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+l*x,",").concat(n,`
            L `).concat(e+r-l*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*x,`
            L `).concat(e+r,",").concat(n+i-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r-l*x,",").concat(n+i,`
            L `).concat(e+l*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*x," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Whe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),d=Math.max(s,s+o),f=Math.min(a,a+l),g=Math.max(a,a+l);return r>=c&&r<=d&&i>=f&&i<=g}return!1},Ghe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bk=function(e){var n=eB(eB({},Ghe),e),r=B.useRef(),i=B.useState(-1),s=jhe(i,2),a=s[0],o=s[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&o(P)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,g=n.radius,y=n.className,x=n.animationEasing,S=n.animationDuration,b=n.animationBegin,_=n.isAnimationActive,E=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var M=cn("recharts-rectangle",y);return E?oe.createElement(_o,{canBegin:a>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:S,animationEasing:x,isActive:E},function(P){var C=P.width,N=P.height,O=P.x,D=P.y;return oe.createElement(_o,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:S,isActive:_,easing:x},oe.createElement("path",rw({},kt(n,!0),{className:M,d:tB(O,D,C,N,g),ref:r})))}):oe.createElement("path",rw({},kt(n,!0),{className:M,d:tB(l,c,d,f,g)}))},qhe=["points","className","baseLinePoints","connectNulls"];function Rp(){return Rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rp.apply(this,arguments)}function Xhe(t,e){if(t==null)return{};var n=Yhe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nB(t){return Qhe(t)||Jhe(t)||Zhe(t)||Khe()}function Khe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zhe(t,e){if(t){if(typeof t=="string")return RC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RC(t,e)}}function Jhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qhe(t){if(Array.isArray(t))return RC(t)}function RC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rB=function(e){return e&&e.x===+e.x&&e.y===+e.y},epe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){rB(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),rB(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},B0=function(e,n){var r=epe(e);n&&(r=[r.reduce(function(s,a){return[].concat(nB(s),nB(a))},[])]);var i=r.map(function(s){return s.reduce(function(a,o,l){return"".concat(a).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},tpe=function(e,n,r){var i=B0(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(B0(n.reverse(),r).slice(1))},npe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,a=Xhe(e,qhe);if(!n||!n.length)return null;var o=cn("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=tpe(n,i,s);return oe.createElement("g",{className:o},oe.createElement("path",Rp({},kt(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?oe.createElement("path",Rp({},kt(a,!0),{fill:"none",d:B0(n,s)})):null,l?oe.createElement("path",Rp({},kt(a,!0),{fill:"none",d:B0(i,s)})):null)}var d=B0(n,s);return oe.createElement("path",Rp({},kt(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:o,d}))};function kC(){return kC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kC.apply(this,arguments)}var vy=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=cn("recharts-dot",s);return n===+n&&r===+r&&i===+i?oe.createElement("circle",kC({},kt(e,!1),A1(e),{className:a,cx:n,cy:r,r:i})):null};function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}var rpe=["x","y","top","left","width","height","className"];function OC(){return OC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OC.apply(this,arguments)}function iB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ipe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(n),!0).forEach(function(r){spe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function spe(t,e,n){return e=ape(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ape(t){var e=ope(t,"string");return Av(e)=="symbol"?e:e+""}function ope(t,e){if(Av(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lpe(t,e){if(t==null)return{};var n=cpe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var upe=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},dpe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,g=e.height,y=g===void 0?0:g,x=e.className,S=lpe(e,rpe),b=ipe({x:r,y:s,top:o,left:c,width:f,height:y},S);return!et(r)||!et(s)||!et(f)||!et(y)||!et(o)||!et(c)?null:oe.createElement("path",OC({},kt(b,!0),{className:cn("recharts-cross",x),d:upe(r,s,f,y,o,c)}))},RA,sB;function fpe(){if(sB)return RA;sB=1;var t=c_(),e=E7(),n=sl();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return RA=r,RA}var hpe=fpe();const ppe=Rn(hpe);var kA,aB;function mpe(){if(aB)return kA;aB=1;var t=c_(),e=sl(),n=A7();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return kA=r,kA}var gpe=mpe();const vpe=Rn(gpe);var ype=["cx","cy","angle","ticks","axisLine"],xpe=["ticks","tick","angle","tickFormatter","stroke"];function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U0.apply(this,arguments)}function oB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(n),!0).forEach(function(r){h_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lB(t,e){if(t==null)return{};var n=bpe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f$(r.key),r)}}function _pe(t,e,n){return e&&cB(t.prototype,e),n&&cB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Spe(t,e,n){return e=iw(e),Mpe(t,d$()?Reflect.construct(e,n||[],iw(t).constructor):e.apply(t,n))}function Mpe(t,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Epe(t)}function Epe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!t})()}function iw(t){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iw(t)}function Ape(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IC(t,e)}function IC(t,e){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IC(t,e)}function h_(t,e,n){return e=f$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f$(t){var e=Tpe(t,"string");return om(e)=="symbol"?e:e+""}function Tpe(t,e){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var p_=function(t){function e(){return wpe(this,e),Spe(this,e,arguments)}return Ape(e,t),_pe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,a=s.angle,o=s.cx,l=s.cy;return nr(o,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=ppe(o,function(d){return d.coordinate||0}),c=vpe(o,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=r.axisLine,c=lB(r,ype),d=o.reduce(function(x,S){return[Math.min(x[0],S.coordinate),Math.max(x[1],S.coordinate)]},[1/0,-1/0]),f=nr(i,s,d[0],a),g=nr(i,s,d[1],a),y=jd(jd(jd({},kt(c,!1)),{},{fill:"none"},kt(l,!1)),{},{x1:f.x,y1:f.y,x2:g.x,y2:g.y});return oe.createElement("line",U0({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,d=lB(i,xpe),f=this.getTickTextAnchor(),g=kt(d,!1),y=kt(a,!1),x=s.map(function(S,b){var _=r.getTickValueCoord(S),E=jd(jd(jd(jd({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(_.x,", ").concat(_.y,")")},g),{},{stroke:"none",fill:c},y),{},{index:b},_),{},{payload:S});return oe.createElement(mn,U0({className:cn("recharts-polar-radius-axis-tick",e$(a)),key:"tick-".concat(S.coordinate)},Nf(r.props,S,b)),e.renderTickItem(a,E,l?l(S.value,b):S.value))});return oe.createElement(mn,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,a=r.tick;return!i||!i.length?null:oe.createElement(mn,{className:cn("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),vi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return oe.isValidElement(r)?a=oe.cloneElement(r,i):Gt(r)?a=r(i):a=oe.createElement(Rf,U0({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(B.PureComponent);h_(p_,"displayName","PolarRadiusAxis");h_(p_,"axisType","radiusAxis");h_(p_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}function uB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(n),!0).forEach(function(r){m_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p$(r.key),r)}}function Cpe(t,e,n){return e&&dB(t.prototype,e),n&&dB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Npe(t,e,n){return e=sw(e),Rpe(t,h$()?Reflect.construct(e,n||[],sw(t).constructor):e.apply(t,n))}function Rpe(t,e){if(e&&(lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kpe(t)}function kpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!t})()}function sw(t){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sw(t)}function Ope(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LC(t,e)}function LC(t,e){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LC(t,e)}function m_(t,e,n){return e=p$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p$(t){var e=Ipe(t,"string");return lm(e)=="symbol"?e:e+""}function Ipe(t,e){if(lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lpe=Math.PI/180,Dpe=1e-5,g_=function(t){function e(){return Ppe(this,e),Npe(this,e,arguments)}return Ope(e,t),Cpe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=nr(s,a,o,r.coordinate),g=nr(s,a,o+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*Lpe),a;return s>Dpe?a=i==="outer"?"start":"end":s<-1e-5?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.radius,o=r.axisLine,l=r.axisLineType,c=Fd(Fd({},kt(this.props,!1)),{},{fill:"none"},kt(o,!1));if(l==="circle")return oe.createElement(vy,sf({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:a}));var d=this.props.ticks,f=d.map(function(g){return nr(i,s,a,g.coordinate)});return oe.createElement(npe,sf({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,d=kt(this.props,!1),f=kt(a,!1),g=Fd(Fd({},d),{},{fill:"none"},kt(o,!1)),y=s.map(function(x,S){var b=r.getTickLineCoord(x),_=r.getTickTextAnchor(x),E=Fd(Fd(Fd({textAnchor:_},d),{},{stroke:"none",fill:c},f),{},{index:S,payload:x,x:b.x2,y:b.y2});return oe.createElement(mn,sf({className:cn("recharts-polar-angle-axis-tick",e$(a)),key:"tick-".concat(x.coordinate)},Nf(r.props,x,S)),o&&oe.createElement("line",sf({className:"recharts-polar-angle-axis-tick-line"},g,b)),a&&e.renderTickItem(a,E,l?l(x.value,S):x.value))});return oe.createElement(mn,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,a=r.axisLine;return s<=0||!i||!i.length?null:oe.createElement(mn,{className:cn("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var a;return oe.isValidElement(r)?a=oe.cloneElement(r,i):Gt(r)?a=r(i):a=oe.createElement(Rf,sf({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(B.PureComponent);m_(g_,"displayName","PolarAngleAxis");m_(g_,"axisType","angleAxis");m_(g_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var OA,fB;function jpe(){if(fB)return OA;fB=1;var t=MH(),e=t(Object.getPrototypeOf,Object);return OA=e,OA}var IA,hB;function Fpe(){if(hB)return IA;hB=1;var t=gc(),e=jpe(),n=vc(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,l=a.call(Object);function c(d){if(!n(d)||t(d)!=r)return!1;var f=e(d);if(f===null)return!0;var g=o.call(f,"constructor")&&f.constructor;return typeof g=="function"&&g instanceof g&&a.call(g)==l}return IA=c,IA}var Bpe=Fpe();const Upe=Rn(Bpe);var LA,pB;function zpe(){if(pB)return LA;pB=1;var t=gc(),e=vc(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return LA=r,LA}var Vpe=zpe();const Hpe=Rn(Vpe);function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function $pe(t,e){return Xpe(t)||qpe(t,e)||Gpe(t,e)||Wpe()}function Wpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gpe(t,e){if(t){if(typeof t=="string")return mB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mB(t,e)}}function mB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Xpe(t){if(Array.isArray(t))return t}function gB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(n),!0).forEach(function(r){Ype(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ype(t,e,n){return e=Kpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kpe(t){var e=Zpe(t,"string");return Tv(e)=="symbol"?e:e+""}function Zpe(t,e){if(Tv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yB=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},Jpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qpe=function(e){var n=vB(vB({},Jpe),e),r=B.useRef(),i=B.useState(-1),s=$pe(i,2),a=s[0],o=s[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&o(M)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,g=n.height,y=n.className,x=n.animationEasing,S=n.animationDuration,b=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||g!==+g||d===0&&f===0||g===0)return null;var E=cn("recharts-trapezoid",y);return _?oe.createElement(_o,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:g,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:g,x:l,y:c},duration:S,animationEasing:x,isActive:_},function(M){var P=M.upperWidth,C=M.lowerWidth,N=M.height,O=M.x,D=M.y;return oe.createElement(_o,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:S,easing:x},oe.createElement("path",aw({},kt(n,!0),{className:E,d:yB(O,D,P,C,N),ref:r})))}):oe.createElement("g",null,oe.createElement("path",aw({},kt(n,!0),{className:E,d:yB(l,c,d,f,g)})))},eme=["option","shapeType","propTransformer","activeClassName","isActive"];function Pv(t){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function tme(t,e){if(t==null)return{};var n=nme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ow(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xB(Object(n),!0).forEach(function(r){rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rme(t,e,n){return e=ime(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ime(t){var e=sme(t,"string");return Pv(e)=="symbol"?e:e+""}function sme(t,e){if(Pv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ame(t,e){return ow(ow({},e),t)}function ome(t,e){return t==="symbols"}function bB(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return oe.createElement(Bk,n);case"trapezoid":return oe.createElement(Qpe,n);case"sector":return oe.createElement(r$,n);case"symbols":if(ome(e))return oe.createElement(ik,n);break;default:return null}}function lme(t){return B.isValidElement(t)?t.props:t}function m$(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ame:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=tme(t,eme),c;if(B.isValidElement(e))c=B.cloneElement(e,ow(ow({},l),lme(e)));else if(Gt(e))c=e(l);else if(Upe(e)&&!Hpe(e)){var d=i(e,l);c=oe.createElement(bB,{shapeType:n,elementProps:d})}else{var f=l;c=oe.createElement(bB,{shapeType:n,elementProps:f})}return o?oe.createElement(mn,{className:a},c):c}function v_(t,e){return e!=null&&"trapezoids"in t.props}function y_(t,e){return e!=null&&"sectors"in t.props}function Cv(t,e){return e!=null&&"points"in t.props}function cme(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function ume(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function dme(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function fme(t,e){var n;return v_(t,e)?n=cme:y_(t,e)?n=ume:Cv(t,e)&&(n=dme),n}function hme(t,e){var n;return v_(t,e)?n="trapezoids":y_(t,e)?n="sectors":Cv(t,e)&&(n="points"),n}function pme(t,e){if(v_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(y_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Cv(t,e)?e.payload:{}}function mme(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=hme(n,e),s=pme(n,e),a=r.filter(function(l,c){var d=kf(s,l),f=n.props[i].filter(function(x){var S=fme(n,e);return S(x,e)}),g=n.props[i].indexOf(f[f.length-1]),y=c===g;return d&&y}),o=r.indexOf(a[a.length-1]);return o}var t1;function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function kp(){return kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kp.apply(this,arguments)}function wB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(n),!0).forEach(function(r){ka(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v$(r.key),r)}}function vme(t,e,n){return e&&_B(t.prototype,e),n&&_B(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yme(t,e,n){return e=lw(e),xme(t,g$()?Reflect.construct(e,n||[],lw(t).constructor):e.apply(t,n))}function xme(t,e){if(e&&(cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bme(t)}function bme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g$=function(){return!!t})()}function lw(t){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lw(t)}function wme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DC(t,e)}function DC(t,e){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DC(t,e)}function ka(t,e,n){return e=v$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v$(t){var e=_me(t,"string");return cm(e)=="symbol"?e:e+""}function _me(t,e){if(cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xc=function(t){function e(n){var r;return gme(this,e),r=yme(this,e,[n]),ka(r,"pieRef",null),ka(r,"sectorRefs",[]),ka(r,"id",$f("recharts-pie-")),ka(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Gt(i)&&i()}),ka(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Gt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return wme(e,t),vme(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,l=s.dataKey,c=s.valueKey,d=kt(this.props,!1),f=kt(a,!1),g=kt(o,!1),y=a&&a.offsetRadius||20,x=r.map(function(S,b){var _=(S.startAngle+S.endAngle)/2,E=nr(S.cx,S.cy,S.outerRadius+y,_),M=er(er(er(er({},d),S),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(E.x,S.cx)},E),P=er(er(er(er({},d),S),{},{fill:"none",stroke:S.fill},g),{},{index:b,points:[nr(S.cx,S.cy,S.outerRadius,_),E]}),C=l;return Qt(l)&&Qt(c)?C="value":Qt(l)&&(C=c),oe.createElement(mn,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(b)},o&&e.renderLabelLineItem(o,P,"line"),e.renderLabelItem(a,M,Dr(S,C)))});return oe.createElement(mn,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,l=s.inactiveShape;return r.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),g=l&&i.hasActiveIndex()?l:null,y=f?a:g,x=er(er({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return oe.createElement(mn,kp({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Nf(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),oe.createElement(m$,kp({option:y,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,g=f.prevSectors,y=f.prevIsAnimationActive;return oe.createElement(_o,{begin:o,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var S=x.t,b=[],_=s&&s[0],E=_.startAngle;return s.forEach(function(M,P){var C=g&&g[P],N=P>0?la(M,"paddingAngle",0):0;if(C){var O=si(C.endAngle-C.startAngle,M.endAngle-M.startAngle),D=er(er({},M),{},{startAngle:E+N,endAngle:E+O(S)+N});b.push(D),E=D.endAngle}else{var U=M.endAngle,L=M.startAngle,I=si(0,U-L),$=I(S),X=er(er({},M),{},{startAngle:E+N,endAngle:E+$+N});b.push(X),E=X.endAngle}}),oe.createElement(mn,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!kf(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,g=i.outerRadius,y=i.isAnimationActive,x=this.state.isAnimationFinished;if(s||!a||!a.length||!et(c)||!et(d)||!et(f)||!et(g))return null;var S=cn("recharts-pie",o);return oe.createElement(mn,{tabIndex:this.props.rootTabIndex,className:S,ref:function(_){r.pieRef=_}},this.renderSectors(),l&&this.renderLabels(a),vi.renderCallByParent(this.props,null,!1),(!y||x)&&Zo.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(oe.isValidElement(r))return oe.cloneElement(r,i);if(Gt(r))return r(i);var a=cn("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return oe.createElement(Sf,kp({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,s){if(oe.isValidElement(r))return oe.cloneElement(r,i);var a=s;if(Gt(r)&&(a=r(i),oe.isValidElement(a)))return a;var o=cn("recharts-pie-label-text",typeof r!="boolean"&&!Gt(r)?r.className:"");return oe.createElement(Rf,kp({},i,{alignmentBaseline:"middle",className:o}),a)}}])}(B.PureComponent);t1=xc;ka(xc,"displayName","Pie");ka(xc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Uu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ka(xc,"parseDeltaAngle",function(t,e){var n=ms(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ka(xc,"getRealPieData",function(t){var e=t.data,n=t.children,r=kt(t,!1),i=ca(n,n_);return e&&e.length?e.map(function(s,a){return er(er(er({payload:s},r),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return er(er({},r),s.props)}):[]});ka(xc,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,a=Q7(i,s),o=r+gs(t.cx,i,i/2),l=n+gs(t.cy,s,s/2),c=gs(t.innerRadius,a,0),d=gs(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});ka(xc,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?er(er({},e.type.defaultProps),e.props):e.props,i=t1.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,f=r.valueKey,g=r.tooltipType,y=Math.abs(r.minAngle),x=t1.parseCoordinateOfPie(r,n),S=t1.parseDeltaAngle(a,o),b=Math.abs(S),_=c;Qt(c)&&Qt(f)?(wo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Qt(c)&&(wo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var E=i.filter(function(D){return Dr(D,_,0)!==0}).length,M=(b>=360?E:E-1)*l,P=b-E*y-M,C=i.reduce(function(D,U){var L=Dr(U,_,0);return D+(et(L)?L:0)},0),N;if(C>0){var O;N=i.map(function(D,U){var L=Dr(D,_,0),I=Dr(D,d,U),$=(et(L)?L:0)/C,X;U?X=O.endAngle+ms(S)*l*(L!==0?1:0):X=a;var V=X+ms(S)*((L!==0?y:0)+$*P),Z=(X+V)/2,ee=(x.innerRadius+x.outerRadius)/2,re=[{name:I,value:L,payload:D,dataKey:_,type:g}],H=nr(x.cx,x.cy,ee,Z);return O=er(er(er({percent:$,cornerRadius:s,name:I,tooltipPayload:re,midAngle:Z,middleRadius:ee,tooltipPosition:H},D),x),{},{value:Dr(D,_),startAngle:X,endAngle:V,payload:D,paddingAngle:ms(S)*l}),O})}return er(er({},x),{},{sectors:N,data:i})});var DA,SB;function Sme(){if(SB)return DA;SB=1;var t=Math.ceil,e=Math.max;function n(r,i,s,a){for(var o=-1,l=e(t((i-r)/(s||1)),0),c=Array(l);l--;)c[a?l:++o]=r,r+=s;return c}return DA=n,DA}var jA,MB;function y$(){if(MB)return jA;MB=1;var t=UH(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var s=i<0?-1:1;return s*n}return i===i?i:0}return jA=r,jA}var FA,EB;function Mme(){if(EB)return FA;EB=1;var t=Sme(),e=t_(),n=y$();function r(i){return function(s,a,o){return o&&typeof o!="number"&&e(s,a,o)&&(a=o=void 0),s=n(s),a===void 0?(a=s,s=0):a=n(a),o=o===void 0?s<a?1:-1:n(o),t(s,a,o,i)}}return FA=r,FA}var BA,AB;function Eme(){if(AB)return BA;AB=1;var t=Mme(),e=t();return BA=e,BA}var Ame=Eme();const cw=Rn(Ame);function Nv(t){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function TB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(n),!0).forEach(function(r){x$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x$(t,e,n){return e=Tme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tme(t){var e=Pme(t,"string");return Nv(e)=="symbol"?e:e+""}function Pme(t,e){if(Nv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cme=["Webkit","Moz","O","ms"],Nme=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Cme.reduce(function(s,a){return PB(PB({},s),{},x$({},a+r,n))},{});return i[e]=n,i};function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(this,arguments)}function CB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CB(Object(n),!0).forEach(function(r){ta(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w$(r.key),r)}}function kme(t,e,n){return e&&NB(t.prototype,e),n&&NB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ome(t,e,n){return e=dw(e),Ime(t,b$()?Reflect.construct(e,n||[],dw(t).constructor):e.apply(t,n))}function Ime(t,e){if(e&&(um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lme(t)}function Lme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!t})()}function dw(t){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dw(t)}function Dme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jC(t,e)}function jC(t,e){return jC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jC(t,e)}function ta(t,e,n){return e=w$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w$(t){var e=jme(t,"string");return um(e)=="symbol"?e:e+""}function jme(t,e){if(um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fme=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=D0().domain(cw(0,l)).range([s,s+a-o]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},RB=function(e){return e.changedTouches&&!!e.changedTouches.length},dm=function(t){function e(n){var r;return Rme(this,e),r=Ome(this,e,[n]),ta(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ta(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ta(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),ta(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ta(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ta(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ta(r,"handleSlideDragStart",function(i){var s=RB(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Dme(e,t),kme(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,f=Math.min(i,s),g=Math.max(i,s),y=e.getIndexInRange(a,f),x=e.getIndexInRange(a,g);return{startIndex:y-y%l,endIndex:x===d?d:x-x%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=Dr(s[r],o,r);return Gt(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,g=l.startIndex,y=l.endIndex,x=l.onChange,S=r.pageX-s;S>0?S=Math.min(S,c+d-f-o,c+d-f-a):S<0&&(S=Math.max(S,c-a,c-o));var b=this.getIndex({startX:a+S,endX:o+S});(b.startIndex!==g||b.endIndex!==y)&&x&&x(b),this.setState({startX:a+S,endX:o+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=RB(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],d=this.props,f=d.x,g=d.width,y=d.travellerWidth,x=d.onChange,S=d.gap,b=d.data,_={startX:this.state.startX,endX:this.state.endX},E=r.pageX-s;E>0?E=Math.min(E,f+g-y-c):E<0&&(E=Math.max(E,f-c)),_[a]=c+E;var M=this.getIndex(_),P=M.startIndex,C=M.endIndex,N=function(){var D=b.length-1;return a==="startX"&&(o>l?P%S===0:C%S===0)||o<l&&C===D||a==="endX"&&(o>l?C%S===0:P%S===0)||o>l&&C===D};this.setState(ta(ta({},a,c+E),"brushMoveStartX",r.pageX),function(){x&&N()&&x(M)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var g=f+r;if(!(g===-1||g>=o.length)){var y=o[g];i==="startX"&&y>=c||i==="endX"&&y<=l||this.setState(ta({},i,y),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return oe.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,d=r.padding,f=B.Children.only(c);return f?oe.cloneElement(f,{x:i,y:s,width:a,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,g=l.traveller,y=l.ariaLabel,x=l.data,S=l.startIndex,b=l.endIndex,_=Math.max(r,this.props.x),E=UA(UA({},kt(this.props,!1)),{},{x:_,y:c,width:d,height:f}),M=y||"Min value: ".concat((s=x[S])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=x[b])===null||a===void 0?void 0:a.name);return oe.createElement(mn,{tabIndex:0,role:"slider","aria-label":M,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),o.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,E))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,g=d.endX,y=5,x={pointerEvents:"none",fill:c};return oe.createElement(mn,{className:"recharts-brush-texts"},oe.createElement(Rf,uw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,g)-y,y:a+o/2},x),this.getTextOfTick(i)),oe.createElement(Rf,uw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,g)+l+y,y:a+o/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,g=this.state,y=g.startX,x=g.endX,S=g.isTextActive,b=g.isSlideMoving,_=g.isTravellerMoving,E=g.isTravellerFocused;if(!i||!i.length||!et(o)||!et(l)||!et(c)||!et(d)||c<=0||d<=0)return null;var M=cn("recharts-brush",s),P=oe.Children.count(a)===1,C=Nme("userSelect","none");return oe.createElement(mn,{className:M,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(y,x),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(x,"endX"),(S||b||_||E||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return oe.createElement(oe.Fragment,null,oe.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),oe.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),oe.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return oe.isValidElement(r)?s=oe.cloneElement(r,i):Gt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return UA({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?Fme({data:s,width:a,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var g=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])}(B.PureComponent);ta(dm,"displayName","Brush");ta(dm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zA,kB;function Bme(){if(kB)return zA;kB=1;var t=dk();function e(n,r){var i;return t(n,function(s,a,o){return i=r(s,a,o),!i}),!!i}return zA=e,zA}var VA,OB;function Ume(){if(OB)return VA;OB=1;var t=vH(),e=sl(),n=Bme(),r=Fs(),i=t_();function s(a,o,l){var c=r(a)?t:n;return l&&i(a,o,l)&&(o=void 0),c(a,e(o,3))}return VA=s,VA}var zme=Ume();const Vme=Rn(zme);var Jo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},HA,IB;function Hme(){if(IB)return HA;IB=1;var t=LH();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return HA=e,HA}var $A,LB;function $me(){if(LB)return $A;LB=1;var t=Hme(),e=OH(),n=sl();function r(i,s){var a={};return s=n(s,3),e(i,function(o,l,c){t(a,l,s(o,l,c))}),a}return $A=r,$A}var Wme=$me();const Gme=Rn(Wme);var WA,DB;function qme(){if(DB)return WA;DB=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return WA=t,WA}var GA,jB;function Xme(){if(jB)return GA;jB=1;var t=dk();function e(n,r){var i=!0;return t(n,function(s,a,o){return i=!!r(s,a,o),i}),i}return GA=e,GA}var qA,FB;function Yme(){if(FB)return qA;FB=1;var t=qme(),e=Xme(),n=sl(),r=Fs(),i=t_();function s(a,o,l){var c=r(a)?t:e;return l&&i(a,o,l)&&(o=void 0),c(a,n(o,3))}return qA=s,qA}var Kme=Yme();const _$=Rn(Kme);var Zme=["x","y"];function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}function FC(){return FC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FC.apply(this,arguments)}function BB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BB(Object(n),!0).forEach(function(r){Jme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jme(t,e,n){return e=Qme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qme(t){var e=ege(t,"string");return Rv(e)=="symbol"?e:e+""}function ege(t,e){if(Rv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tge(t,e){if(t==null)return{};var n=nge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rge(t,e){var n=t.x,r=t.y,i=tge(t,Zme),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),g=parseInt(f,10);return o0(o0(o0(o0(o0({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function UB(t){return oe.createElement(m$,FC({shapeType:"rectangle",propTransformer:rge,activeClassName:"recharts-active-bar"},t))}var ige=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||If(),n)}},sge=["value","background"],S$;function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function age(t,e){if(t==null)return{};var n=oge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(this,arguments)}function zB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zB(Object(n),!0).forEach(function(r){wu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E$(r.key),r)}}function cge(t,e,n){return e&&VB(t.prototype,e),n&&VB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uge(t,e,n){return e=hw(e),dge(t,M$()?Reflect.construct(e,n||[],hw(t).constructor):e.apply(t,n))}function dge(t,e){if(e&&(fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fge(t)}function fge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M$=function(){return!!t})()}function hw(t){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hw(t)}function hge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BC(t,e)}function BC(t,e){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BC(t,e)}function wu(t,e,n){return e=E$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t){var e=pge(t,"string");return fm(e)=="symbol"?e:e+""}function pge(t,e){if(fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ku=function(t){function e(){var n;lge(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=uge(this,e,[].concat(i)),wu(n,"state",{isAnimationFinished:!1}),wu(n,"id",$f("recharts-bar-")),wu(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),wu(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return hge(e,t),cge(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,d=kt(this.props,!1);return r&&r.map(function(f,g){var y=g===l,x=y?c:a,S=Wr(Wr(Wr({},d),f),{},{isActive:y,option:x,index:g,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return oe.createElement(mn,fw({className:"recharts-bar-rectangle"},Nf(i.props,f,g),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(g)}),oe.createElement(UB,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,g=this.state.prevData;return oe.createElement(_o,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t,S=s.map(function(b,_){var E=g&&g[_];if(E){var M=si(E.x,b.x),P=si(E.y,b.y),C=si(E.width,b.width),N=si(E.height,b.height);return Wr(Wr({},b),{},{x:M(x),y:P(x),width:C(x),height:N(x)})}if(a==="horizontal"){var O=si(0,b.height),D=O(x);return Wr(Wr({},b),{},{y:b.y+b.height-D,height:D})}var U=si(0,b.width),L=U(x);return Wr(Wr({},b),{},{width:L})});return oe.createElement(mn,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!kf(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=kt(this.props.background,!1);return s.map(function(c,d){c.value;var f=c.background,g=age(c,sge);if(!f)return null;var y=Wr(Wr(Wr(Wr(Wr({},g),{},{fill:"#eee"},f),l),Nf(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return oe.createElement(UB,fw({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,f=ca(d,gy);if(!f)return null;var g=c==="vertical"?a[0].height/2:a[0].width/2,y=function(b,_){var E=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:E,errorVal:Dr(b,_)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return oe.createElement(mn,x,f.map(function(S){return oe.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:g,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,g=r.height,y=r.isAnimationActive,x=r.background,S=r.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,_=cn("recharts-bar",a),E=o&&o.allowDataOverflow,M=l&&l.allowDataOverflow,P=E||M,C=Qt(S)?this.id:S;return oe.createElement(mn,{className:_},E||M?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(C)},oe.createElement("rect",{x:E?c:c-f/2,y:M?d:d-g/2,width:E?f:f*2,height:M?g:g*2}))):null,oe.createElement(mn,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(C,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,C),(!y||b)&&Zo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(B.PureComponent);S$=ku;wu(ku,"displayName","Bar");wu(ku,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Uu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wu(ku,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,g=t.offset,y=Vue(r,n);if(!y)return null;var x=e.layout,S=n.type.defaultProps,b=S!==void 0?Wr(Wr({},S),n.props):n.props,_=b.dataKey,E=b.children,M=b.minPointSize,P=x==="horizontal"?a:s,C=c?P.scale.domain():null,N=Yue({numericAxis:P}),O=ca(E,n_),D=f.map(function(U,L){var I,$,X,V,Z,ee;c?I=Hue(c[d+L],C):(I=Dr(U,_),Array.isArray(I)||(I=[N,I]));var re=ige(M,S$.defaultProps.minPointSize)(I[1],L);if(x==="horizontal"){var H,J=[a.scale(I[0]),a.scale(I[1])],K=J[0],q=J[1];$=pF({axis:s,ticks:o,bandSize:i,offset:y.offset,entry:U,index:L}),X=(H=q??K)!==null&&H!==void 0?H:void 0,V=y.size;var ne=K-q;if(Z=Number.isNaN(ne)?0:ne,ee={x:$,y:a.y,width:V,height:a.height},Math.abs(re)>0&&Math.abs(Z)<Math.abs(re)){var ve=ms(Z||re)*(Math.abs(re)-Math.abs(Z));X-=ve,Z+=ve}}else{var se=[s.scale(I[0]),s.scale(I[1])],de=se[0],Ee=se[1];if($=de,X=pF({axis:a,ticks:l,bandSize:i,offset:y.offset,entry:U,index:L}),V=Ee-de,Z=y.size,ee={x:s.x,y:X,width:s.width,height:Z},Math.abs(re)>0&&Math.abs(V)<Math.abs(re)){var Ve=ms(V||re)*(Math.abs(re)-Math.abs(V));V+=Ve}}return Wr(Wr(Wr({},U),{},{x:$,y:X,width:V,height:Z,value:c?I:I[1],payload:U,background:ee},O&&O[L]&&O[L].props),{},{tooltipPayload:[Z7(n,U)],tooltipPosition:{x:$+V/2,y:X+Z/2}})});return Wr({data:D,layout:x},g)});function kv(t){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function mge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A$(r.key),r)}}function gge(t,e,n){return e&&HB(t.prototype,e),n&&HB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function go(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(n),!0).forEach(function(r){x_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x_(t,e,n){return e=A$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A$(t){var e=vge(t,"string");return kv(e)=="symbol"?e:e+""}function vge(t,e){if(kv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uk=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},g=!!na(c,ku);return d.reduce(function(y,x){var S=n[x],b=S.orientation,_=S.domain,E=S.padding,M=E===void 0?{}:E,P=S.mirror,C=S.reversed,N="".concat(b).concat(P?"Mirror":""),O,D,U,L,I;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var $=_[1]-_[0],X=1/0,V=S.categoricalDomain.sort(Rne);if(V.forEach(function(se,de){de>0&&(X=Math.min((se||0)-(V[de-1]||0),X))}),Number.isFinite(X)){var Z=X/$,ee=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(O=Z*ee/2),S.padding==="no-gap"){var re=gs(e.barCategoryGap,Z*ee),H=Z*ee/2;O=H-re-(H-re)/ee*re}}}i==="xAxis"?D=[r.left+(M.left||0)+(O||0),r.left+r.width-(M.right||0)-(O||0)]:i==="yAxis"?D=l==="horizontal"?[r.top+r.height-(M.bottom||0),r.top+(M.top||0)]:[r.top+(M.top||0)+(O||0),r.top+r.height-(M.bottom||0)-(O||0)]:D=S.range,C&&(D=[D[1],D[0]]);var J=q7(S,s,g),K=J.scale,q=J.realScaleType;K.domain(_).range(D),X7(K);var ne=Y7(K,go(go({},S),{},{realScaleType:q}));i==="xAxis"?(I=b==="top"&&!P||b==="bottom"&&P,U=r.left,L=f[N]-I*S.height):i==="yAxis"&&(I=b==="left"&&!P||b==="right"&&P,U=f[N]-I*S.width,L=r.top);var ve=go(go(go({},S),ne),{},{realScaleType:q,x:U,y:L,scale:K,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return ve.bandSize=Z1(ve,ne),!S.hide&&i==="xAxis"?f[N]+=(I?-1:1)*ve.height:S.hide||(f[N]+=(I?-1:1)*ve.width),go(go({},y),{},x_({},x,ve))},{})},T$=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},yge=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return T$({x:n,y:r},{x:i,y:s})},P$=function(){function t(e){mge(this,t),this.scale=e}return gge(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();x_(P$,"EPS",1e-4);var zk=function(e){var n=Object.keys(e).reduce(function(r,i){return go(go({},r),{},x_({},i,P$.create(e[i])))},{});return go(go({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return Gme(i,function(l,c){return n[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return _$(i,function(s,a){return n[a].isInRange(s)})}})};function xge(t){return(t%180+180)%180}var bge=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=xge(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},XA,WB;function wge(){if(WB)return XA;WB=1;var t=sl(),e=dy(),n=Qw();function r(i){return function(s,a,o){var l=Object(s);if(!e(s)){var c=t(a,3);s=n(s),a=function(f){return c(l[f],f,l)}}var d=i(s,a,o);return d>-1?l[c?s[d]:d]:void 0}}return XA=r,XA}var YA,GB;function _ge(){if(GB)return YA;GB=1;var t=y$();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return YA=e,YA}var KA,qB;function Sge(){if(qB)return KA;qB=1;var t=PH(),e=sl(),n=_ge(),r=Math.max;function i(s,a,o){var l=s==null?0:s.length;if(!l)return-1;var c=o==null?0:n(o);return c<0&&(c=r(l+c,0)),t(s,e(a,3),c)}return KA=i,KA}var ZA,XB;function Mge(){if(XB)return ZA;XB=1;var t=wge(),e=Sge(),n=t(e);return ZA=n,ZA}var Ege=Mge();const Age=Rn(Ege);var Tge=HV();const Pge=Rn(Tge);var Cge=Pge(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Vk=B.createContext(void 0),Hk=B.createContext(void 0),C$=B.createContext(void 0),N$=B.createContext({}),R$=B.createContext(void 0),k$=B.createContext(0),O$=B.createContext(0),YB=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,d=Cge(s);return oe.createElement(Vk.Provider,{value:r},oe.createElement(Hk.Provider,{value:i},oe.createElement(N$.Provider,{value:s},oe.createElement(C$.Provider,{value:d},oe.createElement(R$.Provider,{value:a},oe.createElement(k$.Provider,{value:c},oe.createElement(O$.Provider,{value:l},o)))))))},Nge=function(){return B.useContext(R$)},I$=function(e){var n=B.useContext(Vk);n==null&&If();var r=n[e];return r==null&&If(),r},Rge=function(){var e=B.useContext(Vk);return vu(e)},kge=function(){var e=B.useContext(Hk),n=Age(e,function(r){return _$(r.domain,Number.isFinite)});return n||vu(e)},L$=function(e){var n=B.useContext(Hk);n==null&&If();var r=n[e];return r==null&&If(),r},Oge=function(){var e=B.useContext(C$);return e},Ige=function(){return B.useContext(N$)},$k=function(){return B.useContext(O$)},Wk=function(){return B.useContext(k$)};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function Lge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j$(r.key),r)}}function jge(t,e,n){return e&&Dge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fge(t,e,n){return e=pw(e),Bge(t,D$()?Reflect.construct(e,n||[],pw(t).constructor):e.apply(t,n))}function Bge(t,e){if(e&&(hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uge(t)}function Uge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D$=function(){return!!t})()}function pw(t){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pw(t)}function zge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UC(t,e)}function UC(t,e){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UC(t,e)}function KB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KB(Object(n),!0).forEach(function(r){Gk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gk(t,e,n){return e=j$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j$(t){var e=Vge(t,"string");return hm(e)=="symbol"?e:e+""}function Vge(t,e){if(hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hge(t,e){return qge(t)||Gge(t,e)||Wge(t,e)||$ge()}function $ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wge(t,e){if(t){if(typeof t=="string")return JB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JB(t,e)}}function JB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function qge(t){if(Array.isArray(t))return t}function zC(){return zC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zC.apply(this,arguments)}var Xge=function(e,n){var r;return oe.isValidElement(e)?r=oe.cloneElement(e,n):Gt(e)?r=e(n):r=oe.createElement("line",zC({},n,{className:"recharts-reference-line-line"})),r},Yge=function(e,n,r,i,s,a,o,l,c){var d=s.x,f=s.y,g=s.width,y=s.height;if(r){var x=c.y,S=e.y.apply(x,{position:a});if(Jo(c,"discard")&&!e.y.isInRange(S))return null;var b=[{x:d+g,y:S},{x:d,y:S}];return l==="left"?b.reverse():b}if(n){var _=c.x,E=e.x.apply(_,{position:a});if(Jo(c,"discard")&&!e.x.isInRange(E))return null;var M=[{x:E,y:f+y},{x:E,y:f}];return o==="top"?M.reverse():M}if(i){var P=c.segment,C=P.map(function(N){return e.apply(N,{position:a})});return Jo(c,"discard")&&Vme(C,function(N){return!e.isInRange(N)})?null:C}return null};function Kge(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=Nge(),d=I$(i),f=L$(s),g=Oge();if(!c||!g)return null;wo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=zk({x:d.scale,y:f.scale}),x=ai(e),S=ai(n),b=r&&r.length===2,_=Yge(y,x,S,b,g,t.position,d.orientation,f.orientation,t);if(!_)return null;var E=Hge(_,2),M=E[0],P=M.x,C=M.y,N=E[1],O=N.x,D=N.y,U=Jo(t,"hidden")?"url(#".concat(c,")"):void 0,L=ZB(ZB({clipPath:U},kt(t,!0)),{},{x1:P,y1:C,x2:O,y2:D});return oe.createElement(mn,{className:cn("recharts-reference-line",o)},Xge(a,L),vi.renderCallByParent(t,yge({x1:P,y1:C,x2:O,y2:D})))}var qk=function(t){function e(){return Lge(this,e),Fge(this,e,arguments)}return zge(e,t),jge(e,[{key:"render",value:function(){return oe.createElement(Kge,this.props)}}])}(oe.Component);Gk(qk,"displayName","ReferenceLine");Gk(qk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function VC(){return VC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VC.apply(this,arguments)}function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function QB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(n),!0).forEach(function(r){b_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B$(r.key),r)}}function Qge(t,e,n){return e&&Jge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e0e(t,e,n){return e=mw(e),t0e(t,F$()?Reflect.construct(e,n||[],mw(t).constructor):e.apply(t,n))}function t0e(t,e){if(e&&(pm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n0e(t)}function n0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F$=function(){return!!t})()}function mw(t){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mw(t)}function r0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HC(t,e)}function HC(t,e){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HC(t,e)}function b_(t,e,n){return e=B$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B$(t){var e=i0e(t,"string");return pm(e)=="symbol"?e:e+""}function i0e(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var s0e=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=zk({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return Jo(e,"discard")&&!a.isInRange(o)?null:o},w_=function(t){function e(){return Zge(this,e),e0e(this,e,arguments)}return r0e(e,t),Qge(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=ai(i),d=ai(s);if(wo(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=s0e(this.props);if(!f)return null;var g=f.x,y=f.y,x=this.props,S=x.shape,b=x.className,_=Jo(this.props,"hidden")?"url(#".concat(l,")"):void 0,E=eU(eU({clipPath:_},kt(this.props,!0)),{},{cx:g,cy:y});return oe.createElement(mn,{className:cn("recharts-reference-dot",b)},e.renderDot(S,E),vi.renderCallByParent(this.props,{x:g-a,y:y-a,width:2*a,height:2*a}))}}])}(oe.Component);b_(w_,"displayName","ReferenceDot");b_(w_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});b_(w_,"renderDot",function(t,e){var n;return oe.isValidElement(t)?n=oe.cloneElement(t,e):Gt(t)?n=t(e):n=oe.createElement(vy,VC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function $C(){return $C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$C.apply(this,arguments)}function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function tU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(n),!0).forEach(function(r){__(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z$(r.key),r)}}function l0e(t,e,n){return e&&o0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c0e(t,e,n){return e=gw(e),u0e(t,U$()?Reflect.construct(e,n||[],gw(t).constructor):e.apply(t,n))}function u0e(t,e){if(e&&(mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d0e(t)}function d0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U$=function(){return!!t})()}function gw(t){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gw(t)}function f0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WC(t,e)}function WC(t,e){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WC(t,e)}function __(t,e,n){return e=z$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z$(t){var e=h0e(t,"string");return mm(e)=="symbol"?e:e+""}function h0e(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var p0e=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var g=zk({x:d.scale,y:f.scale}),y={x:e?g.x.apply(a,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(l,{position:"start"}):g.y.rangeMin},x={x:n?g.x.apply(o,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(c,{position:"end"}):g.y.rangeMax};return Jo(s,"discard")&&(!g.isInRange(y)||!g.isInRange(x))?null:T$(y,x)},S_=function(t){function e(){return a0e(this,e),c0e(this,e,arguments)}return f0e(e,t),l0e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;wo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ai(i),g=ai(s),y=ai(a),x=ai(o),S=this.props.shape;if(!f&&!g&&!y&&!x&&!S)return null;var b=p0e(f,g,y,x,this.props);if(!b&&!S)return null;var _=Jo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return oe.createElement(mn,{className:cn("recharts-reference-area",l)},e.renderRect(S,nU(nU({clipPath:_},kt(this.props,!0)),b)),vi.renderCallByParent(this.props,b))}}])}(oe.Component);__(S_,"displayName","ReferenceArea");__(S_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});__(S_,"renderRect",function(t,e){var n;return oe.isValidElement(t)?n=oe.cloneElement(t,e):Gt(t)?n=t(e):n=oe.createElement(Bk,$C({},e,{className:"recharts-reference-area-rect"})),n});function V$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function m0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return bge(r,n)}function g0e(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function vw(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function v0e(t,e){return V$(t,e+1)}function y0e(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,c=1,d=a,f=function(){var x=r==null?void 0:r[l];if(x===void 0)return{v:V$(r,c)};var S=l,b,_=function(){return b===void 0&&(b=n(x,S)),b},E=x.coordinate,M=l===0||vw(t,E,_,d,o);M||(l=0,d=a,c+=1),M&&(d=E+t*(_()/2+i),l+=c)},g;c<=s.length;)if(g=f(),g)return g.v;return[]}function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function rU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rU(Object(n),!0).forEach(function(r){x0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x0e(t,e,n){return e=b0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b0e(t){var e=w0e(t,"string");return Ov(e)=="symbol"?e:e+""}function w0e(t,e){if(Ov(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ov(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _0e(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(g){var y=s[g],x,S=function(){return x===void 0&&(x=n(y,g)),x};if(g===a-1){var b=t*(y.coordinate+t*S()/2-l);s[g]=y=qi(qi({},y),{},{tickCoord:b>0?y.coordinate-b*t:y.coordinate})}else s[g]=y=qi(qi({},y),{},{tickCoord:y.coordinate});var _=vw(t,y.tickCoord,S,o,l);_&&(l=y.tickCoord-t*(S()/2+i),s[g]=qi(qi({},y),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return s}function S0e(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var d=r[o-1],f=n(d,o-1),g=t*(d.coordinate+t*f/2-c);a[o-1]=d=qi(qi({},d),{},{tickCoord:g>0?d.coordinate-g*t:d.coordinate});var y=vw(t,d.tickCoord,function(){return f},l,c);y&&(c=d.tickCoord-t*(f/2+i),a[o-1]=qi(qi({},d),{},{isShow:!0}))}for(var x=s?o-1:o,S=function(E){var M=a[E],P,C=function(){return P===void 0&&(P=n(M,E)),P};if(E===0){var N=t*(M.coordinate-t*C()/2-l);a[E]=M=qi(qi({},M),{},{tickCoord:N<0?M.coordinate-N*t:M.coordinate})}else a[E]=M=qi(qi({},M),{},{tickCoord:M.coordinate});var O=vw(t,M.tickCoord,C,l,c);O&&(l=M.tickCoord+t*(C()/2+i),a[E]=qi(qi({},M),{},{isShow:!0}))},b=0;b<x;b++)S(b);return a}function Xk(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(et(l)||Uu.isSsr)return v0e(i,typeof l=="number"&&et(l)?l:0);var g=[],y=o==="top"||o==="bottom"?"width":"height",x=d&&y==="width"?L0(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(M,P){var C=Gt(c)?c(M.value,P):M.value;return y==="width"?m0e(L0(C,{fontSize:e,letterSpacing:n}),x,f):L0(C,{fontSize:e,letterSpacing:n})[y]},b=i.length>=2?ms(i[1].coordinate-i[0].coordinate):1,_=g0e(s,b,y);return l==="equidistantPreserveStart"?y0e(b,_,S,i,a):(l==="preserveStart"||l==="preserveStartEnd"?g=S0e(b,_,S,i,a,l==="preserveStartEnd"):g=_0e(b,_,S,i,a),g.filter(function(E){return E.isShow}))}var M0e=["viewBox"],E0e=["viewBox"],A0e=["ticks"];function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Op.apply(this,arguments)}function iU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iU(Object(n),!0).forEach(function(r){Yk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JA(t,e){if(t==null)return{};var n=T0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function P0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$$(r.key),r)}}function C0e(t,e,n){return e&&sU(t.prototype,e),n&&sU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function N0e(t,e,n){return e=yw(e),R0e(t,H$()?Reflect.construct(e,n||[],yw(t).constructor):e.apply(t,n))}function R0e(t,e){if(e&&(gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k0e(t)}function k0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H$=function(){return!!t})()}function yw(t){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yw(t)}function O0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GC(t,e)}function GC(t,e){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GC(t,e)}function Yk(t,e,n){return e=$$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $$(t){var e=I0e(t,"string");return gm(e)=="symbol"?e:e+""}function I0e(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vm=function(t){function e(n){var r;return P0e(this,e),r=N0e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return O0e(e,t),C0e(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=JA(r,M0e),o=this.props,l=o.viewBox,c=JA(o,E0e);return!Hp(s,l)||!Hp(a,c)||!Hp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,g=i.tickMargin,y,x,S,b,_,E,M=f?-1:1,P=r.tickSize||d,C=et(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":y=x=r.coordinate,b=a+ +!f*l,S=b-M*P,E=S-M*g,_=C;break;case"left":S=b=r.coordinate,x=s+ +!f*o,y=x-M*P,_=y-M*g,E=C;break;case"right":S=b=r.coordinate,x=s+ +f*o,y=x+M*P,_=y+M*g,E=C;break;default:y=x=r.coordinate,b=a+ +f*l,S=b+M*P,E=S+M*g,_=C;break}return{line:{x1:y,y1:S,x2:x,y2:b},tick:{x:_,y:E}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=us(us(us({},kt(this.props,!1)),kt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var g=+(l==="top"&&!c||l==="bottom"&&c);f=us(us({},f),{},{x1:i,y1:s+g*o,x2:i+a,y2:s+g*o})}else{var y=+(l==="left"&&!c||l==="right"&&c);f=us(us({},f),{},{x1:i+y*a,y1:s,x2:i+y*a,y2:s+o})}return oe.createElement("line",Op({},f,{className:cn("recharts-cartesian-axis-line",la(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,f=o.tickFormatter,g=o.unit,y=Xk(us(us({},this.props),{},{ticks:r}),i,s),x=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),b=kt(this.props,!1),_=kt(d,!1),E=us(us({},b),{},{fill:"none"},kt(l,!1)),M=y.map(function(P,C){var N=a.getTickLineCoord(P),O=N.line,D=N.tick,U=us(us(us(us({textAnchor:x,verticalAnchor:S},b),{},{stroke:"none",fill:c},_),D),{},{index:C,payload:P,visibleTicksCount:y.length,tickFormatter:f});return oe.createElement(mn,Op({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Nf(a.props,P,C)),l&&oe.createElement("line",Op({},E,O,{className:cn("recharts-cartesian-axis-tick-line",la(l,"className"))})),d&&e.renderTickItem(d,U,"".concat(Gt(f)?f(P.value,C):P.value).concat(g||"")))});return oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},M)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,g=f.ticks,y=JA(f,A0e),x=g;return Gt(l)&&(x=g&&g.length>0?l(this.props):l(y)),a<=0||o<=0||!x||!x.length?null:oe.createElement(mn,{className:cn("recharts-cartesian-axis",c),ref:function(b){r.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),vi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return oe.isValidElement(r)?a=oe.cloneElement(r,i):Gt(r)?a=r(i):a=oe.createElement(Rf,Op({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(B.Component);Yk(Vm,"displayName","CartesianAxis");Yk(Vm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var L0e=["x1","y1","x2","y2","key"],D0e=["offset"];function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function aU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aU(Object(n),!0).forEach(function(r){j0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j0e(t,e,n){return e=F0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F0e(t){var e=B0e(t,"string");return Lf(e)=="symbol"?e:e+""}function B0e(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pf.apply(this,arguments)}function oU(t,e){if(t==null)return{};var n=U0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function U0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var z0e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return oe.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function W$(t,e){var n;if(oe.isValidElement(t))n=oe.cloneElement(t,e);else if(Gt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=oU(e,L0e),c=kt(l,!1);c.offset;var d=oU(c,D0e);n=oe.createElement("line",pf({},d,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function V0e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Xi(Xi({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return W$(i,c)});return oe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function H0e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Xi(Xi({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return W$(i,c)});return oe.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function $0e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=o.map(function(g){return Math.round(g+i-i)}).sort(function(g,y){return g-y});i!==d[0]&&d.unshift(0);var f=d.map(function(g,y){var x=!d[y+1],S=x?i+a-g:d[y+1]-g;if(S<=0)return null;var b=y%e.length;return oe.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:S,width:s,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function W0e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(g){return Math.round(g+s-s)}).sort(function(g,y){return g-y});s!==d[0]&&d.unshift(0);var f=d.map(function(g,y){var x=!d[y+1],S=x?s+o-g:d[y+1]-g;if(S<=0)return null;var b=y%r.length;return oe.createElement("rect",{key:"react-".concat(y),x:g,y:a,width:S,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var G0e=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return G7(Xk(Xi(Xi(Xi({},Vm.defaultProps),r),{},{ticks:Jl(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},q0e=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return G7(Xk(Xi(Xi(Xi({},Vm.defaultProps),r),{},{ticks:Jl(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},Jh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function n1(t){var e,n,r,i,s,a,o=$k(),l=Wk(),c=Ige(),d=Xi(Xi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Jh.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Jh.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Jh.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Jh.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Jh.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Jh.verticalFill,x:et(t.x)?t.x:c.left,y:et(t.y)?t.y:c.top,width:et(t.width)?t.width:c.width,height:et(t.height)?t.height:c.height}),f=d.x,g=d.y,y=d.width,x=d.height,S=d.syncWithTicks,b=d.horizontalValues,_=d.verticalValues,E=Rge(),M=kge();if(!et(y)||y<=0||!et(x)||x<=0||!et(f)||f!==+f||!et(g)||g!==+g)return null;var P=d.verticalCoordinatesGenerator||G0e,C=d.horizontalCoordinatesGenerator||q0e,N=d.horizontalPoints,O=d.verticalPoints;if((!N||!N.length)&&Gt(C)){var D=b&&b.length,U=C({yAxis:M?Xi(Xi({},M),{},{ticks:D?b:M.ticks}):void 0,width:o,height:l,offset:c},D?!0:S);wo(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Lf(U),"]")),Array.isArray(U)&&(N=U)}if((!O||!O.length)&&Gt(P)){var L=_&&_.length,I=P({xAxis:E?Xi(Xi({},E),{},{ticks:L?_:E.ticks}):void 0,width:o,height:l,offset:c},L?!0:S);wo(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Lf(I),"]")),Array.isArray(I)&&(O=I)}return oe.createElement("g",{className:"recharts-cartesian-grid"},oe.createElement(z0e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),oe.createElement(V0e,pf({},d,{offset:c,horizontalPoints:N,xAxis:E,yAxis:M})),oe.createElement(H0e,pf({},d,{offset:c,verticalPoints:O,xAxis:E,yAxis:M})),oe.createElement($0e,pf({},d,{horizontalPoints:N})),oe.createElement(W0e,pf({},d,{verticalPoints:O})))}n1.displayName="CartesianGrid";var X0e=["type","layout","connectNulls","ref"],Y0e=["key"];function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function lU(t,e){if(t==null)return{};var n=K0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z0.apply(this,arguments)}function cU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cU(Object(n),!0).forEach(function(r){vo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qh(t){return eve(t)||Q0e(t)||J0e(t)||Z0e()}function Z0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J0e(t,e){if(t){if(typeof t=="string")return qC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qC(t,e)}}function Q0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eve(t){if(Array.isArray(t))return qC(t)}function qC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q$(r.key),r)}}function nve(t,e,n){return e&&uU(t.prototype,e),n&&uU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rve(t,e,n){return e=xw(e),ive(t,G$()?Reflect.construct(e,n||[],xw(t).constructor):e.apply(t,n))}function ive(t,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sve(t)}function sve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!t})()}function xw(t){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xw(t)}function ave(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XC(t,e)}function XC(t,e){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XC(t,e)}function vo(t,e,n){return e=q$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q$(t){var e=ove(t,"string");return vm(e)=="symbol"?e:e+""}function ove(t,e){if(vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yy=function(t){function e(){var n;tve(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=rve(this,e,[].concat(i)),vo(n,"state",{isAnimationFinished:!0,totalLength:0}),vo(n,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),vo(n,"getStrokeDasharray",function(a,o,l){var c=l.reduce(function(_,E){return _+E});if(!c)return n.generateSimpleStrokeDasharray(o,a);for(var d=Math.floor(a/c),f=a%c,g=o-a,y=[],x=0,S=0;x<l.length;S+=l[x],++x)if(S+l[x]>f){y=[].concat(Qh(l.slice(0,x)),[f-S]);break}var b=y.length%2===0?[0,g]:[g];return[].concat(Qh(e.repeat(l,d)),Qh(y),b).map(function(_){return"".concat(_,"px")}).join(", ")}),vo(n,"id",$f("recharts-line-")),vo(n,"pathRef",function(a){n.mainCurve=a}),vo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),vo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return ave(e,t),nve(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,f=ca(d,gy);if(!f)return null;var g=function(S,b){return{x:S.x,y:S.y,value:S.value,errorVal:Dr(S.payload,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return oe.createElement(mn,y,f.map(function(x){return oe.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,dataPointFormatter:g})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,d=o.dataKey,f=kt(this.props,!1),g=kt(l,!0),y=c.map(function(S,b){var _=ea(ea(ea({key:"dot-".concat(b),r:3},f),g),{},{index:b,cx:S.x,cy:S.y,value:S.value,dataKey:d,payload:S.payload,points:c});return e.renderDotItem(l,_)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return oe.createElement(mn,z0({className:"recharts-line-dots",key:"dots"},x),y)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,l=o.type,c=o.layout,d=o.connectNulls;o.ref;var f=lU(o,X0e),g=ea(ea(ea({},kt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:d});return oe.createElement(Sf,z0({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,c=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,g=a.animationEasing,y=a.animationId,x=a.animateNewValues,S=a.width,b=a.height,_=this.state,E=_.prevPoints,M=_.totalLength;return oe.createElement(_o,{begin:d,duration:f,isActive:c,easing:g,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var C=P.t;if(E){var N=E.length/o.length,O=o.map(function($,X){var V=Math.floor(X*N);if(E[V]){var Z=E[V],ee=si(Z.x,$.x),re=si(Z.y,$.y);return ea(ea({},$),{},{x:ee(C),y:re(C)})}if(x){var H=si(S*2,$.x),J=si(b/2,$.y);return ea(ea({},$),{},{x:H(C),y:J(C)})}return ea(ea({},$),{},{x:$.x,y:$.y})});return s.renderCurveStatically(O,r,i)}var D=si(0,M),U=D(C),L;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function($){return parseFloat($)});L=s.getStrokeDasharray(U,M,I)}else L=s.generateSimpleStrokeDasharray(M,U);return s.renderCurveStatically(o,r,i,{strokeDasharray:L})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return o&&a&&a.length&&(!c&&d>0||!kf(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,g=i.left,y=i.width,x=i.height,S=i.isAnimationActive,b=i.id;if(s||!o||!o.length)return null;var _=this.state.isAnimationFinished,E=o.length===1,M=cn("recharts-line",l),P=c&&c.allowDataOverflow,C=d&&d.allowDataOverflow,N=P||C,O=Qt(b)?this.id:b,D=(r=kt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},U=D.r,L=U===void 0?3:U,I=D.strokeWidth,$=I===void 0?2:I,X=XV(a)?a:{},V=X.clipDot,Z=V===void 0?!0:V,ee=L*2+$;return oe.createElement(mn,{className:M},P||C?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(O)},oe.createElement("rect",{x:P?g:g-y/2,y:C?f:f-x/2,width:P?y:y*2,height:C?x:x*2})),!Z&&oe.createElement("clipPath",{id:"clipPath-dots-".concat(O)},oe.createElement("rect",{x:g-ee/2,y:f-ee/2,width:y+ee,height:x+ee}))):null,!E&&this.renderCurve(N,O),this.renderErrorBar(N,O),(E||a)&&this.renderDots(N,Z,O),(!S||_)&&Zo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Qh(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(Qh(a),Qh(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(oe.isValidElement(r))s=oe.cloneElement(r,i);else if(Gt(r))s=r(i);else{var a=i.key,o=lU(i,Y0e),l=cn("recharts-line-dot",typeof r!="boolean"?r.className:"");s=oe.createElement(vy,z0({key:a},o,{className:l}))}return s}}])}(B.PureComponent);vo(yy,"displayName","Line");vo(yy,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Uu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});vo(yy,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(g,y){var x=Dr(g,a);return d==="horizontal"?{x:K1({axis:n,ticks:i,bandSize:o,entry:g,index:y}),y:Qt(x)?null:r.scale(x),value:x,payload:g}:{x:Qt(x)?null:n.scale(x),y:K1({axis:r,ticks:s,bandSize:o,entry:g,index:y}),value:x,payload:g}});return ea({points:f,layout:d},c)});var lve=["layout","type","stroke","connectNulls","isRange","ref"],cve=["key"],X$;function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function Y$(t,e){if(t==null)return{};var n=uve(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}function dU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dU(Object(n),!0).forEach(function(r){$o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z$(r.key),r)}}function fve(t,e,n){return e&&fU(t.prototype,e),n&&fU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hve(t,e,n){return e=bw(e),pve(t,K$()?Reflect.construct(e,n||[],bw(t).constructor):e.apply(t,n))}function pve(t,e){if(e&&(ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mve(t)}function mve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K$=function(){return!!t})()}function bw(t){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bw(t)}function gve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YC(t,e)}function YC(t,e){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YC(t,e)}function $o(t,e,n){return e=Z$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z$(t){var e=vve(t,"string");return ym(e)=="symbol"?e:e+""}function vve(t,e){if(ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dc=function(t){function e(){var n;dve(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=hve(this,e,[].concat(i)),$o(n,"state",{isAnimationFinished:!0}),$o(n,"id",$f("recharts-area-")),$o(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Gt(a)&&a()}),$o(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Gt(a)&&a()}),n}return gve(e,t),fve(e,[{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(a&&!o)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,g=kt(this.props,!1),y=kt(c,!0),x=d.map(function(b,_){var E=hu(hu(hu({key:"dot-".concat(_),r:3},g),y),{},{index:_,cx:b.x,cy:b.y,dataKey:f,value:b.value,payload:b.payload,points:d});return e.renderDotItem(c,E)}),S={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return oe.createElement(mn,mf({className:"recharts-area-dots"},S),x)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].x,c=a[a.length-1].x,d=r*Math.abs(l-c),f=bu(a.map(function(g){return g.y||0}));return et(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(bu(s.map(function(g){return g.y||0})),f)),et(f)?oe.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].y,c=a[a.length-1].y,d=r*Math.abs(l-c),f=bu(a.map(function(g){return g.x||0}));return et(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(bu(s.map(function(g){return g.x||0})),f)),et(f)?oe.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,a){var o=this.props,l=o.layout,c=o.type,d=o.stroke,f=o.connectNulls,g=o.isRange;o.ref;var y=Y$(o,lve);return oe.createElement(mn,{clipPath:s?"url(#clipPath-".concat(a,")"):null},oe.createElement(Sf,mf({},kt(y,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&oe.createElement(Sf,mf({},kt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),d!=="none"&&g&&oe.createElement(Sf,mf({},kt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,g=a.animationEasing,y=a.animationId,x=this.state,S=x.prevPoints,b=x.prevBaseLine;return oe.createElement(_o,{begin:d,duration:f,isActive:c,easing:g,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var E=_.t;if(S){var M=S.length/o.length,P=o.map(function(D,U){var L=Math.floor(U*M);if(S[L]){var I=S[L],$=si(I.x,D.x),X=si(I.y,D.y);return hu(hu({},D),{},{x:$(E),y:X(E)})}return D}),C;if(et(l)&&typeof l=="number"){var N=si(b,l);C=N(E)}else if(Qt(l)||jm(l)){var O=si(b,0);C=O(E)}else C=l.map(function(D,U){var L=Math.floor(U*M);if(b[L]){var I=b[L],$=si(I.x,D.x),X=si(I.y,D.y);return hu(hu({},D),{},{x:$(E),y:X(E)})}return D});return s.renderAreaStatically(P,C,r,i)}return oe.createElement(mn,null,oe.createElement("defs",null,oe.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(E))),oe.createElement(mn,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,a=s.points,o=s.baseLine,l=s.isAnimationActive,c=this.state,d=c.prevPoints,f=c.prevBaseLine,g=c.totalLength;return l&&a&&a.length&&(!d&&g>0||!kf(d,a)||!kf(f,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.top,d=i.left,f=i.xAxis,g=i.yAxis,y=i.width,x=i.height,S=i.isAnimationActive,b=i.id;if(s||!o||!o.length)return null;var _=this.state.isAnimationFinished,E=o.length===1,M=cn("recharts-area",l),P=f&&f.allowDataOverflow,C=g&&g.allowDataOverflow,N=P||C,O=Qt(b)?this.id:b,D=(r=kt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},U=D.r,L=U===void 0?3:U,I=D.strokeWidth,$=I===void 0?2:I,X=XV(a)?a:{},V=X.clipDot,Z=V===void 0?!0:V,ee=L*2+$;return oe.createElement(mn,{className:M},P||C?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(O)},oe.createElement("rect",{x:P?d:d-y/2,y:C?c:c-x/2,width:P?y:y*2,height:C?x:x*2})),!Z&&oe.createElement("clipPath",{id:"clipPath-dots-".concat(O)},oe.createElement("rect",{x:d-ee/2,y:c-ee/2,width:y+ee,height:x+ee}))):null,E?null:this.renderArea(N,O),(a||E)&&this.renderDots(N,Z,O),(!S||_)&&Zo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(B.PureComponent);X$=dc;$o(dc,"displayName","Area");$o(dc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Uu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});$o(dc,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,a=e.props.baseValue,o=a??s;if(et(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});$o(dc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,g=t.offset,y=e.layout,x=c&&c.length,S=X$.getBaseValue(e,n,r,i),b=y==="horizontal",_=!1,E=f.map(function(P,C){var N;x?N=c[d+C]:(N=Dr(P,l),Array.isArray(N)?_=!0:N=[S,N]);var O=N[1]==null||x&&Dr(P,l)==null;return b?{x:K1({axis:r,ticks:s,bandSize:o,entry:P,index:C}),y:O?null:i.scale(N[1]),value:N,payload:P}:{x:O?null:r.scale(N[1]),y:K1({axis:i,ticks:a,bandSize:o,entry:P,index:C}),value:N,payload:P}}),M;return x||_?M=E.map(function(P){var C=Array.isArray(P.value)?P.value[0]:null;return b?{x:P.x,y:C!=null&&P.y!=null?i.scale(C):null}:{x:C!=null?r.scale(C):null,y:P.y}}):M=b?i.scale(S):r.scale(S),hu({points:E,baseLine:M,layout:y,isRange:_},g)});$o(dc,"renderDotItem",function(t,e){var n;if(oe.isValidElement(t))n=oe.cloneElement(t,e);else if(Gt(t))n=t(e);else{var r=cn("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=Y$(e,cve);n=oe.createElement(vy,mf({},s,{key:i,className:r}))}return n});function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function yve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e9(r.key),r)}}function bve(t,e,n){return e&&xve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wve(t,e,n){return e=ww(e),_ve(t,J$()?Reflect.construct(e,n||[],ww(t).constructor):e.apply(t,n))}function _ve(t,e){if(e&&(xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sve(t)}function Sve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J$=function(){return!!t})()}function ww(t){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ww(t)}function Mve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KC(t,e)}function KC(t,e){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KC(t,e)}function Q$(t,e,n){return e=e9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e9(t){var e=Eve(t,"string");return xm(e)=="symbol"?e:e+""}function Eve(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZC(){return ZC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZC.apply(this,arguments)}function Ave(t){var e=t.xAxisId,n=$k(),r=Wk(),i=I$(e);return i==null?null:oe.createElement(Vm,ZC({},i,{className:cn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Jl(a,!0)}}))}var Eu=function(t){function e(){return yve(this,e),wve(this,e,arguments)}return Mve(e,t),bve(e,[{key:"render",value:function(){return oe.createElement(Ave,this.props)}}])}(oe.Component);Q$(Eu,"displayName","XAxis");Q$(Eu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function Tve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r9(r.key),r)}}function Cve(t,e,n){return e&&Pve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nve(t,e,n){return e=_w(e),Rve(t,t9()?Reflect.construct(e,n||[],_w(t).constructor):e.apply(t,n))}function Rve(t,e){if(e&&(bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kve(t)}function kve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function _w(t){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_w(t)}function Ove(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JC(t,e)}function JC(t,e){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JC(t,e)}function n9(t,e,n){return e=r9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r9(t){var e=Ive(t,"string");return bm(e)=="symbol"?e:e+""}function Ive(t,e){if(bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QC(){return QC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QC.apply(this,arguments)}var Lve=function(e){var n=e.yAxisId,r=$k(),i=Wk(),s=L$(n);return s==null?null:oe.createElement(Vm,QC({},s,{className:cn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Jl(o,!0)}}))},Au=function(t){function e(){return Tve(this,e),Nve(this,e,arguments)}return Ove(e,t),Cve(e,[{key:"render",value:function(){return oe.createElement(Lve,this.props)}}])}(oe.Component);n9(Au,"displayName","YAxis");n9(Au,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hU(t){return Bve(t)||Fve(t)||jve(t)||Dve()}function Dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jve(t,e){if(t){if(typeof t=="string")return eN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eN(t,e)}}function Fve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bve(t){if(Array.isArray(t))return eN(t)}function eN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tN=function(e,n,r,i,s){var a=ca(e,qk),o=ca(e,w_),l=[].concat(hU(a),hU(o)),c=ca(e,S_),d="".concat(i,"Id"),f=i[0],g=n;if(l.length&&(g=l.reduce(function(S,b){if(b.props[d]===r&&Jo(b.props,"extendDomain")&&et(b.props[f])){var _=b.props[f];return[Math.min(S[0],_),Math.max(S[1],_)]}return S},g)),c.length){var y="".concat(f,"1"),x="".concat(f,"2");g=c.reduce(function(S,b){if(b.props[d]===r&&Jo(b.props,"extendDomain")&&et(b.props[y])&&et(b.props[x])){var _=b.props[y],E=b.props[x];return[Math.min(S[0],_,E),Math.max(S[1],_,E)]}return S},g)}return s&&s.length&&(g=s.reduce(function(S,b){return et(b)?[Math.min(S[0],b),Math.max(S[1],b)]:S},g)),g},QA={exports:{}},pU;function Uve(){return pU||(pU=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,f,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,f||l,g),x=n?n+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],y]:l._events[x].push(y):(l._events[x]=y,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,y=f.length,x=new Array(y);g<y;g++)x[g]=f[g].fn;return x},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,g,y,x){var S=n?n+c:c;if(!this._events[S])return!1;var b=this._events[S],_=arguments.length,E,M;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,g),!0;case 5:return b.fn.call(b.context,d,f,g,y),!0;case 6:return b.fn.call(b.context,d,f,g,y,x),!0}for(M=1,E=new Array(_-1);M<_;M++)E[M-1]=arguments[M];b.fn.apply(b.context,E)}else{var P=b.length,C;for(M=0;M<P;M++)switch(b[M].once&&this.removeListener(c,b[M].fn,void 0,!0),_){case 1:b[M].fn.call(b[M].context);break;case 2:b[M].fn.call(b[M].context,d);break;case 3:b[M].fn.call(b[M].context,d,f);break;case 4:b[M].fn.call(b[M].context,d,f,g);break;default:if(!E)for(C=1,E=new Array(_-1);C<_;C++)E[C-1]=arguments[C];b[M].fn.apply(b[M].context,E)}}return!0},o.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,g){var y=n?n+c:c;if(!this._events[y])return this;if(!d)return a(this,y),this;var x=this._events[y];if(x.fn)x.fn===d&&(!g||x.once)&&(!f||x.context===f)&&a(this,y);else{for(var S=0,b=[],_=x.length;S<_;S++)(x[S].fn!==d||g&&!x[S].once||f&&x[S].context!==f)&&b.push(x[S]);b.length?this._events[y]=b.length===1?b[0]:b:a(this,y)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o}(QA)),QA.exports}var zve=Uve();const Vve=Rn(zve);var eT=new Vve,tT="recharts.syncMouseEvents";function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function Hve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i9(r.key),r)}}function Wve(t,e,n){return e&&$ve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nT(t,e,n){return e=i9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9(t){var e=Gve(t,"string");return Iv(e)=="symbol"?e:e+""}function Gve(t,e){if(Iv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qve=function(){function t(){Hve(this,t),nT(this,"activeIndex",0),nT(this,"coordinateList",[]),nT(this,"layout","horizontal")}return Wve(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,g=n.mouseHandlerCallback,y=g===void 0?null:g;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+l+c,g=a+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:g})}}}])}();function Xve(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&et(r)&&et(i))return!0}return!1}function Yve(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function s9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=nr(e,n,r,i),o=nr(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Kve(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,g=nr(o,l,c,f),y=nr(o,l,d,f);r=g.x,i=g.y,s=y.x,a=y.y}else return s9(e);return[{x:r,y:i},{x:s,y:a}]}function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function mU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(n),!0).forEach(function(r){Zve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zve(t,e,n){return e=Jve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jve(t){var e=Qve(t,"string");return Lv(e)=="symbol"?e:e+""}function Qve(t,e){if(Lv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eye(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,g=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!s||!a||g!=="ScatterChart"&&i!=="axis")return null;var x,S=Sf;if(g==="ScatterChart")x=a,S=dpe;else if(g==="BarChart")x=Yve(f,a,l,d),S=Bk;else if(f==="radial"){var b=s9(a),_=b.cx,E=b.cy,M=b.radius,P=b.startAngle,C=b.endAngle;x={cx:_,cy:E,startAngle:P,endAngle:C,innerRadius:M,outerRadius:M},S=r$}else x={points:Kve(f,a,l)},S=Sf;var N=Yx(Yx(Yx(Yx({stroke:"#ccc",pointerEvents:"none"},l),x),kt(y,!1)),{},{payload:o,payloadIndex:c,className:cn("recharts-tooltip-cursor",y.className)});return B.isValidElement(y)?B.cloneElement(y,N):B.createElement(S,N)}var tye=["item"],nye=["children","className","width","height","style","compact","title","desc"];function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(this,arguments)}function gU(t,e){return sye(t)||iye(t,e)||o9(t,e)||rye()}function rye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function sye(t){if(Array.isArray(t))return t}function vU(t,e){if(t==null)return{};var n=aye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l9(r.key),r)}}function cye(t,e,n){return e&&lye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uye(t,e,n){return e=Sw(e),dye(t,a9()?Reflect.construct(e,n||[],Sw(t).constructor):e.apply(t,n))}function dye(t,e){if(e&&(wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fye(t)}function fye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!t})()}function Sw(t){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sw(t)}function hye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nN(t,e)}function nN(t,e){return nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nN(t,e)}function _m(t){return gye(t)||mye(t)||o9(t)||pye()}function pye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o9(t,e){if(t){if(typeof t=="string")return rN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rN(t,e)}}function mye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gye(t){if(Array.isArray(t))return rN(t)}function rN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yU(Object(n),!0).forEach(function(r){$t(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $t(t,e,n){return e=l9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l9(t){var e=vye(t,"string");return wm(e)=="symbol"?e:e+""}function vye(t,e){if(wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yye={xAxis:["bottom","top"],yAxis:["left","right"]},xye={width:"100%",height:"100%"},c9={x:0,y:0};function Kx(t){return t}var bye=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},wye=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return je(je(je({},i),nr(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return je(je(je({},i),nr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return c9},M_=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(_m(o),_m(c)):o},[]);return a.length>0?a:e&&e.length&&et(i)&&et(s)?e.slice(i,s+1):[]};function u9(t){return t==="number"?[0,"auto"]:void 0}var iN=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=M_(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(a.dataKey&&!a.allowDuplicatedCategory){var y=f===void 0?o:f;g=E1(y,a.dataKey,i)}else g=f&&f[r]||o[r];return g?[].concat(_m(l),[Z7(c,g)]):l},[])},xU=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=bye(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=Due(a,o,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,g=iN(e,n,d,f),y=wye(r,o,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:g,activeCoordinate:y}}return null},_ye=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,g=e.stackOffset,y=W7(d,s);return r.reduce(function(x,S){var b,_=S.type.defaultProps!==void 0?je(je({},S.type.defaultProps),S.props):S.props,E=_.type,M=_.dataKey,P=_.allowDataOverflow,C=_.allowDuplicatedCategory,N=_.scale,O=_.ticks,D=_.includeHidden,U=_[a];if(x[U])return x;var L=M_(e.data,{graphicalItems:i.filter(function(ne){var ve,se=a in ne.props?ne.props[a]:(ve=ne.type.defaultProps)===null||ve===void 0?void 0:ve[a];return se===U}),dataStartIndex:l,dataEndIndex:c}),I=L.length,$,X,V;Xve(_.domain,P,E)&&($=vC(_.domain,null,P),y&&(E==="number"||N!=="auto")&&(V=j0(L,M,"category")));var Z=u9(E);if(!$||$.length===0){var ee,re=(ee=_.domain)!==null&&ee!==void 0?ee:Z;if(M){if($=j0(L,M,E),E==="category"&&y){var H=Nne($);C&&H?(X=$,$=cw(0,I)):C||($=vF(re,$,S).reduce(function(ne,ve){return ne.indexOf(ve)>=0?ne:[].concat(_m(ne),[ve])},[]))}else if(E==="category")C?$=$.filter(function(ne){return ne!==""&&!Qt(ne)}):$=vF(re,$,S).reduce(function(ne,ve){return ne.indexOf(ve)>=0||ve===""||Qt(ve)?ne:[].concat(_m(ne),[ve])},[]);else if(E==="number"){var J=zue(L,i.filter(function(ne){var ve,se,de=a in ne.props?ne.props[a]:(ve=ne.type.defaultProps)===null||ve===void 0?void 0:ve[a],Ee="hide"in ne.props?ne.props.hide:(se=ne.type.defaultProps)===null||se===void 0?void 0:se.hide;return de===U&&(D||!Ee)}),M,s,d);J&&($=J)}y&&(E==="number"||N!=="auto")&&(V=j0(L,M,"category"))}else y?$=cw(0,I):o&&o[U]&&o[U].hasStack&&E==="number"?$=g==="expand"?[0,1]:K7(o[U].stackGroups,l,c):$=$7(L,i.filter(function(ne){var ve=a in ne.props?ne.props[a]:ne.type.defaultProps[a],se="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return ve===U&&(D||!se)}),E,d,!0);if(E==="number")$=tN(f,$,U,s,O),re&&($=vC(re,$,P));else if(E==="category"&&re){var K=re,q=$.every(function(ne){return K.indexOf(ne)>=0});q&&($=K)}}return je(je({},x),{},$t({},U,je(je({},_),{},{axisType:s,domain:$,categoricalDomain:V,duplicateDomain:X,originalDomain:(b=_.domain)!==null&&b!==void 0?b:Z,isCategorical:y,layout:d})))},{})},Sye=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,g=M_(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),y=g.length,x=W7(d,s),S=-1;return r.reduce(function(b,_){var E=_.type.defaultProps!==void 0?je(je({},_.type.defaultProps),_.props):_.props,M=E[a],P=u9("number");if(!b[M]){S++;var C;return x?C=cw(0,y):o&&o[M]&&o[M].hasStack?(C=K7(o[M].stackGroups,l,c),C=tN(f,C,M,s)):(C=vC(P,$7(g,r.filter(function(N){var O,D,U=a in N.props?N.props[a]:(O=N.type.defaultProps)===null||O===void 0?void 0:O[a],L="hide"in N.props?N.props.hide:(D=N.type.defaultProps)===null||D===void 0?void 0:D.hide;return U===M&&!L}),"number",d),i.defaultProps.allowDataOverflow),C=tN(f,C,M,s)),je(je({},b),{},$t({},M,je(je({axisType:s},i.defaultProps),{},{hide:!0,orientation:la(yye,"".concat(s,".").concat(S%2),null),domain:C,originalDomain:P,isCategorical:x,layout:d})))}return b},{})},Mye=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),g=ca(d,s),y={};return g&&g.length?y=_ye(e,{axes:g,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(y=Sye(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),y},Eye=function(e){var n=vu(e),r=Jl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:fk(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Z1(n,r)}},bU=function(e){var n=e.children,r=e.defaultShowTooltip,i=na(n,dm),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Aye=function(e){return!e||!e.length?!1:e.some(function(n){var r=rc(n&&n.type);return r&&r.indexOf("Bar")>=0})},wU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Tye=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,d=r.height,f=r.children,g=r.margin||{},y=na(f,dm),x=na(f,Vo),S=Object.keys(l).reduce(function(C,N){var O=l[N],D=O.orientation;return!O.mirror&&!O.hide?je(je({},C),{},$t({},D,C[D]+O.width)):C},{left:g.left||0,right:g.right||0}),b=Object.keys(a).reduce(function(C,N){var O=a[N],D=O.orientation;return!O.mirror&&!O.hide?je(je({},C),{},$t({},D,la(C,"".concat(D))+O.height)):C},{top:g.top||0,bottom:g.bottom||0}),_=je(je({},b),S),E=_.bottom;y&&(_.bottom+=y.props.height||dm.defaultProps.height),x&&n&&(_=Bue(_,i,r,n));var M=c-_.left-_.right,P=d-_.top-_.bottom;return je(je({brushBottom:E},_),{},{width:Math.max(M,0),height:Math.max(P,0)})},Pye=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},E_=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,g=function(_,E){var M=E.graphicalItems,P=E.stackGroups,C=E.offset,N=E.updateId,O=E.dataStartIndex,D=E.dataEndIndex,U=_.barSize,L=_.layout,I=_.barGap,$=_.barCategoryGap,X=_.maxBarSize,V=wU(L),Z=V.numericAxisName,ee=V.cateAxisName,re=Aye(M),H=[];return M.forEach(function(J,K){var q=M_(_.data,{graphicalItems:[J],dataStartIndex:O,dataEndIndex:D}),ne=J.type.defaultProps!==void 0?je(je({},J.type.defaultProps),J.props):J.props,ve=ne.dataKey,se=ne.maxBarSize,de=ne["".concat(Z,"Id")],Ee=ne["".concat(ee,"Id")],Ve={},Ue=l.reduce(function(Q,W){var be=E["".concat(W.axisType,"Map")],Se=ne["".concat(W.axisType,"Id")];be&&be[Se]||W.axisType==="zAxis"||If();var Oe=be[Se];return je(je({},Q),{},$t($t({},W.axisType,Oe),"".concat(W.axisType,"Ticks"),Jl(Oe)))},Ve),ye=Ue[ee],We=Ue["".concat(ee,"Ticks")],ze=P&&P[de]&&P[de].hasStack&&Kue(J,P[de].stackGroups),Y=rc(J.type).indexOf("Bar")>=0,Ie=Z1(ye,We),ce=[],xe=re&&jue({barSize:U,stackGroups:P,totalSize:Pye(Ue,ee)});if(Y){var me,Fe,Be=Qt(se)?X:se,He=(me=(Fe=Z1(ye,We,!0))!==null&&Fe!==void 0?Fe:Be)!==null&&me!==void 0?me:0;ce=Fue({barGap:I,barCategoryGap:$,bandSize:He!==Ie?He:Ie,sizeList:xe[Ee],maxBarSize:Be}),He!==Ie&&(ce=ce.map(function(Q){return je(je({},Q),{},{position:je(je({},Q.position),{},{offset:Q.position.offset-He/2})})}))}var Ge=J&&J.type&&J.type.getComposedData;Ge&&H.push({props:je(je({},Ge(je(je({},Ue),{},{displayedData:q,props:_,dataKey:ve,item:J,bandSize:Ie,barPosition:ce,offset:C,stackedData:ze,layout:L,dataStartIndex:O,dataEndIndex:D}))),{},$t($t($t({key:J.key||"item-".concat(K)},Z,Ue[Z]),ee,Ue[ee]),"animationId",N)),childIndex:Vne(J,_.children),item:J})}),H},y=function(_,E){var M=_.props,P=_.dataStartIndex,C=_.dataEndIndex,N=_.updateId;if(!kD({props:M}))return null;var O=M.children,D=M.layout,U=M.stackOffset,L=M.data,I=M.reverseStackOrder,$=wU(D),X=$.numericAxisName,V=$.cateAxisName,Z=ca(O,r),ee=Xue(L,Z,"".concat(X,"Id"),"".concat(V,"Id"),U,I),re=l.reduce(function(ne,ve){var se="".concat(ve.axisType,"Map");return je(je({},ne),{},$t({},se,Mye(M,je(je({},ve),{},{graphicalItems:Z,stackGroups:ve.axisType===X&&ee,dataStartIndex:P,dataEndIndex:C}))))},{}),H=Tye(je(je({},re),{},{props:M,graphicalItems:Z}),E==null?void 0:E.legendBBox);Object.keys(re).forEach(function(ne){re[ne]=d(M,re[ne],H,ne.replace("Map",""),n)});var J=re["".concat(V,"Map")],K=Eye(J),q=g(M,je(je({},re),{},{dataStartIndex:P,dataEndIndex:C,updateId:N,graphicalItems:Z,stackGroups:ee,offset:H}));return je(je({formattedGraphicalItems:q,graphicalItems:Z,offset:H,stackGroups:ee},K),re)},x=function(b){function _(E){var M,P,C;return oye(this,_),C=uye(this,_,[E]),$t(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$t(C,"accessibilityManager",new qve),$t(C,"handleLegendBBoxUpdate",function(N){if(N){var O=C.state,D=O.dataStartIndex,U=O.dataEndIndex,L=O.updateId;C.setState(je({legendBBox:N},y({props:C.props,dataStartIndex:D,dataEndIndex:U,updateId:L},je(je({},C.state),{},{legendBBox:N}))))}}),$t(C,"handleReceiveSyncEvent",function(N,O,D){if(C.props.syncId===N){if(D===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(O)}}),$t(C,"handleBrushChange",function(N){var O=N.startIndex,D=N.endIndex;if(O!==C.state.dataStartIndex||D!==C.state.dataEndIndex){var U=C.state.updateId;C.setState(function(){return je({dataStartIndex:O,dataEndIndex:D},y({props:C.props,dataStartIndex:O,dataEndIndex:D,updateId:U},C.state))}),C.triggerSyncEvent({dataStartIndex:O,dataEndIndex:D})}}),$t(C,"handleMouseEnter",function(N){var O=C.getMouseInfo(N);if(O){var D=je(je({},O),{},{isTooltipActive:!0});C.setState(D),C.triggerSyncEvent(D);var U=C.props.onMouseEnter;Gt(U)&&U(D,N)}}),$t(C,"triggeredAfterMouseMove",function(N){var O=C.getMouseInfo(N),D=O?je(je({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(D),C.triggerSyncEvent(D);var U=C.props.onMouseMove;Gt(U)&&U(D,N)}),$t(C,"handleItemMouseEnter",function(N){C.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),$t(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),$t(C,"handleMouseMove",function(N){N.persist(),C.throttleTriggeredAfterMouseMove(N)}),$t(C,"handleMouseLeave",function(N){C.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};C.setState(O),C.triggerSyncEvent(O);var D=C.props.onMouseLeave;Gt(D)&&D(O,N)}),$t(C,"handleOuterEvent",function(N){var O=zne(N),D=la(C.props,"".concat(O));if(O&&Gt(D)){var U,L;/.*touch.*/i.test(O)?L=C.getMouseInfo(N.changedTouches[0]):L=C.getMouseInfo(N),D((U=L)!==null&&U!==void 0?U:{},N)}}),$t(C,"handleClick",function(N){var O=C.getMouseInfo(N);if(O){var D=je(je({},O),{},{isTooltipActive:!0});C.setState(D),C.triggerSyncEvent(D);var U=C.props.onClick;Gt(U)&&U(D,N)}}),$t(C,"handleMouseDown",function(N){var O=C.props.onMouseDown;if(Gt(O)){var D=C.getMouseInfo(N);O(D,N)}}),$t(C,"handleMouseUp",function(N){var O=C.props.onMouseUp;if(Gt(O)){var D=C.getMouseInfo(N);O(D,N)}}),$t(C,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),$t(C,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.handleMouseDown(N.changedTouches[0])}),$t(C,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.handleMouseUp(N.changedTouches[0])}),$t(C,"handleDoubleClick",function(N){var O=C.props.onDoubleClick;if(Gt(O)){var D=C.getMouseInfo(N);O(D,N)}}),$t(C,"handleContextMenu",function(N){var O=C.props.onContextMenu;if(Gt(O)){var D=C.getMouseInfo(N);O(D,N)}}),$t(C,"triggerSyncEvent",function(N){C.props.syncId!==void 0&&eT.emit(tT,C.props.syncId,N,C.eventEmitterSymbol)}),$t(C,"applySyncEvent",function(N){var O=C.props,D=O.layout,U=O.syncMethod,L=C.state.updateId,I=N.dataStartIndex,$=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)C.setState(je({dataStartIndex:I,dataEndIndex:$},y({props:C.props,dataStartIndex:I,dataEndIndex:$,updateId:L},C.state)));else if(N.activeTooltipIndex!==void 0){var X=N.chartX,V=N.chartY,Z=N.activeTooltipIndex,ee=C.state,re=ee.offset,H=ee.tooltipTicks;if(!re)return;if(typeof U=="function")Z=U(H,N);else if(U==="value"){Z=-1;for(var J=0;J<H.length;J++)if(H[J].value===N.activeLabel){Z=J;break}}var K=je(je({},re),{},{x:re.left,y:re.top}),q=Math.min(X,K.x+K.width),ne=Math.min(V,K.y+K.height),ve=H[Z]&&H[Z].value,se=iN(C.state,C.props.data,Z),de=H[Z]?{x:D==="horizontal"?H[Z].coordinate:q,y:D==="horizontal"?ne:H[Z].coordinate}:c9;C.setState(je(je({},N),{},{activeLabel:ve,activeCoordinate:de,activePayload:se,activeTooltipIndex:Z}))}else C.setState(N)}),$t(C,"renderCursor",function(N){var O,D=C.state,U=D.isTooltipActive,L=D.activeCoordinate,I=D.activePayload,$=D.offset,X=D.activeTooltipIndex,V=D.tooltipAxisBandSize,Z=C.getTooltipEventType(),ee=(O=N.props.active)!==null&&O!==void 0?O:U,re=C.props.layout,H=N.key||"_recharts-cursor";return oe.createElement(eye,{key:H,activeCoordinate:L,activePayload:I,activeTooltipIndex:X,chartName:n,element:N,isActive:ee,layout:re,offset:$,tooltipAxisBandSize:V,tooltipEventType:Z})}),$t(C,"renderPolarAxis",function(N,O,D){var U=la(N,"type.axisType"),L=la(C.state,"".concat(U,"Map")),I=N.type.defaultProps,$=I!==void 0?je(je({},I),N.props):N.props,X=L&&L[$["".concat(U,"Id")]];return B.cloneElement(N,je(je({},X),{},{className:cn(U,X.className),key:N.key||"".concat(O,"-").concat(D),ticks:Jl(X,!0)}))}),$t(C,"renderPolarGrid",function(N){var O=N.props,D=O.radialLines,U=O.polarAngles,L=O.polarRadius,I=C.state,$=I.radiusAxisMap,X=I.angleAxisMap,V=vu($),Z=vu(X),ee=Z.cx,re=Z.cy,H=Z.innerRadius,J=Z.outerRadius;return B.cloneElement(N,{polarAngles:Array.isArray(U)?U:Jl(Z,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(L)?L:Jl(V,!0).map(function(K){return K.coordinate}),cx:ee,cy:re,innerRadius:H,outerRadius:J,key:N.key||"polar-grid",radialLines:D})}),$t(C,"renderLegend",function(){var N=C.state.formattedGraphicalItems,O=C.props,D=O.children,U=O.width,L=O.height,I=C.props.margin||{},$=U-(I.left||0)-(I.right||0),X=V7({children:D,formattedGraphicalItems:N,legendWidth:$,legendContent:c});if(!X)return null;var V=X.item,Z=vU(X,tye);return B.cloneElement(V,je(je({},Z),{},{chartWidth:U,chartHeight:L,margin:I,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),$t(C,"renderTooltip",function(){var N,O=C.props,D=O.children,U=O.accessibilityLayer,L=na(D,ra);if(!L)return null;var I=C.state,$=I.isTooltipActive,X=I.activeCoordinate,V=I.activePayload,Z=I.activeLabel,ee=I.offset,re=(N=L.props.active)!==null&&N!==void 0?N:$;return B.cloneElement(L,{viewBox:je(je({},ee),{},{x:ee.left,y:ee.top}),active:re,label:Z,payload:re?V:[],coordinate:X,accessibilityLayer:U})}),$t(C,"renderBrush",function(N){var O=C.props,D=O.margin,U=O.data,L=C.state,I=L.offset,$=L.dataStartIndex,X=L.dataEndIndex,V=L.updateId;return B.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Wx(C.handleBrushChange,N.props.onChange),data:U,x:et(N.props.x)?N.props.x:I.left,y:et(N.props.y)?N.props.y:I.top+I.height+I.brushBottom-(D.bottom||0),width:et(N.props.width)?N.props.width:I.width,startIndex:$,endIndex:X,updateId:"brush-".concat(V)})}),$t(C,"renderReferenceElement",function(N,O,D){if(!N)return null;var U=C,L=U.clipPathId,I=C.state,$=I.xAxisMap,X=I.yAxisMap,V=I.offset,Z=N.type.defaultProps||{},ee=N.props,re=ee.xAxisId,H=re===void 0?Z.xAxisId:re,J=ee.yAxisId,K=J===void 0?Z.yAxisId:J;return B.cloneElement(N,{key:N.key||"".concat(O,"-").concat(D),xAxis:$[H],yAxis:X[K],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:L})}),$t(C,"renderActivePoints",function(N){var O=N.item,D=N.activePoint,U=N.basePoint,L=N.childIndex,I=N.isRange,$=[],X=O.props.key,V=O.item.type.defaultProps!==void 0?je(je({},O.item.type.defaultProps),O.item.props):O.item.props,Z=V.activeDot,ee=V.dataKey,re=je(je({index:L,dataKey:ee,cx:D.x,cy:D.y,r:4,fill:Fk(O.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},kt(Z,!1)),A1(Z));return $.push(_.renderActiveDot(Z,re,"".concat(X,"-activePoint-").concat(L))),U?$.push(_.renderActiveDot(Z,je(je({},re),{},{cx:U.x,cy:U.y}),"".concat(X,"-basePoint-").concat(L))):I&&$.push(null),$}),$t(C,"renderGraphicChild",function(N,O,D){var U=C.filterFormatItem(N,O,D);if(!U)return null;var L=C.getTooltipEventType(),I=C.state,$=I.isTooltipActive,X=I.tooltipAxis,V=I.activeTooltipIndex,Z=I.activeLabel,ee=C.props.children,re=na(ee,ra),H=U.props,J=H.points,K=H.isRange,q=H.baseLine,ne=U.item.type.defaultProps!==void 0?je(je({},U.item.type.defaultProps),U.item.props):U.item.props,ve=ne.activeDot,se=ne.hide,de=ne.activeBar,Ee=ne.activeShape,Ve=!!(!se&&$&&re&&(ve||de||Ee)),Ue={};L!=="axis"&&re&&re.props.trigger==="click"?Ue={onClick:Wx(C.handleItemMouseEnter,N.props.onClick)}:L!=="axis"&&(Ue={onMouseLeave:Wx(C.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Wx(C.handleItemMouseEnter,N.props.onMouseEnter)});var ye=B.cloneElement(N,je(je({},U.props),Ue));function We(W){return typeof X.dataKey=="function"?X.dataKey(W.payload):null}if(Ve)if(V>=0){var ze,Y;if(X.dataKey&&!X.allowDuplicatedCategory){var Ie=typeof X.dataKey=="function"?We:"payload.".concat(X.dataKey.toString());ze=E1(J,Ie,Z),Y=K&&q&&E1(q,Ie,Z)}else ze=J==null?void 0:J[V],Y=K&&q&&q[V];if(Ee||de){var ce=N.props.activeIndex!==void 0?N.props.activeIndex:V;return[B.cloneElement(N,je(je(je({},U.props),Ue),{},{activeIndex:ce})),null,null]}if(!Qt(ze))return[ye].concat(_m(C.renderActivePoints({item:U,activePoint:ze,basePoint:Y,childIndex:V,isRange:K})))}else{var xe,me=(xe=C.getItemByXY(C.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:ye},Fe=me.graphicalItem,Be=Fe.item,He=Be===void 0?N:Be,Ge=Fe.childIndex,Q=je(je(je({},U.props),Ue),{},{activeIndex:Ge});return[B.cloneElement(He,Q),null,null]}return K?[ye,null,null]:[ye,null]}),$t(C,"renderCustomized",function(N,O,D){return B.cloneElement(N,je(je({key:"recharts-customized-".concat(D)},C.props),C.state))}),$t(C,"renderMap",{CartesianGrid:{handler:Kx,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Kx},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Kx},YAxis:{handler:Kx},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((M=E.id)!==null&&M!==void 0?M:$f("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=zH(C.triggeredAfterMouseMove,(P=E.throttleDelay)!==null&&P!==void 0?P:1e3/60),C.state={},C}return hye(_,b),cye(_,[{key:"componentDidMount",value:function(){var M,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var M=this.props,P=M.children,C=M.data,N=M.height,O=M.layout,D=na(P,ra);if(D){var U=D.props.defaultIndex;if(!(typeof U!="number"||U<0||U>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[U]&&this.state.tooltipTicks[U].value,I=iN(this.state,C,U,L),$=this.state.tooltipTicks[U].coordinate,X=(this.state.offset.top+N)/2,V=O==="horizontal",Z=V?{x:$,y:X}:{y:$,x:X},ee=this.state.formattedGraphicalItems.find(function(H){var J=H.item;return J.type.name==="Scatter"});ee&&(Z=je(je({},Z),ee.props.points[U].tooltipPosition),I=ee.props.points[U].tooltipPayload);var re={activeTooltipIndex:U,isTooltipActive:!0,activeLabel:L,activePayload:I,activeCoordinate:Z};this.setState(re),this.renderCursor(D),this.accessibilityManager.setIndex(U)}}}},{key:"getSnapshotBeforeUpdate",value:function(M,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==M.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==M.margin){var C,N;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(M){BP([na(M.children,ra)],[na(this.props.children,ra)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var M=na(this.props.children,ra);if(M&&typeof M.props.shared=="boolean"){var P=M.props.shared?"axis":"item";return o.indexOf(P)>=0?P:s}return s}},{key:"getMouseInfo",value:function(M){if(!this.container)return null;var P=this.container,C=P.getBoundingClientRect(),N=Pae(C),O={chartX:Math.round(M.pageX-N.left),chartY:Math.round(M.pageY-N.top)},D=C.width/P.offsetWidth||1,U=this.inRange(O.chartX,O.chartY,D);if(!U)return null;var L=this.state,I=L.xAxisMap,$=L.yAxisMap,X=this.getTooltipEventType(),V=xU(this.state,this.props.data,this.props.layout,U);if(X!=="axis"&&I&&$){var Z=vu(I).scale,ee=vu($).scale,re=Z&&Z.invert?Z.invert(O.chartX):null,H=ee&&ee.invert?ee.invert(O.chartY):null;return je(je({},O),{},{xValue:re,yValue:H},V)}return V?je(je({},O),V):null}},{key:"inRange",value:function(M,P){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,O=M/C,D=P/C;if(N==="horizontal"||N==="vertical"){var U=this.state.offset,L=O>=U.left&&O<=U.left+U.width&&D>=U.top&&D<=U.top+U.height;return L?{x:O,y:D}:null}var I=this.state,$=I.angleAxisMap,X=I.radiusAxisMap;if($&&X){var V=vu($);return bF({x:O,y:D},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var M=this.props.children,P=this.getTooltipEventType(),C=na(M,ra),N={};C&&P==="axis"&&(C.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=A1(this.props,this.handleOuterEvent);return je(je({},O),N)}},{key:"addListener",value:function(){eT.on(tT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eT.removeListener(tT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(M,P,C){for(var N=this.state.formattedGraphicalItems,O=0,D=N.length;O<D;O++){var U=N[O];if(U.item===M||U.props.key===M.key||P===rc(U.item.type)&&C===U.childIndex)return U}return null}},{key:"renderClipPath",value:function(){var M=this.clipPathId,P=this.state.offset,C=P.left,N=P.top,O=P.height,D=P.width;return oe.createElement("defs",null,oe.createElement("clipPath",{id:M},oe.createElement("rect",{x:C,y:N,height:O,width:D})))}},{key:"getXScales",value:function(){var M=this.state.xAxisMap;return M?Object.entries(M).reduce(function(P,C){var N=gU(C,2),O=N[0],D=N[1];return je(je({},P),{},$t({},O,D.scale))},{}):null}},{key:"getYScales",value:function(){var M=this.state.yAxisMap;return M?Object.entries(M).reduce(function(P,C){var N=gU(C,2),O=N[0],D=N[1];return je(je({},P),{},$t({},O,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(M){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[M])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(M){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[M])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(M){var P=this.state,C=P.formattedGraphicalItems,N=P.activeItem;if(C&&C.length)for(var O=0,D=C.length;O<D;O++){var U=C[O],L=U.props,I=U.item,$=I.type.defaultProps!==void 0?je(je({},I.type.defaultProps),I.props):I.props,X=rc(I.type);if(X==="Bar"){var V=(L.data||[]).find(function(H){return Whe(M,H)});if(V)return{graphicalItem:U,payload:V}}else if(X==="RadialBar"){var Z=(L.data||[]).find(function(H){return bF(M,H)});if(Z)return{graphicalItem:U,payload:Z}}else if(v_(U,N)||y_(U,N)||Cv(U,N)){var ee=mme({graphicalItem:U,activeTooltipItem:N,itemData:$.data}),re=$.activeIndex===void 0?ee:$.activeIndex;return{graphicalItem:je(je({},U),{},{childIndex:re}),payload:Cv(U,N)?$.data[ee]:U.props.data[ee]}}}return null}},{key:"render",value:function(){var M=this;if(!kD(this))return null;var P=this.props,C=P.children,N=P.className,O=P.width,D=P.height,U=P.style,L=P.compact,I=P.title,$=P.desc,X=vU(P,nye),V=kt(X,!1);if(L)return oe.createElement(YB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement(zP,Ip({},V,{width:O,height:D,title:I,desc:$}),this.renderClipPath(),ID(C,this.renderMap)));if(this.props.accessibilityLayer){var Z,ee;V.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,V.role=(ee=this.props.role)!==null&&ee!==void 0?ee:"application",V.onKeyDown=function(H){M.accessibilityManager.keyboardEvent(H)},V.onFocus=function(){M.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return oe.createElement(YB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement("div",Ip({className:cn("recharts-wrapper",N),style:je({position:"relative",cursor:"default",width:O,height:D},U)},re,{ref:function(J){M.container=J}}),oe.createElement(zP,Ip({},V,{width:O,height:D,title:I,desc:$,style:xye}),this.renderClipPath(),ID(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);$t(x,"displayName",n),$t(x,"defaultProps",je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),$t(x,"getDerivedStateFromProps",function(b,_){var E=b.dataKey,M=b.data,P=b.children,C=b.width,N=b.height,O=b.layout,D=b.stackOffset,U=b.margin,L=_.dataStartIndex,I=_.dataEndIndex;if(_.updateId===void 0){var $=bU(b);return je(je(je({},$),{},{updateId:0},y(je(je({props:b},$),{},{updateId:0}),_)),{},{prevDataKey:E,prevData:M,prevWidth:C,prevHeight:N,prevLayout:O,prevStackOffset:D,prevMargin:U,prevChildren:P})}if(E!==_.prevDataKey||M!==_.prevData||C!==_.prevWidth||N!==_.prevHeight||O!==_.prevLayout||D!==_.prevStackOffset||!Hp(U,_.prevMargin)){var X=bU(b),V={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},Z=je(je({},xU(_,M,O)),{},{updateId:_.updateId+1}),ee=je(je(je({},X),V),Z);return je(je(je({},ee),y(je({props:b},ee),_)),{},{prevDataKey:E,prevData:M,prevWidth:C,prevHeight:N,prevLayout:O,prevStackOffset:D,prevMargin:U,prevChildren:P})}if(!BP(P,_.prevChildren)){var re,H,J,K,q=na(P,dm),ne=q&&(re=(H=q.props)===null||H===void 0?void 0:H.startIndex)!==null&&re!==void 0?re:L,ve=q&&(J=(K=q.props)===null||K===void 0?void 0:K.endIndex)!==null&&J!==void 0?J:I,se=ne!==L||ve!==I,de=!Qt(M),Ee=de&&!se?_.updateId:_.updateId+1;return je(je({updateId:Ee},y(je(je({props:b},_),{},{updateId:Ee,dataStartIndex:ne,dataEndIndex:ve}),_)),{},{prevChildren:P,dataStartIndex:ne,dataEndIndex:ve})}return null}),$t(x,"renderActiveDot",function(b,_,E){var M;return B.isValidElement(b)?M=B.cloneElement(b,_):Gt(b)?M=b(_):M=oe.createElement(vy,_),oe.createElement(mn,{className:"recharts-active-dot",key:E},M)});var S=B.forwardRef(function(_,E){return oe.createElement(x,Ip({},_,{ref:E}))});return S.displayName=x.displayName,S},Cye=E_({chartName:"LineChart",GraphicalChild:yy,axisComponents:[{axisType:"xAxis",AxisComp:Eu},{axisType:"yAxis",AxisComp:Au}],formatAxisMap:Uk}),Nye=E_({chartName:"BarChart",GraphicalChild:ku,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Eu},{axisType:"yAxis",AxisComp:Au}],formatAxisMap:Uk}),Rye=E_({chartName:"PieChart",GraphicalChild:xc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:g_},{axisType:"radiusAxis",AxisComp:p_}],formatAxisMap:ade,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),kye=E_({chartName:"AreaChart",GraphicalChild:dc,axisComponents:[{axisType:"xAxis",AxisComp:Eu},{axisType:"yAxis",AxisComp:Au}],formatAxisMap:Uk});const rT="http://localhost:5000",Os={primary:"#9406E6",secondary:"#00FFFF",success:"#10B981",warning:"#F59E0B",danger:"#EF4444",info:"#3B82F6",purple:"#8B5CF6",pink:"#EC4899",indigo:"#6366F1",teal:"#14B8A6"};function Oye(){const[t,e]=B.useState("weekly"),[n,r]=B.useState("overview"),[i,s]=B.useState(!0),[a,o]=B.useState(""),[l,c]=B.useState(!1),[d,f]=B.useState([]),[g,y]=B.useState(0),[x,S]=B.useState(0),[b,_]=B.useState(0),[E,M]=B.useState(0),[P,C]=B.useState(0),[N,O]=B.useState([]),[D,U]=B.useState([]),[L,I]=B.useState(0),[$,X]=B.useState({current:0,longest:0}),[V,Z]=B.useState({});B.useEffect(()=>{ee()},[t]);const ee=async(K=!1)=>{var q,ne,ve,se,de,Ee,Ve,Ue;K?c(!0):s(!0),o("");try{const ye=localStorage.getItem("token");if(!ye)throw new Error("Authentication required");const We={Authorization:`Bearer ${ye}`,"Content-Type":"application/json"},[ze,Y,Ie]=await Promise.all([fetch(`${rT}/api/tasks/stats?period=${t}`,{headers:We}),fetch(`${rT}/api/streaks`,{headers:We}),fetch(`${rT}/api/streaks/analytics?period=${t}`,{headers:We})]);if(!ze.ok||!Y.ok||!Ie.ok)throw new Error("Failed to fetch data");const[ce,xe,me]=await Promise.all([ze.json(),Y.json(),Ie.json()]);y(ce.totalTasks||0),S(ce.completedTasks||0),_(ce.pendingTasks||0),M(ce.overdueTasks||0),C(ce.completionRate||0);const Fe=ce.priorityDistribution||{};O([{name:"High Priority",value:((q=Fe.High)==null?void 0:q.total)||0,color:Os.danger,completed:((ne=Fe.High)==null?void 0:ne.completed)||0},{name:"Medium Priority",value:((ve=Fe.Medium)==null?void 0:ve.total)||0,color:Os.warning,completed:((se=Fe.Medium)==null?void 0:se.completed)||0},{name:"Low Priority",value:((de=Fe.Low)==null?void 0:de.total)||0,color:Os.success,completed:((Ee=Fe.Low)==null?void 0:Ee.completed)||0}]);let Be=ce.timeStats||[];if(Be.length===0){const He=new Date;if(t==="weekly")for(let Ge=6;Ge>=0;Ge--){const Q=new Date(He);Q.setDate(Q.getDate()-Ge),Be.push({name:Q.toLocaleDateString("en-US",{weekday:"short"}),fullDate:Q.toLocaleDateString("en-GB"),total:0,completed:0,pending:0})}else if(t==="monthly")for(let Ge=3;Ge>=0;Ge--){const Q=new Date(He);Q.setDate(Q.getDate()-Ge*7);const W=new Date(Q);W.setDate(W.getDate()-6),Be.push({name:`Week ${4-Ge}`,fullDate:`${W.toLocaleDateString("en-GB")} - ${Q.toLocaleDateString("en-GB")}`,total:0,completed:0,pending:0})}else if(t==="yearly")for(let Ge=11;Ge>=0;Ge--){const Q=new Date(He.getFullYear(),He.getMonth()-Ge,1);Be.push({name:Q.toLocaleDateString("en-US",{month:"short"}),fullDate:Q.toLocaleDateString("en-US",{month:"long",year:"numeric"}),total:0,completed:0,pending:0})}}Be=Be.map(He=>({name:He.name||"Unknown",fullDate:He.fullDate||He.name,total:He.total||0,completed:He.completed||0,pending:He.pending||He.total-He.completed||0})),f(Be),X({current:((Ve=xe.currentStreak)==null?void 0:Ve.count)||0,longest:((Ue=xe.longestStreak)==null?void 0:Ue.count)||0,isActive:xe.isStreakActive||!1,daysSinceLastActivity:xe.daysSinceLastActivity}),I(xe.productivityScore||0),Z(me.metrics||{}),U(me.weeklyTrends||[])}catch(ye){console.error("Error fetching data:",ye),o(ye.message||"An error occurred while fetching data"),y(0),S(0),_(0),M(0),C(0),I(0),X({current:0,longest:0}),O([]),f([]),U([])}finally{s(!1),c(!1)}},re=()=>{ee(!0)},H=({active:K,payload:q,label:ne})=>{if(K&&q&&q.length){const ve=q[0].payload;return p.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200 rounded-xl p-3 shadow-lg text-xs",children:[p.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:ve.fullDate||ne}),q.map((se,de)=>p.jsxs("p",{className:"text-xs",style:{color:se.color},children:[se.name,": ",se.value]},de))]})}return null},J=({icon:K,title:q,value:ne,subtitle:ve,color:se,trend:de,formula:Ee})=>p.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-3 border border-white/20 hover:border-white/30 transition-all duration-300 hover:transform hover:scale-105 group",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${se} shadow-lg group-hover:shadow-xl transition-shadow duration-300`,children:p.jsx(K,{className:"h-4 w-4 text-white"})}),de!==void 0&&p.jsxs("div",{className:`flex items-center text-xs ${de>0?"text-green-400":de<0?"text-red-400":"text-gray-400"}`,children:[p.jsx(e2,{className:`h-3 w-3 mr-1 ${de<0?"rotate-180":""}`}),Math.abs(de),"%"]})]}),p.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:ne}),p.jsx("div",{className:"text-white/70 text-xs",children:q}),ve&&p.jsx("div",{className:"text-white/50 text-xs mt-1",children:ve}),Ee&&p.jsx("div",{className:"text-white/40 text-xs mt-1 italic",children:Ee})]});return i?p.jsx("div",{className:"w-11/12 h-[90vh] p-6 mx-auto bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex flex-col overflow-hidden rounded-xl",children:p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-200"}),p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-purple-600 absolute top-0 left-0"})]}),p.jsx("div",{className:"text-white text-lg font-medium",children:"Loading insights..."}),p.jsx("div",{className:"text-white/60 text-sm",children:"Analyzing your productivity data"})]})})}):p.jsx("div",{className:"w-11/12 p-6 mx-auto bg-gradient-to-br from-slate-900/80 via-purple-900/80 to-slate-900/80 dark:from-gray-900/80 dark:via-gray-800/80 dark:to-gray-900/80 flex flex-col overflow-hidden rounded-xl",children:p.jsxs("div",{className:"flex flex-col h-full space-y-4 overflow-hidden",children:[p.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 flex-shrink-0",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsxs("h1",{className:"text-2xl lg:text-3xl font-bold text-white flex items-center gap-2 font-proza",children:[p.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl shadow-lg",children:p.jsx(Vp,{className:"h-6 w-6 text-white"})}),"Task Insights"]}),p.jsx("p",{className:"text-white/70 text-sm",children:"Real-time analytics and productivity tracking"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[p.jsx("div",{className:"flex bg-white/10 backdrop-blur-sm rounded-lg p-1 border border-white/20",children:["overview","detailed","trends"].map(K=>p.jsx("button",{onClick:()=>r(K),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all duration-200 capitalize ${n===K?"bg-white text-purple-600 shadow-md":"text-white/70 hover:text-white hover:bg-white/10"}`,children:K},K))}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{value:t,onChange:K=>e(K.target.value),className:"mt-1 appearance-none bg-white/40 backdrop-blur-sm text-gray-950 px-3 py-1.5 pr-8 rounded-lg border border-white/20 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer text-xs",children:[p.jsx("option",{value:"weekly",children:"Weekly"}),p.jsx("option",{value:"monthly",children:"Monthly"}),p.jsx("option",{value:"yearly",children:"Yearly"})]}),p.jsx(ate,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white/70 pointer-events-none"})]}),p.jsxs("button",{onClick:re,disabled:l,className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-lg hover:from-purple-600 hover:to-indigo-700 transition-all duration-200 disabled:opacity-50 shadow-lg hover:shadow-xl text-xs",children:[p.jsx(cte,{className:`h-4 w-4 ${l?"animate-spin":""}`}),p.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),a&&p.jsx("div",{className:"bg-red-500/20 backdrop-blur-sm border border-red-500/50 text-red-100 px-4 py-3 rounded-lg flex-shrink-0",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(hL,{className:"h-5 w-5 text-red-400"}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-sm",children:"Error loading data"}),p.jsx("div",{className:"text-xs text-red-200",children:a})]})]})}),p.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4",children:[n==="overview"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[p.jsx(J,{icon:Vp,title:"Total Tasks",value:g,color:"from-purple-500 to-indigo-600",formula:"Count of all tasks"}),p.jsx(J,{icon:$R,title:"Completed",value:x,subtitle:`${Math.round(P)}% completion rate`,color:"from-green-500 to-emerald-600",formula:"(Completed  Total)  100"}),p.jsx(J,{icon:Kp,title:"Pending",value:b,color:"from-yellow-500 to-orange-600",formula:"Total - Completed"}),p.jsx(J,{icon:hL,title:"Overdue",value:E,color:"from-red-500 to-pink-600",formula:"Past due date & incomplete"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 font-proza",children:[p.jsx(e2,{className:"h-5 w-5 text-purple-400"}),"Completion Trends"]}),p.jsxs("div",{className:"text-xs text-white/60 capitalize",children:[t," view"]})]}),p.jsx("div",{className:"h-48",children:p.jsx(Ux,{width:"100%",height:"100%",children:p.jsxs(kye,{data:d,children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"completedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:Os.success,stopOpacity:.8}),p.jsx("stop",{offset:"95%",stopColor:Os.success,stopOpacity:.1})]}),p.jsxs("linearGradient",{id:"totalGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:Os.primary,stopOpacity:.8}),p.jsx("stop",{offset:"95%",stopColor:Os.primary,stopOpacity:.1})]})]}),p.jsx(n1,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),p.jsx(Eu,{dataKey:"name",stroke:"rgba(255,255,255,0.7)",fontSize:10,interval:0,angle:t==="weekly"?0:-45,textAnchor:t==="weekly"?"middle":"end",height:t==="weekly"?30:60}),p.jsx(Au,{stroke:"rgba(255,255,255,0.7)",fontSize:10,domain:[0,"dataMax + 1"]}),p.jsx(ra,{content:p.jsx(H,{})}),p.jsx(Vo,{}),p.jsx(dc,{type:"monotone",dataKey:"total",stroke:Os.primary,fillOpacity:1,fill:"url(#totalGradient)",name:"Total Tasks",strokeWidth:2}),p.jsx(dc,{type:"monotone",dataKey:"completed",stroke:Os.success,fillOpacity:1,fill:"url(#completedGradient)",name:"Completed",strokeWidth:2})]},`${t}-${d.length}`)})})]}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 font-proza",children:[p.jsx(ite,{className:"h-5 w-5 text-indigo-400"}),"Priority Distribution"]})}),p.jsx("div",{className:"h-48",children:p.jsx(Ux,{width:"100%",height:"100%",children:p.jsxs(Rye,{children:[p.jsx(xc,{data:N,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:N.map((K,q)=>p.jsx(n_,{fill:K.color},`cell-${q}`))}),p.jsx(ra,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"none",borderRadius:"8px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",fontSize:"12px"}}),p.jsx(Vo,{})]})})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-lg",children:p.jsx(ote,{className:"h-5 w-5 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-white font-proza",children:"Productivity Score"}),p.jsx("p",{className:"text-white/60 text-xs",children:"Weekly avg  40% + Monthly avg  30% + Bonuses"})]})]}),p.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:[L,"/100"]}),p.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:p.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 h-2 rounded-full transition-all duration-1000",style:{width:`${L}%`}})})]}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg",children:p.jsx(pL,{className:"h-5 w-5 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-white font-proza",children:"Current Streak"}),p.jsx("p",{className:"text-white/60 text-xs",children:"Consecutive days with 50% completion"})]})]}),p.jsx("div",{className:"text-3xl font-bold text-white",children:$.current}),p.jsx("div",{className:"text-white/60 text-xs",children:$.isActive?"Active streak":`${$.daysSinceLastActivity||0} days ago`})]}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg",children:p.jsx(pL,{className:"h-5 w-5 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-white font-proza",children:"Longest Streak"}),p.jsx("p",{className:"text-white/60 text-xs",children:"Personal best record"})]})]}),p.jsx("div",{className:"text-3xl font-bold text-white",children:$.longest}),p.jsx("div",{className:"text-white/60 text-xs",children:"days"})]})]})]}),n==="detailed"&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[p.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2 font-proza",children:[p.jsx(Vp,{className:"h-5 w-5 text-blue-400"}),"Detailed Task Analysis"]}),p.jsx("div",{className:"h-64",children:p.jsx(Ux,{width:"100%",height:"100%",children:p.jsxs(Nye,{data:d,children:[p.jsx(n1,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),p.jsx(Eu,{dataKey:"name",stroke:"rgba(255,255,255,0.7)",fontSize:10,interval:0,angle:t==="weekly"?0:-45,textAnchor:t==="weekly"?"middle":"end",height:t==="weekly"?30:60}),p.jsx(Au,{stroke:"rgba(255,255,255,0.7)",fontSize:10,domain:[0,"dataMax + 1"]}),p.jsx(ra,{content:p.jsx(H,{})}),p.jsx(Vo,{}),p.jsx(ku,{dataKey:"completed",fill:Os.success,name:"Completed",radius:[4,4,0,0]}),p.jsx(ku,{dataKey:"pending",fill:Os.warning,name:"Pending",radius:[4,4,0,0]})]},`bar-${t}-${d.length}`)})})]}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:N.map((K,q)=>p.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[p.jsx("h4",{className:"text-white font-semibold mb-2",children:K.name}),p.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:K.value}),p.jsxs("div",{className:"text-sm text-white/70",children:[K.completed," completed (",K.value>0?Math.round(K.completed/K.value*100):0,"%)"]}),p.jsx("div",{className:"w-full bg-white/20 rounded-full h-2 mt-2",children:p.jsx("div",{className:"h-2 rounded-full transition-all duration-1000",style:{width:`${K.value>0?K.completed/K.value*100:0}%`,backgroundColor:K.color}})})]},q))})]}),n==="trends"&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[p.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2 font-proza",children:[p.jsx(e2,{className:"h-5 w-5 text-green-400"}),"Productivity Trends"]}),p.jsx("div",{className:"h-64",children:p.jsx(Ux,{width:"100%",height:"100%",children:p.jsxs(Cye,{data:D,children:[p.jsx(n1,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),p.jsx(Eu,{dataKey:"day",stroke:"rgba(255,255,255,0.7)",fontSize:10}),p.jsx(Au,{stroke:"rgba(255,255,255,0.7)",fontSize:10}),p.jsx(ra,{content:p.jsx(H,{})}),p.jsx(Vo,{}),p.jsx(yy,{type:"monotone",dataKey:"productivity",stroke:Os.secondary,strokeWidth:3,dot:{fill:Os.secondary,strokeWidth:2,r:4},activeDot:{r:6,stroke:Os.secondary,strokeWidth:2},name:"Productivity %"})]})})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[p.jsx("h4",{className:"text-white font-semibold mb-3 font-proza",children:"Streak Statistics"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-white/70 text-sm",children:"Total Active Days:"}),p.jsx("span",{className:"text-white font-medium",children:V.totalActiveDays||0})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-white/70 text-sm",children:"Avg Tasks/Day:"}),p.jsx("span",{className:"text-white font-medium",children:V.averageTasksPerDay||0})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-white/70 text-sm",children:"Weekly Average:"}),p.jsxs("span",{className:"text-white font-medium",children:[V.weeklyAverage||0,"%"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-white/70 text-sm",children:"Monthly Average:"}),p.jsxs("span",{className:"text-white font-medium",children:[V.monthlyAverage||0,"%"]})]})]})]}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[p.jsx("h4",{className:"text-white font-semibold mb-3 font-proza",children:"Calculation Formulas"}),p.jsxs("div",{className:"space-y-2 text-xs text-white/60",children:[p.jsxs("div",{children:[" ",p.jsx("strong",{children:"Active Day:"})," 1 task + 50% completion"]}),p.jsxs("div",{children:[" ",p.jsx("strong",{children:"Productivity Score:"})," Weekly40% + Monthly30% + Bonuses"]}),p.jsxs("div",{children:[" ",p.jsx("strong",{children:"Streak Bonus:"})," Current streak  2 (max 20 pts)"]}),p.jsxs("div",{children:[" ",p.jsx("strong",{children:"Consistency Bonus:"})," Active days  2 pts"]}),p.jsxs("div",{children:[" ",p.jsx("strong",{children:"Volume Bonus:"})," Tasks completed  10 (max 15 pts)"]})]})]})]})]})]})]})})}const Iye=()=>{const{isLoggedIn:t,loading:e}=Om();return e?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#9406E6] to-[#00FFFF] dark:from-gray-900 dark:to-gray-800 flex justify-center items-center",children:p.jsx("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-xl",children:p.jsx("div",{className:"flex justify-center items-center h-20",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#9406E6] dark:border-purple-400"})})})}):p.jsxs(pX,{children:[p.jsxs(Qs,{element:p.jsx(wte,{}),children:[p.jsx(Qs,{path:"/home",element:p.jsx(bL,{})}),p.jsx(Qs,{path:"/",element:p.jsx(bL,{})})]}),t?p.jsxs(p.Fragment,{children:[p.jsxs(Qs,{element:p.jsx(hte,{}),children:[p.jsx(Qs,{path:"/dashboard",element:p.jsx(Bte,{})}),p.jsx(Qs,{path:"/settings",element:p.jsx(Vte,{})}),p.jsx(Qs,{path:"/insights",element:p.jsx(Oye,{})})]}),p.jsx(Qs,{path:"/app",element:p.jsx(IS,{to:"/dashboard"})}),p.jsx(Qs,{path:"*",element:p.jsx(IS,{to:"/dashboard"})})]}):p.jsxs(p.Fragment,{children:[p.jsx(Qs,{path:"/auth/login",element:p.jsx(sL,{})}),p.jsx(Qs,{path:"/auth/register",element:p.jsx(sL,{})}),p.jsx(Qs,{path:"*",element:p.jsx(IS,{to:"/"})})]})]})};function Lye(){const{tempNotifications:t,removeTempNotification:e}=VR();return t.length===0?null:p.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-md w-full",children:t.map(n=>p.jsxs("div",{className:`flex items-start p-3 rounded-lg shadow-lg animate-slideIn
                        ${n.type==="error"?"bg-red-50 text-red-800 border-l-4 border-red-500":n.type==="success"?"bg-green-50 text-green-800 border-l-4 border-green-500":"bg-blue-50 text-blue-800 border-l-4 border-blue-500"}`,children:[p.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.type==="error"?p.jsx(_1,{className:"h-5 w-5 text-red-500"}):n.type==="success"?p.jsx(ev,{className:"h-5 w-5 text-green-500"}):p.jsx(S1,{className:"h-5 w-5 text-blue-500"})}),p.jsx("div",{className:"ml-3 flex-1",children:p.jsx("p",{className:"text-sm font-medium",children:n.message})}),p.jsx("button",{onClick:()=>e(n.id),className:"ml-2 flex-shrink-0 text-gray-400 hover:text-gray-600 focus:outline-none",children:p.jsx(Uw,{className:"h-5 w-5"})})]},n.id))})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const A_="162",Dye={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},jye={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},d9=0,sN=1,f9=2,Fye=3,h9=0,T_=1,V0=2,po=3,fc=0,ys=1,bo=2,sc=0,Mf=1,aN=2,oN=3,lN=4,p9=5,yu=100,m9=101,g9=102,cN=103,uN=104,v9=200,y9=201,x9=202,b9=203,Mw=204,Ew=205,w9=206,_9=207,S9=208,M9=209,E9=210,A9=211,T9=212,P9=213,C9=214,N9=0,R9=1,k9=2,Dv=3,O9=4,I9=5,L9=6,D9=7,xy=0,j9=1,F9=2,Qo=0,B9=1,U9=2,z9=3,Kk=4,V9=5,H9=6,$9=7,dN="attached",W9="detached",P_=300,hc=301,Ou=302,jv=303,Fv=304,Hm=306,Bv=1e3,Yi=1001,Uv=1002,Lr=1003,Aw=1004,Bye=1004,af=1005,Uye=1005,xr=1006,H0=1007,zye=1007,Wo=1008,Vye=1008,el=1009,G9=1010,q9=1011,C_=1012,Zk=1013,Ql=1014,sa=1015,Sm=1016,Jk=1017,Qk=1018,Tu=1020,X9=1021,hs=1023,Y9=1024,K9=1025,Pu=1026,Df=1027,eO=1028,tO=1029,Z9=1030,nO=1031,rO=1033,r1=33776,i1=33777,s1=33778,a1=33779,fN=35840,hN=35841,pN=35842,mN=35843,iO=36196,gN=37492,vN=37496,yN=37808,xN=37809,bN=37810,wN=37811,_N=37812,SN=37813,MN=37814,EN=37815,AN=37816,TN=37817,PN=37818,CN=37819,NN=37820,RN=37821,o1=36492,kN=36494,ON=36495,J9=36283,IN=36284,LN=36285,DN=36286,Q9=2200,eW=2201,tW=2202,zv=2300,Vv=2301,l1=2302,gf=2400,vf=2401,Hv=2402,N_=2500,sO=2501,Hye=0,$ye=1,Wye=2,nW=3200,rW=3201,$u=0,iW=1,Xl="",Na="srgb",bc="srgb-linear",R_="display-p3",by="display-p3-linear",$v="linear",Qn="srgb",Wv="rec709",Gv="p3",Gye=0,nf=7680,qye=7681,Xye=7682,Yye=7683,Kye=34055,Zye=34056,Jye=5386,Qye=512,exe=513,txe=514,nxe=515,rxe=516,ixe=517,sxe=518,jN=519,sW=512,aW=513,oW=514,aO=515,lW=516,cW=517,uW=518,dW=519,qv=35044,axe=35048,oxe=35040,lxe=35045,cxe=35049,uxe=35041,dxe=35046,fxe=35050,hxe=35042,pxe="100",FN="300 es",Tw=1035,Go=2e3,Xv=2001;class wc{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const Hi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _U=1234567;const Ef=Math.PI/180,Mm=180/Math.PI;function ua(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Hi[t&255]+Hi[t>>8&255]+Hi[t>>16&255]+Hi[t>>24&255]+"-"+Hi[e&255]+Hi[e>>8&255]+"-"+Hi[e>>16&15|64]+Hi[e>>24&255]+"-"+Hi[n&63|128]+Hi[n>>8&255]+"-"+Hi[n>>16&255]+Hi[n>>24&255]+Hi[r&255]+Hi[r>>8&255]+Hi[r>>16&255]+Hi[r>>24&255]).toLowerCase()}function Pr(t,e,n){return Math.max(e,Math.min(n,t))}function oO(t,e){return(t%e+e)%e}function mxe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function gxe(t,e,n){return t!==e?(n-t)/(e-t):0}function $0(t,e,n){return(1-n)*t+n*e}function vxe(t,e,n,r){return $0(t,e,1-Math.exp(-n*r))}function yxe(t,e=1){return e-Math.abs(oO(t,e*2)-e)}function xxe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function bxe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function wxe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function _xe(t,e){return t+Math.random()*(e-t)}function Sxe(t){return t*(.5-Math.random())}function Mxe(t){t!==void 0&&(_U=t);let e=_U+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Exe(t){return t*Ef}function Axe(t){return t*Mm}function BN(t){return(t&t-1)===0&&t!==0}function Txe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Pw(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Pxe(t,e,n,r,i){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),c=s((e+r)/2),d=a((e+r)/2),f=s((e-r)/2),g=a((e-r)/2),y=s((r-e)/2),x=a((r-e)/2);switch(i){case"XYX":t.set(o*d,l*f,l*g,o*c);break;case"YZY":t.set(l*g,o*d,l*f,o*c);break;case"ZXZ":t.set(l*f,l*g,o*d,o*c);break;case"XZX":t.set(o*d,l*x,l*y,o*c);break;case"YXY":t.set(l*y,o*d,l*x,o*c);break;case"ZYZ":t.set(l*x,l*y,o*d,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ps(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function ln(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Cxe={DEG2RAD:Ef,RAD2DEG:Mm,generateUUID:ua,clamp:Pr,euclideanModulo:oO,mapLinear:mxe,inverseLerp:gxe,lerp:$0,damp:vxe,pingpong:yxe,smoothstep:xxe,smootherstep:bxe,randInt:wxe,randFloat:_xe,randFloatSpread:Sxe,seededRandom:Mxe,degToRad:Exe,radToDeg:Axe,isPowerOfTwo:BN,ceilPowerOfTwo:Txe,floorPowerOfTwo:Pw,setQuaternionFromProperEuler:Pxe,normalize:ln,denormalize:ps};class $e{constructor(e=0,n=0){$e.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Pr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class on{constructor(e,n,r,i,s,a,o,l,c){on.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,c)}set(e,n,r,i,s,a,o,l,c){const d=this.elements;return d[0]=e,d[1]=i,d[2]=o,d[3]=n,d[4]=s,d[5]=l,d[6]=r,d[7]=a,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[3],l=r[6],c=r[1],d=r[4],f=r[7],g=r[2],y=r[5],x=r[8],S=i[0],b=i[3],_=i[6],E=i[1],M=i[4],P=i[7],C=i[2],N=i[5],O=i[8];return s[0]=a*S+o*E+l*C,s[3]=a*b+o*M+l*N,s[6]=a*_+o*P+l*O,s[1]=c*S+d*E+f*C,s[4]=c*b+d*M+f*N,s[7]=c*_+d*P+f*O,s[2]=g*S+y*E+x*C,s[5]=g*b+y*M+x*N,s[8]=g*_+y*P+x*O,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8];return n*a*d-n*o*c-r*s*d+r*o*l+i*s*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8],f=d*a-o*c,g=o*l-d*s,y=c*s-a*l,x=n*f+r*g+i*y;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/x;return e[0]=f*S,e[1]=(i*c-d*r)*S,e[2]=(o*r-i*a)*S,e[3]=g*S,e[4]=(d*n-i*l)*S,e[5]=(i*s-o*n)*S,e[6]=y*S,e[7]=(r*l-c*n)*S,e[8]=(a*n-r*s)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*a+c*o)+a+e,-i*c,i*l,-i*(-c*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(iT.makeScale(e,n)),this}rotate(e){return this.premultiply(iT.makeRotation(-e)),this}translate(e,n){return this.premultiply(iT.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const iT=new on;function fW(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Nxe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Lp(t,e){return new Nxe[t](e)}function Yv(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function hW(){const t=Yv("canvas");return t.style.display="block",t}const SU={};function pW(t){t in SU||(SU[t]=!0,console.warn(t))}const MU=new on().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),EU=new on().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Zx={[bc]:{transfer:$v,primaries:Wv,toReference:t=>t,fromReference:t=>t},[Na]:{transfer:Qn,primaries:Wv,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[by]:{transfer:$v,primaries:Gv,toReference:t=>t.applyMatrix3(EU),fromReference:t=>t.applyMatrix3(MU)},[R_]:{transfer:Qn,primaries:Gv,toReference:t=>t.convertSRGBToLinear().applyMatrix3(EU),fromReference:t=>t.applyMatrix3(MU).convertLinearToSRGB()}},Rxe=new Set([bc,by]),Fn={enabled:!0,_workingColorSpace:bc,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Rxe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Zx[e].toReference,i=Zx[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Zx[t].primaries},getTransfer:function(t){return t===Xl?$v:Zx[t].transfer}};function Gp(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function sT(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let ep;class lO{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{ep===void 0&&(ep=Yv("canvas")),ep.width=e.width,ep.height=e.height;const r=ep.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=ep}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Yv("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=Gp(s[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Gp(n[r]/255)*255):n[r]=Gp(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let kxe=0;class yf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:kxe++}),this.uuid=ua(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(aT(i[a].image)):s.push(aT(i[a]))}else s=aT(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function aT(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?lO.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Oxe=0;class Cr extends wc{constructor(e=Cr.DEFAULT_IMAGE,n=Cr.DEFAULT_MAPPING,r=Yi,i=Yi,s=xr,a=Wo,o=hs,l=el,c=Cr.DEFAULT_ANISOTROPY,d=Xl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Oxe++}),this.uuid=ua(),this.name="",this.source=new yf(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new $e(0,0),this.repeat=new $e(1,1),this.center=new $e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new on,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==P_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Bv:e.x=e.x-Math.floor(e.x);break;case Yi:e.x=e.x<0?0:1;break;case Uv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Bv:e.y=e.y-Math.floor(e.y);break;case Yi:e.y=e.y<0?0:1;break;case Uv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Cr.DEFAULT_IMAGE=null;Cr.DEFAULT_MAPPING=P_;Cr.DEFAULT_ANISOTROPY=1;class Bn{constructor(e=0,n=0,r=0,i=1){Bn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],d=l[4],f=l[8],g=l[1],y=l[5],x=l[9],S=l[2],b=l[6],_=l[10];if(Math.abs(d-g)<.01&&Math.abs(f-S)<.01&&Math.abs(x-b)<.01){if(Math.abs(d+g)<.1&&Math.abs(f+S)<.1&&Math.abs(x+b)<.1&&Math.abs(c+y+_-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const M=(c+1)/2,P=(y+1)/2,C=(_+1)/2,N=(d+g)/4,O=(f+S)/4,D=(x+b)/4;return M>P&&M>C?M<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(M),i=N/r,s=O/r):P>C?P<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(P),r=N/i,s=D/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=O/s,i=D/s),this.set(r,i,s,n),this}let E=Math.sqrt((b-x)*(b-x)+(f-S)*(f-S)+(g-d)*(g-d));return Math.abs(E)<.001&&(E=1),this.x=(b-x)/E,this.y=(f-S)/E,this.z=(g-d)/E,this.w=Math.acos((c+y+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class mW extends wc{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Bn(0,0,e,n),this.scissorTest=!1,this.viewport=new Bn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:xr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0,count:1},r);const s=new Cr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const a=r.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new yf(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class So extends mW{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class k_ extends Cr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Lr,this.minFilter=Lr,this.wrapR=Yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ixe extends So{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new k_(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class cO extends Cr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Lr,this.minFilter=Lr,this.wrapR=Yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Lxe extends So{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new cO(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class js{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,a,o){let l=r[i+0],c=r[i+1],d=r[i+2],f=r[i+3];const g=s[a+0],y=s[a+1],x=s[a+2],S=s[a+3];if(o===0){e[n+0]=l,e[n+1]=c,e[n+2]=d,e[n+3]=f;return}if(o===1){e[n+0]=g,e[n+1]=y,e[n+2]=x,e[n+3]=S;return}if(f!==S||l!==g||c!==y||d!==x){let b=1-o;const _=l*g+c*y+d*x+f*S,E=_>=0?1:-1,M=1-_*_;if(M>Number.EPSILON){const C=Math.sqrt(M),N=Math.atan2(C,_*E);b=Math.sin(b*N)/C,o=Math.sin(o*N)/C}const P=o*E;if(l=l*b+g*P,c=c*b+y*P,d=d*b+x*P,f=f*b+S*P,b===1-o){const C=1/Math.sqrt(l*l+c*c+d*d+f*f);l*=C,c*=C,d*=C,f*=C}}e[n]=l,e[n+1]=c,e[n+2]=d,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,a){const o=r[i],l=r[i+1],c=r[i+2],d=r[i+3],f=s[a],g=s[a+1],y=s[a+2],x=s[a+3];return e[n]=o*x+d*f+l*y-c*g,e[n+1]=l*x+d*g+c*f-o*y,e[n+2]=c*x+d*y+o*g-l*f,e[n+3]=d*x-o*f-l*g-c*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(r/2),d=o(i/2),f=o(s/2),g=l(r/2),y=l(i/2),x=l(s/2);switch(a){case"XYZ":this._x=g*d*f+c*y*x,this._y=c*y*f-g*d*x,this._z=c*d*x+g*y*f,this._w=c*d*f-g*y*x;break;case"YXZ":this._x=g*d*f+c*y*x,this._y=c*y*f-g*d*x,this._z=c*d*x-g*y*f,this._w=c*d*f+g*y*x;break;case"ZXY":this._x=g*d*f-c*y*x,this._y=c*y*f+g*d*x,this._z=c*d*x+g*y*f,this._w=c*d*f-g*y*x;break;case"ZYX":this._x=g*d*f-c*y*x,this._y=c*y*f+g*d*x,this._z=c*d*x-g*y*f,this._w=c*d*f+g*y*x;break;case"YZX":this._x=g*d*f+c*y*x,this._y=c*y*f+g*d*x,this._z=c*d*x-g*y*f,this._w=c*d*f-g*y*x;break;case"XZY":this._x=g*d*f-c*y*x,this._y=c*y*f-g*d*x,this._z=c*d*x+g*y*f,this._w=c*d*f+g*y*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],l=n[9],c=n[2],d=n[6],f=n[10],g=r+o+f;if(g>0){const y=.5/Math.sqrt(g+1);this._w=.25/y,this._x=(d-l)*y,this._y=(s-c)*y,this._z=(a-i)*y}else if(r>o&&r>f){const y=2*Math.sqrt(1+r-o-f);this._w=(d-l)/y,this._x=.25*y,this._y=(i+a)/y,this._z=(s+c)/y}else if(o>f){const y=2*Math.sqrt(1+o-r-f);this._w=(s-c)/y,this._x=(i+a)/y,this._y=.25*y,this._z=(l+d)/y}else{const y=2*Math.sqrt(1+f-r-o);this._w=(a-i)/y,this._x=(s+c)/y,this._y=(l+d)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,o=n._x,l=n._y,c=n._z,d=n._w;return this._x=r*d+a*o+i*c-s*l,this._y=i*d+a*l+s*o-r*c,this._z=s*d+a*c+r*l-i*o,this._w=a*d-r*o-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const y=1-n;return this._w=y*a+n*this._w,this._x=y*r+n*this._x,this._y=y*i+n*this._y,this._z=y*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,o),f=Math.sin((1-n)*d)/c,g=Math.sin(n*d)/c;return this._w=a*f+this._w*g,this._x=r*f+this._x*g,this._y=i*f+this._y*g,this._z=s*f+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ie{constructor(e=0,n=0,r=0){ie.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(AU.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(AU.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*i-o*r),d=2*(o*n-s*i),f=2*(s*r-a*n);return this.x=n+l*c+a*f-o*d,this.y=r+l*d+o*c-s*f,this.z=i+l*f+s*d-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,o=n.y,l=n.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return oT.copy(this).projectOnVector(e),this.sub(oT)}reflect(e){return this.sub(oT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Pr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const oT=new ie,AU=new js;class xs{constructor(e=new ie(1/0,1/0,1/0),n=new ie(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(co.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(co.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=co.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,co):co.fromBufferAttribute(s,a),co.applyMatrix4(e.matrixWorld),this.expandByPoint(co);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Jx.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Jx.copy(r.boundingBox)),Jx.applyMatrix4(e.matrixWorld),this.union(Jx)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,co),co.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(l0),Qx.subVectors(this.max,l0),tp.subVectors(e.a,l0),np.subVectors(e.b,l0),rp.subVectors(e.c,l0),ru.subVectors(np,tp),iu.subVectors(rp,np),Bd.subVectors(tp,rp);let n=[0,-ru.z,ru.y,0,-iu.z,iu.y,0,-Bd.z,Bd.y,ru.z,0,-ru.x,iu.z,0,-iu.x,Bd.z,0,-Bd.x,-ru.y,ru.x,0,-iu.y,iu.x,0,-Bd.y,Bd.x,0];return!lT(n,tp,np,rp,Qx)||(n=[1,0,0,0,1,0,0,0,1],!lT(n,tp,np,rp,Qx))?!1:(eb.crossVectors(ru,iu),n=[eb.x,eb.y,eb.z],lT(n,tp,np,rp,Qx))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,co).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(co).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(zl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),zl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),zl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),zl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),zl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),zl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),zl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),zl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(zl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const zl=[new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie],co=new ie,Jx=new xs,tp=new ie,np=new ie,rp=new ie,ru=new ie,iu=new ie,Bd=new ie,l0=new ie,Qx=new ie,eb=new ie,Ud=new ie;function lT(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){Ud.fromArray(t,s);const o=i.x*Math.abs(Ud.x)+i.y*Math.abs(Ud.y)+i.z*Math.abs(Ud.z),l=e.dot(Ud),c=n.dot(Ud),d=r.dot(Ud);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>o)return!1}return!0}const Dxe=new xs,c0=new ie,cT=new ie;class Zi{constructor(e=new ie,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Dxe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;c0.subVectors(e,this.center);const n=c0.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(c0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(cT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(c0.copy(e.center).add(cT)),this.expandByPoint(c0.copy(e.center).sub(cT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Vl=new ie,uT=new ie,tb=new ie,su=new ie,dT=new ie,nb=new ie,fT=new ie;class $m{constructor(e=new ie,n=new ie(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Vl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Vl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Vl.copy(this.origin).addScaledVector(this.direction,n),Vl.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){uT.copy(e).add(n).multiplyScalar(.5),tb.copy(n).sub(e).normalize(),su.copy(this.origin).sub(uT);const s=e.distanceTo(n)*.5,a=-this.direction.dot(tb),o=su.dot(this.direction),l=-su.dot(tb),c=su.lengthSq(),d=Math.abs(1-a*a);let f,g,y,x;if(d>0)if(f=a*l-o,g=a*o-l,x=s*d,f>=0)if(g>=-x)if(g<=x){const S=1/d;f*=S,g*=S,y=f*(f+a*g+2*o)+g*(a*f+g+2*l)+c}else g=s,f=Math.max(0,-(a*g+o)),y=-f*f+g*(g+2*l)+c;else g=-s,f=Math.max(0,-(a*g+o)),y=-f*f+g*(g+2*l)+c;else g<=-x?(f=Math.max(0,-(-a*s+o)),g=f>0?-s:Math.min(Math.max(-s,-l),s),y=-f*f+g*(g+2*l)+c):g<=x?(f=0,g=Math.min(Math.max(-s,-l),s),y=g*(g+2*l)+c):(f=Math.max(0,-(a*s+o)),g=f>0?s:Math.min(Math.max(-s,-l),s),y=-f*f+g*(g+2*l)+c);else g=a>0?-s:s,f=Math.max(0,-(a*g+o)),y=-f*f+g*(g+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(uT).addScaledVector(tb,g),y}intersectSphere(e,n){Vl.subVectors(e.center,this.origin);const r=Vl.dot(this.direction),i=Vl.dot(Vl)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,a,o,l;const c=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,g=this.origin;return c>=0?(r=(e.min.x-g.x)*c,i=(e.max.x-g.x)*c):(r=(e.max.x-g.x)*c,i=(e.min.x-g.x)*c),d>=0?(s=(e.min.y-g.y)*d,a=(e.max.y-g.y)*d):(s=(e.max.y-g.y)*d,a=(e.min.y-g.y)*d),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),f>=0?(o=(e.min.z-g.z)*f,l=(e.max.z-g.z)*f):(o=(e.max.z-g.z)*f,l=(e.min.z-g.z)*f),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Vl)!==null}intersectTriangle(e,n,r,i,s){dT.subVectors(n,e),nb.subVectors(r,e),fT.crossVectors(dT,nb);let a=this.direction.dot(fT),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;su.subVectors(this.origin,e);const l=o*this.direction.dot(nb.crossVectors(su,nb));if(l<0)return null;const c=o*this.direction.dot(dT.cross(su));if(c<0||l+c>a)return null;const d=-o*su.dot(fT);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class qt{constructor(e,n,r,i,s,a,o,l,c,d,f,g,y,x,S,b){qt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,c,d,f,g,y,x,S,b)}set(e,n,r,i,s,a,o,l,c,d,f,g,y,x,S,b){const _=this.elements;return _[0]=e,_[4]=n,_[8]=r,_[12]=i,_[1]=s,_[5]=a,_[9]=o,_[13]=l,_[2]=c,_[6]=d,_[10]=f,_[14]=g,_[3]=y,_[7]=x,_[11]=S,_[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new qt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/ip.setFromMatrixColumn(e,0).length(),s=1/ip.setFromMatrixColumn(e,1).length(),a=1/ip.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const g=a*d,y=a*f,x=o*d,S=o*f;n[0]=l*d,n[4]=-l*f,n[8]=c,n[1]=y+x*c,n[5]=g-S*c,n[9]=-o*l,n[2]=S-g*c,n[6]=x+y*c,n[10]=a*l}else if(e.order==="YXZ"){const g=l*d,y=l*f,x=c*d,S=c*f;n[0]=g+S*o,n[4]=x*o-y,n[8]=a*c,n[1]=a*f,n[5]=a*d,n[9]=-o,n[2]=y*o-x,n[6]=S+g*o,n[10]=a*l}else if(e.order==="ZXY"){const g=l*d,y=l*f,x=c*d,S=c*f;n[0]=g-S*o,n[4]=-a*f,n[8]=x+y*o,n[1]=y+x*o,n[5]=a*d,n[9]=S-g*o,n[2]=-a*c,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const g=a*d,y=a*f,x=o*d,S=o*f;n[0]=l*d,n[4]=x*c-y,n[8]=g*c+S,n[1]=l*f,n[5]=S*c+g,n[9]=y*c-x,n[2]=-c,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const g=a*l,y=a*c,x=o*l,S=o*c;n[0]=l*d,n[4]=S-g*f,n[8]=x*f+y,n[1]=f,n[5]=a*d,n[9]=-o*d,n[2]=-c*d,n[6]=y*f+x,n[10]=g-S*f}else if(e.order==="XZY"){const g=a*l,y=a*c,x=o*l,S=o*c;n[0]=l*d,n[4]=-f,n[8]=c*d,n[1]=g*f+S,n[5]=a*d,n[9]=y*f-x,n[2]=x*f-y,n[6]=o*d,n[10]=S*f+g}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(jxe,e,Fxe)}lookAt(e,n,r){const i=this.elements;return Zs.subVectors(e,n),Zs.lengthSq()===0&&(Zs.z=1),Zs.normalize(),au.crossVectors(r,Zs),au.lengthSq()===0&&(Math.abs(r.z)===1?Zs.x+=1e-4:Zs.z+=1e-4,Zs.normalize(),au.crossVectors(r,Zs)),au.normalize(),rb.crossVectors(Zs,au),i[0]=au.x,i[4]=rb.x,i[8]=Zs.x,i[1]=au.y,i[5]=rb.y,i[9]=Zs.y,i[2]=au.z,i[6]=rb.z,i[10]=Zs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],l=r[8],c=r[12],d=r[1],f=r[5],g=r[9],y=r[13],x=r[2],S=r[6],b=r[10],_=r[14],E=r[3],M=r[7],P=r[11],C=r[15],N=i[0],O=i[4],D=i[8],U=i[12],L=i[1],I=i[5],$=i[9],X=i[13],V=i[2],Z=i[6],ee=i[10],re=i[14],H=i[3],J=i[7],K=i[11],q=i[15];return s[0]=a*N+o*L+l*V+c*H,s[4]=a*O+o*I+l*Z+c*J,s[8]=a*D+o*$+l*ee+c*K,s[12]=a*U+o*X+l*re+c*q,s[1]=d*N+f*L+g*V+y*H,s[5]=d*O+f*I+g*Z+y*J,s[9]=d*D+f*$+g*ee+y*K,s[13]=d*U+f*X+g*re+y*q,s[2]=x*N+S*L+b*V+_*H,s[6]=x*O+S*I+b*Z+_*J,s[10]=x*D+S*$+b*ee+_*K,s[14]=x*U+S*X+b*re+_*q,s[3]=E*N+M*L+P*V+C*H,s[7]=E*O+M*I+P*Z+C*J,s[11]=E*D+M*$+P*ee+C*K,s[15]=E*U+M*X+P*re+C*q,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],d=e[2],f=e[6],g=e[10],y=e[14],x=e[3],S=e[7],b=e[11],_=e[15];return x*(+s*l*f-i*c*f-s*o*g+r*c*g+i*o*y-r*l*y)+S*(+n*l*y-n*c*g+s*a*g-i*a*y+i*c*d-s*l*d)+b*(+n*c*f-n*o*y-s*a*f+r*a*y+s*o*d-r*c*d)+_*(-i*o*d-n*l*f+n*o*g+i*a*f-r*a*g+r*l*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8],f=e[9],g=e[10],y=e[11],x=e[12],S=e[13],b=e[14],_=e[15],E=f*b*c-S*g*c+S*l*y-o*b*y-f*l*_+o*g*_,M=x*g*c-d*b*c-x*l*y+a*b*y+d*l*_-a*g*_,P=d*S*c-x*f*c+x*o*y-a*S*y-d*o*_+a*f*_,C=x*f*l-d*S*l-x*o*g+a*S*g+d*o*b-a*f*b,N=n*E+r*M+i*P+s*C;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const O=1/N;return e[0]=E*O,e[1]=(S*g*s-f*b*s-S*i*y+r*b*y+f*i*_-r*g*_)*O,e[2]=(o*b*s-S*l*s+S*i*c-r*b*c-o*i*_+r*l*_)*O,e[3]=(f*l*s-o*g*s-f*i*c+r*g*c+o*i*y-r*l*y)*O,e[4]=M*O,e[5]=(d*b*s-x*g*s+x*i*y-n*b*y-d*i*_+n*g*_)*O,e[6]=(x*l*s-a*b*s-x*i*c+n*b*c+a*i*_-n*l*_)*O,e[7]=(a*g*s-d*l*s+d*i*c-n*g*c-a*i*y+n*l*y)*O,e[8]=P*O,e[9]=(x*f*s-d*S*s-x*r*y+n*S*y+d*r*_-n*f*_)*O,e[10]=(a*S*s-x*o*s+x*r*c-n*S*c-a*r*_+n*o*_)*O,e[11]=(d*o*s-a*f*s-d*r*c+n*f*c+a*r*y-n*o*y)*O,e[12]=C*O,e[13]=(d*S*i-x*f*i+x*r*g-n*S*g-d*r*b+n*f*b)*O,e[14]=(x*o*i-a*S*i-x*r*l+n*S*l+a*r*b-n*o*b)*O,e[15]=(a*f*i-d*o*i+d*r*l-n*f*l-a*r*g+n*o*g)*O,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,o=e.y,l=e.z,c=s*a,d=s*o;return this.set(c*a+r,c*o-i*l,c*l+i*o,0,c*o+i*l,d*o+r,d*l-i*a,0,c*l-i*o,d*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,c=s+s,d=a+a,f=o+o,g=s*c,y=s*d,x=s*f,S=a*d,b=a*f,_=o*f,E=l*c,M=l*d,P=l*f,C=r.x,N=r.y,O=r.z;return i[0]=(1-(S+_))*C,i[1]=(y+P)*C,i[2]=(x-M)*C,i[3]=0,i[4]=(y-P)*N,i[5]=(1-(g+_))*N,i[6]=(b+E)*N,i[7]=0,i[8]=(x+M)*O,i[9]=(b-E)*O,i[10]=(1-(g+S))*O,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=ip.set(i[0],i[1],i[2]).length();const a=ip.set(i[4],i[5],i[6]).length(),o=ip.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],uo.copy(this);const c=1/s,d=1/a,f=1/o;return uo.elements[0]*=c,uo.elements[1]*=c,uo.elements[2]*=c,uo.elements[4]*=d,uo.elements[5]*=d,uo.elements[6]*=d,uo.elements[8]*=f,uo.elements[9]*=f,uo.elements[10]*=f,n.setFromRotationMatrix(uo),r.x=s,r.y=a,r.z=o,this}makePerspective(e,n,r,i,s,a,o=Go){const l=this.elements,c=2*s/(n-e),d=2*s/(r-i),f=(n+e)/(n-e),g=(r+i)/(r-i);let y,x;if(o===Go)y=-(a+s)/(a-s),x=-2*a*s/(a-s);else if(o===Xv)y=-a/(a-s),x=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=d,l[9]=g,l[13]=0,l[2]=0,l[6]=0,l[10]=y,l[14]=x,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,a,o=Go){const l=this.elements,c=1/(n-e),d=1/(r-i),f=1/(a-s),g=(n+e)*c,y=(r+i)*d;let x,S;if(o===Go)x=(a+s)*f,S=-2*f;else if(o===Xv)x=s*f,S=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-g,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-y,l[2]=0,l[6]=0,l[10]=S,l[14]=-x,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const ip=new ie,uo=new qt,jxe=new ie(0,0,0),Fxe=new ie(1,1,1),au=new ie,rb=new ie,Zs=new ie,TU=new qt,PU=new js;class fa{constructor(e=0,n=0,r=0,i=fa.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],c=i[5],d=i[9],f=i[2],g=i[6],y=i[10];switch(n){case"XYZ":this._y=Math.asin(Pr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,y),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(g,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Pr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,y),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Pr(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-f,y),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Pr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(g,y),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Pr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(o,y));break;case"XZY":this._z=Math.asin(-Pr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(g,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-d,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return TU.makeRotationFromQuaternion(e),this.setFromRotationMatrix(TU,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return PU.setFromEuler(this),this.setFromQuaternion(PU,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}fa.DEFAULT_ORDER="XYZ";class Af{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Bxe=0;const CU=new ie,sp=new js,Hl=new qt,ib=new ie,u0=new ie,Uxe=new ie,zxe=new js,NU=new ie(1,0,0),RU=new ie(0,1,0),kU=new ie(0,0,1),Vxe={type:"added"},Hxe={type:"removed"},hT={type:"childadded",child:null},pT={type:"childremoved",child:null};class Tn extends wc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Bxe++}),this.uuid=ua(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Tn.DEFAULT_UP.clone();const e=new ie,n=new fa,r=new js,i=new ie(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new qt},normalMatrix:{value:new on}}),this.matrix=new qt,this.matrixWorld=new qt,this.matrixAutoUpdate=Tn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Af,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return sp.setFromAxisAngle(e,n),this.quaternion.multiply(sp),this}rotateOnWorldAxis(e,n){return sp.setFromAxisAngle(e,n),this.quaternion.premultiply(sp),this}rotateX(e){return this.rotateOnAxis(NU,e)}rotateY(e){return this.rotateOnAxis(RU,e)}rotateZ(e){return this.rotateOnAxis(kU,e)}translateOnAxis(e,n){return CU.copy(e).applyQuaternion(this.quaternion),this.position.add(CU.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(NU,e)}translateY(e){return this.translateOnAxis(RU,e)}translateZ(e){return this.translateOnAxis(kU,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Hl.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?ib.copy(e):ib.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),u0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Hl.lookAt(u0,ib,this.up):Hl.lookAt(ib,u0,this.up),this.quaternion.setFromRotationMatrix(Hl),i&&(Hl.extractRotation(i.matrixWorld),sp.setFromRotationMatrix(Hl),this.quaternion.premultiply(sp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Vxe),hT.child=e,this.dispatchEvent(hT),hT.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Hxe),pT.child=e,this.dispatchEvent(pT),pT.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Hl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Hl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Hl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(u0,e,Uxe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(u0,zxe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++){const o=i[s];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),d=a(e.images),f=a(e.shapes),g=a(e.skeletons),y=a(e.animations),x=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),g.length>0&&(r.skeletons=g),y.length>0&&(r.animations=y),x.length>0&&(r.nodes=x)}return r.object=i,r;function a(o){const l=[];for(const c in o){const d=o[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Tn.DEFAULT_UP=new ie(0,1,0);Tn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const fo=new ie,$l=new ie,mT=new ie,Wl=new ie,ap=new ie,op=new ie,OU=new ie,gT=new ie,vT=new ie,yT=new ie;class aa{constructor(e=new ie,n=new ie,r=new ie){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),fo.subVectors(e,n),i.cross(fo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){fo.subVectors(i,n),$l.subVectors(r,n),mT.subVectors(e,n);const a=fo.dot(fo),o=fo.dot($l),l=fo.dot(mT),c=$l.dot($l),d=$l.dot(mT),f=a*c-o*o;if(f===0)return s.set(0,0,0),null;const g=1/f,y=(c*l-o*d)*g,x=(a*d-o*l)*g;return s.set(1-y-x,x,y)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Wl)===null?!1:Wl.x>=0&&Wl.y>=0&&Wl.x+Wl.y<=1}static getInterpolation(e,n,r,i,s,a,o,l){return this.getBarycoord(e,n,r,i,Wl)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Wl.x),l.addScaledVector(a,Wl.y),l.addScaledVector(o,Wl.z),l)}static isFrontFacing(e,n,r,i){return fo.subVectors(r,n),$l.subVectors(e,n),fo.cross($l).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return fo.subVectors(this.c,this.b),$l.subVectors(this.a,this.b),fo.cross($l).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return aa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return aa.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return aa.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return aa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return aa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let a,o;ap.subVectors(i,r),op.subVectors(s,r),gT.subVectors(e,r);const l=ap.dot(gT),c=op.dot(gT);if(l<=0&&c<=0)return n.copy(r);vT.subVectors(e,i);const d=ap.dot(vT),f=op.dot(vT);if(d>=0&&f<=d)return n.copy(i);const g=l*f-d*c;if(g<=0&&l>=0&&d<=0)return a=l/(l-d),n.copy(r).addScaledVector(ap,a);yT.subVectors(e,s);const y=ap.dot(yT),x=op.dot(yT);if(x>=0&&y<=x)return n.copy(s);const S=y*c-l*x;if(S<=0&&c>=0&&x<=0)return o=c/(c-x),n.copy(r).addScaledVector(op,o);const b=d*x-y*f;if(b<=0&&f-d>=0&&y-x>=0)return OU.subVectors(s,i),o=(f-d)/(f-d+(y-x)),n.copy(i).addScaledVector(OU,o);const _=1/(b+S+g);return a=S*_,o=g*_,n.copy(r).addScaledVector(ap,a).addScaledVector(op,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const gW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ou={h:0,s:0,l:0},sb={h:0,s:0,l:0};function xT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class bt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Na){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Fn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Fn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Fn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Fn.workingColorSpace){if(e=oO(e,1),n=Pr(n,0,1),r=Pr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,a=2*r-s;this.r=xT(a,s,e+1/3),this.g=xT(a,s,e),this.b=xT(a,s,e-1/3)}return Fn.toWorkingColorSpace(this,i),this}setStyle(e,n=Na){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Na){const r=gW[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Gp(e.r),this.g=Gp(e.g),this.b=Gp(e.b),this}copyLinearToSRGB(e){return this.r=sT(e.r),this.g=sT(e.g),this.b=sT(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Na){return Fn.fromWorkingColorSpace($i.copy(this),e),Math.round(Pr($i.r*255,0,255))*65536+Math.round(Pr($i.g*255,0,255))*256+Math.round(Pr($i.b*255,0,255))}getHexString(e=Na){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Fn.workingColorSpace){Fn.fromWorkingColorSpace($i.copy(this),n);const r=$i.r,i=$i.g,s=$i.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,c;const d=(o+a)/2;if(o===a)l=0,c=0;else{const f=a-o;switch(c=d<=.5?f/(a+o):f/(2-a-o),a){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,n=Fn.workingColorSpace){return Fn.fromWorkingColorSpace($i.copy(this),n),e.r=$i.r,e.g=$i.g,e.b=$i.b,e}getStyle(e=Na){Fn.fromWorkingColorSpace($i.copy(this),e);const n=$i.r,r=$i.g,i=$i.b;return e!==Na?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(ou),this.setHSL(ou.h+e,ou.s+n,ou.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(ou),e.getHSL(sb);const r=$0(ou.h,sb.h,n),i=$0(ou.s,sb.s,n),s=$0(ou.l,sb.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const $i=new bt;bt.NAMES=gW;let $xe=0;class Ji extends wc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:$xe++}),this.uuid=ua(),this.name="",this.type="Material",this.blending=Mf,this.side=fc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Mw,this.blendDst=Ew,this.blendEquation=yu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new bt(0,0,0),this.blendAlpha=0,this.depthFunc=Dv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=jN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=nf,this.stencilZFail=nf,this.stencilZPass=nf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Mf&&(r.blending=this.blending),this.side!==fc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Mw&&(r.blendSrc=this.blendSrc),this.blendDst!==Ew&&(r.blendDst=this.blendDst),this.blendEquation!==yu&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Dv&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==jN&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==nf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==nf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==nf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(n){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Wu extends Ji{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fa,this.combine=xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Yl=Wxe();function Wxe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;(c&8388608)===0;)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function Is(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Pr(t,-65504,65504),Yl.floatView[0]=t;const e=Yl.uint32View[0],n=e>>23&511;return Yl.baseTable[n]+((e&8388607)>>Yl.shiftTable[n])}function P0(t){const e=t>>10;return Yl.uint32View[0]=Yl.mantissaTable[Yl.offsetTable[e]+(t&1023)]+Yl.exponentTable[e],Yl.floatView[0]}const Gxe={toHalfFloat:Is,fromHalfFloat:P0},$r=new ie,ab=new $e;class Gn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=qv,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=sa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return pW("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)ab.fromBufferAttribute(this,n),ab.applyMatrix3(e),this.setXY(n,ab.x,ab.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)$r.fromBufferAttribute(this,n),$r.applyMatrix3(e),this.setXYZ(n,$r.x,$r.y,$r.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)$r.fromBufferAttribute(this,n),$r.applyMatrix4(e),this.setXYZ(n,$r.x,$r.y,$r.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)$r.fromBufferAttribute(this,n),$r.applyNormalMatrix(e),this.setXYZ(n,$r.x,$r.y,$r.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)$r.fromBufferAttribute(this,n),$r.transformDirection(e),this.setXYZ(n,$r.x,$r.y,$r.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=ps(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=ln(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ps(n,this.array)),n}setX(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ps(n,this.array)),n}setY(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ps(n,this.array)),n}setZ(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ps(n,this.array)),n}setW(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array),s=ln(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==qv&&(e.usage=this.usage),e}}class qxe extends Gn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Xxe extends Gn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Yxe extends Gn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Kxe extends Gn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class uO extends Gn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Zxe extends Gn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class dO extends Gn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Jxe extends Gn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=P0(this.array[e*this.itemSize]);return this.normalized&&(n=ps(n,this.array)),n}setX(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize]=Is(n),this}getY(e){let n=P0(this.array[e*this.itemSize+1]);return this.normalized&&(n=ps(n,this.array)),n}setY(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+1]=Is(n),this}getZ(e){let n=P0(this.array[e*this.itemSize+2]);return this.normalized&&(n=ps(n,this.array)),n}setZ(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+2]=Is(n),this}getW(e){let n=P0(this.array[e*this.itemSize+3]);return this.normalized&&(n=ps(n,this.array)),n}setW(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+3]=Is(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array)),this.array[e+0]=Is(n),this.array[e+1]=Is(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array)),this.array[e+0]=Is(n),this.array[e+1]=Is(r),this.array[e+2]=Is(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array),s=ln(s,this.array)),this.array[e+0]=Is(n),this.array[e+1]=Is(r),this.array[e+2]=Is(i),this.array[e+3]=Is(s),this}}class Tt extends Gn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Qxe=0;const Pa=new qt,bT=new Tn,lp=new ie,Js=new xs,d0=new xs,mi=new ie;class hn extends wc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Qxe++}),this.uuid=ua(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(fW(e)?dO:uO)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new on().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Pa.makeRotationFromQuaternion(e),this.applyMatrix4(Pa),this}rotateX(e){return Pa.makeRotationX(e),this.applyMatrix4(Pa),this}rotateY(e){return Pa.makeRotationY(e),this.applyMatrix4(Pa),this}rotateZ(e){return Pa.makeRotationZ(e),this.applyMatrix4(Pa),this}translate(e,n,r){return Pa.makeTranslation(e,n,r),this.applyMatrix4(Pa),this}scale(e,n,r){return Pa.makeScale(e,n,r),this.applyMatrix4(Pa),this}lookAt(e){return bT.lookAt(e),bT.updateMatrix(),this.applyMatrix4(bT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(lp).negate(),this.translate(lp.x,lp.y,lp.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Tt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new xs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ie(-1/0,-1/0,-1/0),new ie(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Js.setFromBufferAttribute(s),this.morphTargetsRelative?(mi.addVectors(this.boundingBox.min,Js.min),this.boundingBox.expandByPoint(mi),mi.addVectors(this.boundingBox.max,Js.max),this.boundingBox.expandByPoint(mi)):(this.boundingBox.expandByPoint(Js.min),this.boundingBox.expandByPoint(Js.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Zi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ie,1/0);return}if(e){const r=this.boundingSphere.center;if(Js.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];d0.setFromBufferAttribute(o),this.morphTargetsRelative?(mi.addVectors(Js.min,d0.min),Js.expandByPoint(mi),mi.addVectors(Js.max,d0.max),Js.expandByPoint(mi)):(Js.expandByPoint(d0.min),Js.expandByPoint(d0.max))}Js.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)mi.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(mi));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],l=this.morphTargetsRelative;for(let c=0,d=o.count;c<d;c++)mi.fromBufferAttribute(o,c),l&&(lp.fromBufferAttribute(e,c),mi.add(lp)),i=Math.max(i,r.distanceToSquared(mi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Gn(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let D=0;D<r.count;D++)o[D]=new ie,l[D]=new ie;const c=new ie,d=new ie,f=new ie,g=new $e,y=new $e,x=new $e,S=new ie,b=new ie;function _(D,U,L){c.fromBufferAttribute(r,D),d.fromBufferAttribute(r,U),f.fromBufferAttribute(r,L),g.fromBufferAttribute(s,D),y.fromBufferAttribute(s,U),x.fromBufferAttribute(s,L),d.sub(c),f.sub(c),y.sub(g),x.sub(g);const I=1/(y.x*x.y-x.x*y.y);isFinite(I)&&(S.copy(d).multiplyScalar(x.y).addScaledVector(f,-y.y).multiplyScalar(I),b.copy(f).multiplyScalar(y.x).addScaledVector(d,-x.x).multiplyScalar(I),o[D].add(S),o[U].add(S),o[L].add(S),l[D].add(b),l[U].add(b),l[L].add(b))}let E=this.groups;E.length===0&&(E=[{start:0,count:e.count}]);for(let D=0,U=E.length;D<U;++D){const L=E[D],I=L.start,$=L.count;for(let X=I,V=I+$;X<V;X+=3)_(e.getX(X+0),e.getX(X+1),e.getX(X+2))}const M=new ie,P=new ie,C=new ie,N=new ie;function O(D){C.fromBufferAttribute(i,D),N.copy(C);const U=o[D];M.copy(U),M.sub(C.multiplyScalar(C.dot(U))).normalize(),P.crossVectors(N,U);const I=P.dot(l[D])<0?-1:1;a.setXYZW(D,M.x,M.y,M.z,I)}for(let D=0,U=E.length;D<U;++D){const L=E[D],I=L.start,$=L.count;for(let X=I,V=I+$;X<V;X+=3)O(e.getX(X+0)),O(e.getX(X+1)),O(e.getX(X+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Gn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let g=0,y=r.count;g<y;g++)r.setXYZ(g,0,0,0);const i=new ie,s=new ie,a=new ie,o=new ie,l=new ie,c=new ie,d=new ie,f=new ie;if(e)for(let g=0,y=e.count;g<y;g+=3){const x=e.getX(g+0),S=e.getX(g+1),b=e.getX(g+2);i.fromBufferAttribute(n,x),s.fromBufferAttribute(n,S),a.fromBufferAttribute(n,b),d.subVectors(a,s),f.subVectors(i,s),d.cross(f),o.fromBufferAttribute(r,x),l.fromBufferAttribute(r,S),c.fromBufferAttribute(r,b),o.add(d),l.add(d),c.add(d),r.setXYZ(x,o.x,o.y,o.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(b,c.x,c.y,c.z)}else for(let g=0,y=n.count;g<y;g+=3)i.fromBufferAttribute(n,g+0),s.fromBufferAttribute(n,g+1),a.fromBufferAttribute(n,g+2),d.subVectors(a,s),f.subVectors(i,s),d.cross(f),r.setXYZ(g+0,d.x,d.y,d.z),r.setXYZ(g+1,d.x,d.y,d.z),r.setXYZ(g+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)mi.fromBufferAttribute(e,n),mi.normalize(),e.setXYZ(n,mi.x,mi.y,mi.z)}toNonIndexed(){function e(o,l){const c=o.array,d=o.itemSize,f=o.normalized,g=new c.constructor(l.length*d);let y=0,x=0;for(let S=0,b=l.length;S<b;S++){o.isInterleavedBufferAttribute?y=l[S]*o.data.stride+o.offset:y=l[S]*d;for(let _=0;_<d;_++)g[x++]=c[y++]}return new Gn(g,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new hn,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);n.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let d=0,f=c.length;d<f;d++){const g=c[d],y=e(g,r);l.push(y)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let f=0,g=c.length;f<g;f++){const y=c[f];d.push(y.toJSON(e.data))}d.length>0&&(i[l]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const d=i[c];this.setAttribute(c,d.clone(n))}const s=e.morphAttributes;for(const c in s){const d=[],f=s[c];for(let g=0,y=f.length;g<y;g++)d.push(f[g].clone(n));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,d=a.length;c<d;c++){const f=a[c];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const IU=new qt,zd=new $m,ob=new Zi,LU=new ie,cp=new ie,up=new ie,dp=new ie,wT=new ie,lb=new ie,cb=new $e,ub=new $e,db=new $e,DU=new ie,jU=new ie,FU=new ie,fb=new ie,hb=new ie;class qr extends Tn{constructor(e=new hn,n=new Wu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){lb.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=o[l],f=s[l];d!==0&&(wT.fromBufferAttribute(f,e),a?lb.addScaledVector(wT,d):lb.addScaledVector(wT.sub(n),d))}n.add(lb)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),ob.copy(r.boundingSphere),ob.applyMatrix4(s),zd.copy(e.ray).recast(e.near),!(ob.containsPoint(zd.origin)===!1&&(zd.intersectSphere(ob,LU)===null||zd.origin.distanceToSquared(LU)>(e.far-e.near)**2))&&(IU.copy(s).invert(),zd.copy(e.ray).applyMatrix4(IU),!(r.boundingBox!==null&&zd.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,zd)))}_computeIntersections(e,n,r){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,g=s.groups,y=s.drawRange;if(o!==null)if(Array.isArray(a))for(let x=0,S=g.length;x<S;x++){const b=g[x],_=a[b.materialIndex],E=Math.max(b.start,y.start),M=Math.min(o.count,Math.min(b.start+b.count,y.start+y.count));for(let P=E,C=M;P<C;P+=3){const N=o.getX(P),O=o.getX(P+1),D=o.getX(P+2);i=pb(this,_,e,r,c,d,f,N,O,D),i&&(i.faceIndex=Math.floor(P/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const x=Math.max(0,y.start),S=Math.min(o.count,y.start+y.count);for(let b=x,_=S;b<_;b+=3){const E=o.getX(b),M=o.getX(b+1),P=o.getX(b+2);i=pb(this,a,e,r,c,d,f,E,M,P),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let x=0,S=g.length;x<S;x++){const b=g[x],_=a[b.materialIndex],E=Math.max(b.start,y.start),M=Math.min(l.count,Math.min(b.start+b.count,y.start+y.count));for(let P=E,C=M;P<C;P+=3){const N=P,O=P+1,D=P+2;i=pb(this,_,e,r,c,d,f,N,O,D),i&&(i.faceIndex=Math.floor(P/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const x=Math.max(0,y.start),S=Math.min(l.count,y.start+y.count);for(let b=x,_=S;b<_;b+=3){const E=b,M=b+1,P=b+2;i=pb(this,a,e,r,c,d,f,E,M,P),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}}}function ebe(t,e,n,r,i,s,a,o){let l;if(e.side===ys?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===fc,o),l===null)return null;hb.copy(o),hb.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(hb);return c<n.near||c>n.far?null:{distance:c,point:hb.clone(),object:t}}function pb(t,e,n,r,i,s,a,o,l,c){t.getVertexPosition(o,cp),t.getVertexPosition(l,up),t.getVertexPosition(c,dp);const d=ebe(t,e,n,r,cp,up,dp,fb);if(d){i&&(cb.fromBufferAttribute(i,o),ub.fromBufferAttribute(i,l),db.fromBufferAttribute(i,c),d.uv=aa.getInterpolation(fb,cp,up,dp,cb,ub,db,new $e)),s&&(cb.fromBufferAttribute(s,o),ub.fromBufferAttribute(s,l),db.fromBufferAttribute(s,c),d.uv1=aa.getInterpolation(fb,cp,up,dp,cb,ub,db,new $e)),a&&(DU.fromBufferAttribute(a,o),jU.fromBufferAttribute(a,l),FU.fromBufferAttribute(a,c),d.normal=aa.getInterpolation(fb,cp,up,dp,DU,jU,FU,new ie),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const f={a:o,b:l,c,normal:new ie,materialIndex:0};aa.getNormal(cp,up,dp,f.normal),d.face=f}return d}class Xf extends hn{constructor(e=1,n=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],d=[],f=[];let g=0,y=0;x("z","y","x",-1,-1,r,n,e,a,s,0),x("z","y","x",1,-1,r,n,-e,a,s,1),x("x","z","y",1,1,e,r,n,i,a,2),x("x","z","y",1,-1,e,r,-n,i,a,3),x("x","y","z",1,-1,e,n,r,i,s,4),x("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Tt(c,3)),this.setAttribute("normal",new Tt(d,3)),this.setAttribute("uv",new Tt(f,2));function x(S,b,_,E,M,P,C,N,O,D,U){const L=P/O,I=C/D,$=P/2,X=C/2,V=N/2,Z=O+1,ee=D+1;let re=0,H=0;const J=new ie;for(let K=0;K<ee;K++){const q=K*I-X;for(let ne=0;ne<Z;ne++){const ve=ne*L-$;J[S]=ve*E,J[b]=q*M,J[_]=V,c.push(J.x,J.y,J.z),J[S]=0,J[b]=0,J[_]=N>0?1:-1,d.push(J.x,J.y,J.z),f.push(ne/O),f.push(1-K/D),re+=1}}for(let K=0;K<D;K++)for(let q=0;q<O;q++){const ne=g+q+Z*K,ve=g+q+Z*(K+1),se=g+(q+1)+Z*(K+1),de=g+(q+1)+Z*K;l.push(ne,ve,de),l.push(ve,se,de),H+=6}o.addGroup(y,H,U),y+=H,g+=re}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Em(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function fs(t){const e={};for(let n=0;n<t.length;n++){const r=Em(t[n]);for(const i in r)e[i]=r[i]}return e}function tbe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function vW(t){return t.getRenderTarget()===null?t.outputColorSpace:Fn.workingColorSpace}const yW={clone:Em,merge:fs};var nbe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,rbe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Mo extends Ji{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=nbe,this.fragmentShader=rbe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Em(e.uniforms),this.uniformsGroups=tbe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class wy extends Tn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new qt,this.projectionMatrix=new qt,this.projectionMatrixInverse=new qt,this.coordinateSystem=Go}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const lu=new ie,BU=new $e,UU=new $e;class yi extends wy{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Mm*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ef*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Mm*2*Math.atan(Math.tan(Ef*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){lu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(lu.x,lu.y).multiplyScalar(-e/lu.z),lu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(lu.x,lu.y).multiplyScalar(-e/lu.z)}getViewSize(e,n){return this.getViewBounds(e,BU,UU),n.subVectors(UU,BU)}setViewOffset(e,n,r,i,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Ef*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const fp=-90,hp=1;class xW extends Tn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new yi(fp,hp,e,n);i.layers=this.layers,this.add(i);const s=new yi(fp,hp,e,n);s.layers=this.layers,this.add(s);const a=new yi(fp,hp,e,n);a.layers=this.layers,this.add(a);const o=new yi(fp,hp,e,n);o.layers=this.layers,this.add(o);const l=new yi(fp,hp,e,n);l.layers=this.layers,this.add(l);const c=new yi(fp,hp,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,a,o,l]=n;for(const c of n)this.remove(c);if(e===Go)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Xv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,d]=this.children,f=e.getRenderTarget(),g=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,o),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(n,d),e.setRenderTarget(f,g,y),e.xr.enabled=x,r.texture.needsPMREMUpdate=!0}}class _y extends Cr{constructor(e,n,r,i,s,a,o,l,c,d){e=e!==void 0?e:[],n=n!==void 0?n:hc,super(e,n,r,i,s,a,o,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class bW extends So{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new _y(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:xr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Xf(5,5,5),s=new Mo({name:"CubemapFromEquirect",uniforms:Em(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ys,blending:sc});s.uniforms.tEquirect.value=n;const a=new qr(i,s),o=n.minFilter;return n.minFilter===Wo&&(n.minFilter=xr),new xW(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(s)}}const _T=new ie,ibe=new ie,sbe=new on;class mu{constructor(e=new ie(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=_T.subVectors(r,n).cross(ibe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(_T),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||sbe.getNormalMatrix(e),i=this.coplanarPoint(_T).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Vd=new Zi,mb=new ie;class Sy{constructor(e=new mu,n=new mu,r=new mu,i=new mu,s=new mu,a=new mu){this.planes=[e,n,r,i,s,a]}set(e,n,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Go){const r=this.planes,i=e.elements,s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],d=i[5],f=i[6],g=i[7],y=i[8],x=i[9],S=i[10],b=i[11],_=i[12],E=i[13],M=i[14],P=i[15];if(r[0].setComponents(l-s,g-c,b-y,P-_).normalize(),r[1].setComponents(l+s,g+c,b+y,P+_).normalize(),r[2].setComponents(l+a,g+d,b+x,P+E).normalize(),r[3].setComponents(l-a,g-d,b-x,P-E).normalize(),r[4].setComponents(l-o,g-f,b-S,P-M).normalize(),n===Go)r[5].setComponents(l+o,g+f,b+S,P+M).normalize();else if(n===Xv)r[5].setComponents(o,f,S,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Vd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Vd.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Vd)}intersectsSprite(e){return Vd.center.set(0,0,0),Vd.radius=.7071067811865476,Vd.applyMatrix4(e.matrixWorld),this.intersectsSphere(Vd)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(mb.x=i.normal.x>0?e.max.x:e.min.x,mb.y=i.normal.y>0?e.max.y:e.min.y,mb.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(mb)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function wW(){let t=null,e=!1,n=null,r=null;function i(s,a){n(s,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function abe(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,d){const f=c.array,g=c.usage,y=f.byteLength,x=t.createBuffer();t.bindBuffer(d,x),t.bufferData(d,f,g),c.onUploadCallback();let S;if(f instanceof Float32Array)S=t.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)S=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else S=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)S=t.SHORT;else if(f instanceof Uint32Array)S=t.UNSIGNED_INT;else if(f instanceof Int32Array)S=t.INT;else if(f instanceof Int8Array)S=t.BYTE;else if(f instanceof Uint8Array)S=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)S=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:x,type:S,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version,size:y}}function s(c,d,f){const g=d.array,y=d._updateRange,x=d.updateRanges;if(t.bindBuffer(f,c),y.count===-1&&x.length===0&&t.bufferSubData(f,0,g),x.length!==0){for(let S=0,b=x.length;S<b;S++){const _=x[S];n?t.bufferSubData(f,_.start*g.BYTES_PER_ELEMENT,g,_.start,_.count):t.bufferSubData(f,_.start*g.BYTES_PER_ELEMENT,g.subarray(_.start,_.start+_.count))}d.clearUpdateRanges()}y.count!==-1&&(n?t.bufferSubData(f,y.offset*g.BYTES_PER_ELEMENT,g,y.offset,y.count):t.bufferSubData(f,y.offset*g.BYTES_PER_ELEMENT,g.subarray(y.offset,y.offset+y.count)),y.count=-1),d.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d&&(t.deleteBuffer(d.buffer),r.delete(c))}function l(c,d){if(c.isGLBufferAttribute){const g=r.get(c);(!g||g.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);if(f===void 0)r.set(c,i(c,d));else if(f.version<c.version){if(f.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(f.buffer,c,d),f.version=c.version}}return{get:a,remove:o,update:l}}class Wm extends hn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,a=n/2,o=Math.floor(r),l=Math.floor(i),c=o+1,d=l+1,f=e/o,g=n/l,y=[],x=[],S=[],b=[];for(let _=0;_<d;_++){const E=_*g-a;for(let M=0;M<c;M++){const P=M*f-s;x.push(P,-E,0),S.push(0,0,1),b.push(M/o),b.push(1-_/l)}}for(let _=0;_<l;_++)for(let E=0;E<o;E++){const M=E+c*_,P=E+c*(_+1),C=E+1+c*(_+1),N=E+1+c*_;y.push(M,P,N),y.push(P,C,N)}this.setIndex(y),this.setAttribute("position",new Tt(x,3)),this.setAttribute("normal",new Tt(S,3)),this.setAttribute("uv",new Tt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wm(e.width,e.height,e.widthSegments,e.heightSegments)}}var obe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,lbe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,cbe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ube=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,dbe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,fbe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,hbe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,pbe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,mbe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,gbe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,vbe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ybe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,xbe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,bbe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,wbe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,_be=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Sbe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Mbe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Ebe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Abe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Tbe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Pbe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Cbe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Nbe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Rbe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,kbe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Obe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Ibe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Lbe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Dbe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,jbe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Fbe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Bbe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Ube=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,zbe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Vbe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Hbe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,$be=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Wbe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Gbe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,qbe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Xbe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Ybe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Kbe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Zbe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Jbe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Qbe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,e1e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,t1e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,n1e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,r1e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,i1e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,s1e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,a1e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,o1e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,l1e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,c1e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,u1e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,d1e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,f1e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,h1e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,p1e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,m1e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,g1e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,v1e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,y1e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,x1e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,b1e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,w1e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,_1e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,S1e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,M1e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,E1e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,A1e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,T1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,P1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,C1e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,N1e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,R1e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,k1e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,O1e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,I1e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,L1e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,D1e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,j1e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,F1e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,B1e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,U1e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,z1e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,V1e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,H1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,$1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,W1e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,G1e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,q1e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,X1e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Y1e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,K1e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Z1e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,J1e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Q1e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ewe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	float startCompression = 0.8 - 0.04;
	float desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min(color.r, min(color.g, color.b));
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max(color.r, max(color.g, color.b));
	if (peak < startCompression) return color;
	float d = 1. - startCompression;
	float newPeak = 1. - d * d / (peak + d - startCompression);
	color *= newPeak / peak;
	float g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);
	return mix(color, vec3(1, 1, 1), g);
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,twe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,nwe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,rwe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,iwe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,swe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,awe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const owe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,lwe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cwe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,uwe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dwe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fwe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hwe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,pwe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,mwe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,gwe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vwe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,ywe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,xwe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bwe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wwe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,_we=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Swe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mwe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ewe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Awe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Twe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Pwe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Cwe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nwe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rwe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,kwe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Owe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Iwe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lwe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Dwe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,jwe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Fwe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Bwe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Uwe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,fn={alphahash_fragment:obe,alphahash_pars_fragment:lbe,alphamap_fragment:cbe,alphamap_pars_fragment:ube,alphatest_fragment:dbe,alphatest_pars_fragment:fbe,aomap_fragment:hbe,aomap_pars_fragment:pbe,batching_pars_vertex:mbe,batching_vertex:gbe,begin_vertex:vbe,beginnormal_vertex:ybe,bsdfs:xbe,iridescence_fragment:bbe,bumpmap_pars_fragment:wbe,clipping_planes_fragment:_be,clipping_planes_pars_fragment:Sbe,clipping_planes_pars_vertex:Mbe,clipping_planes_vertex:Ebe,color_fragment:Abe,color_pars_fragment:Tbe,color_pars_vertex:Pbe,color_vertex:Cbe,common:Nbe,cube_uv_reflection_fragment:Rbe,defaultnormal_vertex:kbe,displacementmap_pars_vertex:Obe,displacementmap_vertex:Ibe,emissivemap_fragment:Lbe,emissivemap_pars_fragment:Dbe,colorspace_fragment:jbe,colorspace_pars_fragment:Fbe,envmap_fragment:Bbe,envmap_common_pars_fragment:Ube,envmap_pars_fragment:zbe,envmap_pars_vertex:Vbe,envmap_physical_pars_fragment:e1e,envmap_vertex:Hbe,fog_vertex:$be,fog_pars_vertex:Wbe,fog_fragment:Gbe,fog_pars_fragment:qbe,gradientmap_pars_fragment:Xbe,lightmap_fragment:Ybe,lightmap_pars_fragment:Kbe,lights_lambert_fragment:Zbe,lights_lambert_pars_fragment:Jbe,lights_pars_begin:Qbe,lights_toon_fragment:t1e,lights_toon_pars_fragment:n1e,lights_phong_fragment:r1e,lights_phong_pars_fragment:i1e,lights_physical_fragment:s1e,lights_physical_pars_fragment:a1e,lights_fragment_begin:o1e,lights_fragment_maps:l1e,lights_fragment_end:c1e,logdepthbuf_fragment:u1e,logdepthbuf_pars_fragment:d1e,logdepthbuf_pars_vertex:f1e,logdepthbuf_vertex:h1e,map_fragment:p1e,map_pars_fragment:m1e,map_particle_fragment:g1e,map_particle_pars_fragment:v1e,metalnessmap_fragment:y1e,metalnessmap_pars_fragment:x1e,morphinstance_vertex:b1e,morphcolor_vertex:w1e,morphnormal_vertex:_1e,morphtarget_pars_vertex:S1e,morphtarget_vertex:M1e,normal_fragment_begin:E1e,normal_fragment_maps:A1e,normal_pars_fragment:T1e,normal_pars_vertex:P1e,normal_vertex:C1e,normalmap_pars_fragment:N1e,clearcoat_normal_fragment_begin:R1e,clearcoat_normal_fragment_maps:k1e,clearcoat_pars_fragment:O1e,iridescence_pars_fragment:I1e,opaque_fragment:L1e,packing:D1e,premultiplied_alpha_fragment:j1e,project_vertex:F1e,dithering_fragment:B1e,dithering_pars_fragment:U1e,roughnessmap_fragment:z1e,roughnessmap_pars_fragment:V1e,shadowmap_pars_fragment:H1e,shadowmap_pars_vertex:$1e,shadowmap_vertex:W1e,shadowmask_pars_fragment:G1e,skinbase_vertex:q1e,skinning_pars_vertex:X1e,skinning_vertex:Y1e,skinnormal_vertex:K1e,specularmap_fragment:Z1e,specularmap_pars_fragment:J1e,tonemapping_fragment:Q1e,tonemapping_pars_fragment:ewe,transmission_fragment:twe,transmission_pars_fragment:nwe,uv_pars_fragment:rwe,uv_pars_vertex:iwe,uv_vertex:swe,worldpos_vertex:awe,background_vert:owe,background_frag:lwe,backgroundCube_vert:cwe,backgroundCube_frag:uwe,cube_vert:dwe,cube_frag:fwe,depth_vert:hwe,depth_frag:pwe,distanceRGBA_vert:mwe,distanceRGBA_frag:gwe,equirect_vert:vwe,equirect_frag:ywe,linedashed_vert:xwe,linedashed_frag:bwe,meshbasic_vert:wwe,meshbasic_frag:_we,meshlambert_vert:Swe,meshlambert_frag:Mwe,meshmatcap_vert:Ewe,meshmatcap_frag:Awe,meshnormal_vert:Twe,meshnormal_frag:Pwe,meshphong_vert:Cwe,meshphong_frag:Nwe,meshphysical_vert:Rwe,meshphysical_frag:kwe,meshtoon_vert:Owe,meshtoon_frag:Iwe,points_vert:Lwe,points_frag:Dwe,shadow_vert:jwe,shadow_frag:Fwe,sprite_vert:Bwe,sprite_frag:Uwe},ct={common:{diffuse:{value:new bt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new on},alphaMap:{value:null},alphaMapTransform:{value:new on},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new on}},envmap:{envMap:{value:null},envMapRotation:{value:new on},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new on}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new on}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new on},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new on},normalScale:{value:new $e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new on},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new on}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new on}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new on}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new bt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new on},alphaTest:{value:0},uvTransform:{value:new on}},sprite:{diffuse:{value:new bt(16777215)},opacity:{value:1},center:{value:new $e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new on},alphaMap:{value:null},alphaMapTransform:{value:new on},alphaTest:{value:0}}},yo={basic:{uniforms:fs([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.fog]),vertexShader:fn.meshbasic_vert,fragmentShader:fn.meshbasic_frag},lambert:{uniforms:fs([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new bt(0)}}]),vertexShader:fn.meshlambert_vert,fragmentShader:fn.meshlambert_frag},phong:{uniforms:fs([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new bt(0)},specular:{value:new bt(1118481)},shininess:{value:30}}]),vertexShader:fn.meshphong_vert,fragmentShader:fn.meshphong_frag},standard:{uniforms:fs([ct.common,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.roughnessmap,ct.metalnessmap,ct.fog,ct.lights,{emissive:{value:new bt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:fn.meshphysical_vert,fragmentShader:fn.meshphysical_frag},toon:{uniforms:fs([ct.common,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.gradientmap,ct.fog,ct.lights,{emissive:{value:new bt(0)}}]),vertexShader:fn.meshtoon_vert,fragmentShader:fn.meshtoon_frag},matcap:{uniforms:fs([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,{matcap:{value:null}}]),vertexShader:fn.meshmatcap_vert,fragmentShader:fn.meshmatcap_frag},points:{uniforms:fs([ct.points,ct.fog]),vertexShader:fn.points_vert,fragmentShader:fn.points_frag},dashed:{uniforms:fs([ct.common,ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:fn.linedashed_vert,fragmentShader:fn.linedashed_frag},depth:{uniforms:fs([ct.common,ct.displacementmap]),vertexShader:fn.depth_vert,fragmentShader:fn.depth_frag},normal:{uniforms:fs([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,{opacity:{value:1}}]),vertexShader:fn.meshnormal_vert,fragmentShader:fn.meshnormal_frag},sprite:{uniforms:fs([ct.sprite,ct.fog]),vertexShader:fn.sprite_vert,fragmentShader:fn.sprite_frag},background:{uniforms:{uvTransform:{value:new on},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:fn.background_vert,fragmentShader:fn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new on}},vertexShader:fn.backgroundCube_vert,fragmentShader:fn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:fn.cube_vert,fragmentShader:fn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:fn.equirect_vert,fragmentShader:fn.equirect_frag},distanceRGBA:{uniforms:fs([ct.common,ct.displacementmap,{referencePosition:{value:new ie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:fn.distanceRGBA_vert,fragmentShader:fn.distanceRGBA_frag},shadow:{uniforms:fs([ct.lights,ct.fog,{color:{value:new bt(0)},opacity:{value:1}}]),vertexShader:fn.shadow_vert,fragmentShader:fn.shadow_frag}};yo.physical={uniforms:fs([yo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new on},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new on},clearcoatNormalScale:{value:new $e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new on},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new on},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new on},sheen:{value:0},sheenColor:{value:new bt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new on},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new on},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new on},transmissionSamplerSize:{value:new $e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new on},attenuationDistance:{value:0},attenuationColor:{value:new bt(0)},specularColor:{value:new bt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new on},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new on},anisotropyVector:{value:new $e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new on}}]),vertexShader:fn.meshphysical_vert,fragmentShader:fn.meshphysical_frag};const gb={r:0,b:0,g:0},Hd=new fa,zwe=new qt;function Vwe(t,e,n,r,i,s,a){const o=new bt(0);let l=s===!0?0:1,c,d,f=null,g=0,y=null;function x(b,_){let E=!1,M=_.isScene===!0?_.background:null;M&&M.isTexture&&(M=(_.backgroundBlurriness>0?n:e).get(M)),M===null?S(o,l):M&&M.isColor&&(S(M,1),E=!0);const P=t.xr.getEnvironmentBlendMode();P==="additive"?r.buffers.color.setClear(0,0,0,1,a):P==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||E)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),M&&(M.isCubeTexture||M.mapping===Hm)?(d===void 0&&(d=new qr(new Xf(1,1,1),new Mo({name:"BackgroundCubeMaterial",uniforms:Em(yo.backgroundCube.uniforms),vertexShader:yo.backgroundCube.vertexShader,fragmentShader:yo.backgroundCube.fragmentShader,side:ys,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(C,N,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),Hd.copy(_.backgroundRotation),Hd.x*=-1,Hd.y*=-1,Hd.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(Hd.y*=-1,Hd.z*=-1),d.material.uniforms.envMap.value=M,d.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(zwe.makeRotationFromEuler(Hd)),d.material.toneMapped=Fn.getTransfer(M.colorSpace)!==Qn,(f!==M||g!==M.version||y!==t.toneMapping)&&(d.material.needsUpdate=!0,f=M,g=M.version,y=t.toneMapping),d.layers.enableAll(),b.unshift(d,d.geometry,d.material,0,0,null)):M&&M.isTexture&&(c===void 0&&(c=new qr(new Wm(2,2),new Mo({name:"BackgroundMaterial",uniforms:Em(yo.background.uniforms),vertexShader:yo.background.vertexShader,fragmentShader:yo.background.fragmentShader,side:fc,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=M,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=Fn.getTransfer(M.colorSpace)!==Qn,M.matrixAutoUpdate===!0&&M.updateMatrix(),c.material.uniforms.uvTransform.value.copy(M.matrix),(f!==M||g!==M.version||y!==t.toneMapping)&&(c.material.needsUpdate=!0,f=M,g=M.version,y=t.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}function S(b,_){b.getRGB(gb,vW(t)),r.buffers.color.setClear(gb.r,gb.g,gb.b,_,a)}return{getClearColor:function(){return o},setClearColor:function(b,_=1){o.set(b),l=_,S(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,S(o,l)},render:x}}function Hwe(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||s!==null,o={},l=b(null);let c=l,d=!1;function f(V,Z,ee,re,H){let J=!1;if(a){const K=S(re,ee,Z);c!==K&&(c=K,y(c.object)),J=_(V,re,ee,H),J&&E(V,re,ee,H)}else{const K=Z.wireframe===!0;(c.geometry!==re.id||c.program!==ee.id||c.wireframe!==K)&&(c.geometry=re.id,c.program=ee.id,c.wireframe=K,J=!0)}H!==null&&n.update(H,t.ELEMENT_ARRAY_BUFFER),(J||d)&&(d=!1,D(V,Z,ee,re),H!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(H).buffer))}function g(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function y(V){return r.isWebGL2?t.bindVertexArray(V):s.bindVertexArrayOES(V)}function x(V){return r.isWebGL2?t.deleteVertexArray(V):s.deleteVertexArrayOES(V)}function S(V,Z,ee){const re=ee.wireframe===!0;let H=o[V.id];H===void 0&&(H={},o[V.id]=H);let J=H[Z.id];J===void 0&&(J={},H[Z.id]=J);let K=J[re];return K===void 0&&(K=b(g()),J[re]=K),K}function b(V){const Z=[],ee=[],re=[];for(let H=0;H<i;H++)Z[H]=0,ee[H]=0,re[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Z,enabledAttributes:ee,attributeDivisors:re,object:V,attributes:{},index:null}}function _(V,Z,ee,re){const H=c.attributes,J=Z.attributes;let K=0;const q=ee.getAttributes();for(const ne in q)if(q[ne].location>=0){const se=H[ne];let de=J[ne];if(de===void 0&&(ne==="instanceMatrix"&&V.instanceMatrix&&(de=V.instanceMatrix),ne==="instanceColor"&&V.instanceColor&&(de=V.instanceColor)),se===void 0||se.attribute!==de||de&&se.data!==de.data)return!0;K++}return c.attributesNum!==K||c.index!==re}function E(V,Z,ee,re){const H={},J=Z.attributes;let K=0;const q=ee.getAttributes();for(const ne in q)if(q[ne].location>=0){let se=J[ne];se===void 0&&(ne==="instanceMatrix"&&V.instanceMatrix&&(se=V.instanceMatrix),ne==="instanceColor"&&V.instanceColor&&(se=V.instanceColor));const de={};de.attribute=se,se&&se.data&&(de.data=se.data),H[ne]=de,K++}c.attributes=H,c.attributesNum=K,c.index=re}function M(){const V=c.newAttributes;for(let Z=0,ee=V.length;Z<ee;Z++)V[Z]=0}function P(V){C(V,0)}function C(V,Z){const ee=c.newAttributes,re=c.enabledAttributes,H=c.attributeDivisors;ee[V]=1,re[V]===0&&(t.enableVertexAttribArray(V),re[V]=1),H[V]!==Z&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](V,Z),H[V]=Z)}function N(){const V=c.newAttributes,Z=c.enabledAttributes;for(let ee=0,re=Z.length;ee<re;ee++)Z[ee]!==V[ee]&&(t.disableVertexAttribArray(ee),Z[ee]=0)}function O(V,Z,ee,re,H,J,K){K===!0?t.vertexAttribIPointer(V,Z,ee,H,J):t.vertexAttribPointer(V,Z,ee,re,H,J)}function D(V,Z,ee,re){if(r.isWebGL2===!1&&(V.isInstancedMesh||re.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;M();const H=re.attributes,J=ee.getAttributes(),K=Z.defaultAttributeValues;for(const q in J){const ne=J[q];if(ne.location>=0){let ve=H[q];if(ve===void 0&&(q==="instanceMatrix"&&V.instanceMatrix&&(ve=V.instanceMatrix),q==="instanceColor"&&V.instanceColor&&(ve=V.instanceColor)),ve!==void 0){const se=ve.normalized,de=ve.itemSize,Ee=n.get(ve);if(Ee===void 0)continue;const Ve=Ee.buffer,Ue=Ee.type,ye=Ee.bytesPerElement,We=r.isWebGL2===!0&&(Ue===t.INT||Ue===t.UNSIGNED_INT||ve.gpuType===Zk);if(ve.isInterleavedBufferAttribute){const ze=ve.data,Y=ze.stride,Ie=ve.offset;if(ze.isInstancedInterleavedBuffer){for(let ce=0;ce<ne.locationSize;ce++)C(ne.location+ce,ze.meshPerAttribute);V.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=ze.meshPerAttribute*ze.count)}else for(let ce=0;ce<ne.locationSize;ce++)P(ne.location+ce);t.bindBuffer(t.ARRAY_BUFFER,Ve);for(let ce=0;ce<ne.locationSize;ce++)O(ne.location+ce,de/ne.locationSize,Ue,se,Y*ye,(Ie+de/ne.locationSize*ce)*ye,We)}else{if(ve.isInstancedBufferAttribute){for(let ze=0;ze<ne.locationSize;ze++)C(ne.location+ze,ve.meshPerAttribute);V.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let ze=0;ze<ne.locationSize;ze++)P(ne.location+ze);t.bindBuffer(t.ARRAY_BUFFER,Ve);for(let ze=0;ze<ne.locationSize;ze++)O(ne.location+ze,de/ne.locationSize,Ue,se,de*ye,de/ne.locationSize*ze*ye,We)}}else if(K!==void 0){const se=K[q];if(se!==void 0)switch(se.length){case 2:t.vertexAttrib2fv(ne.location,se);break;case 3:t.vertexAttrib3fv(ne.location,se);break;case 4:t.vertexAttrib4fv(ne.location,se);break;default:t.vertexAttrib1fv(ne.location,se)}}}}N()}function U(){$();for(const V in o){const Z=o[V];for(const ee in Z){const re=Z[ee];for(const H in re)x(re[H].object),delete re[H];delete Z[ee]}delete o[V]}}function L(V){if(o[V.id]===void 0)return;const Z=o[V.id];for(const ee in Z){const re=Z[ee];for(const H in re)x(re[H].object),delete re[H];delete Z[ee]}delete o[V.id]}function I(V){for(const Z in o){const ee=o[Z];if(ee[V.id]===void 0)continue;const re=ee[V.id];for(const H in re)x(re[H].object),delete re[H];delete ee[V.id]}}function $(){X(),d=!0,c!==l&&(c=l,y(c.object))}function X(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:$,resetDefaultState:X,dispose:U,releaseStatesOfGeometry:L,releaseStatesOfProgram:I,initAttributes:M,enableAttribute:P,disableUnusedAttributes:N}}function $we(t,e,n,r){const i=r.isWebGL2;let s;function a(d){s=d}function o(d,f){t.drawArrays(s,d,f),n.update(f,s,1)}function l(d,f,g){if(g===0)return;let y,x;if(i)y=t,x="drawArraysInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawArraysInstancedANGLE",y===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,d,f,g),n.update(f,s,g)}function c(d,f,g){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let x=0;x<g;x++)this.render(d[x],f[x]);else{y.multiDrawArraysWEBGL(s,d,0,f,0,g);let x=0;for(let S=0;S<g;S++)x+=f[S];n.update(x,s,1)}}this.setMode=a,this.render=o,this.renderInstances=l,this.renderMultiDraw=c}function Wwe(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const O=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(O.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(O){if(O==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";O="mediump"}return O==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let o=n.precision!==void 0?n.precision:"highp";const l=s(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=a||e.has("WEBGL_draw_buffers"),d=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),x=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),S=t.getParameter(t.MAX_VERTEX_ATTRIBS),b=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),E=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),M=g>0,P=a||e.has("OES_texture_float"),C=M&&P,N=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:g,maxTextureSize:y,maxCubemapSize:x,maxAttributes:S,maxVertexUniforms:b,maxVaryings:_,maxFragmentUniforms:E,vertexTextures:M,floatFragmentTextures:P,floatVertexTextures:C,maxSamples:N}}function Gwe(t){const e=this;let n=null,r=0,i=!1,s=!1;const a=new mu,o=new on,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,g){const y=f.length!==0||g||r!==0||i;return i=g,r=f.length,y},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,g){n=d(f,g,0)},this.setState=function(f,g,y){const x=f.clippingPlanes,S=f.clipIntersection,b=f.clipShadows,_=t.get(f);if(!i||x===null||x.length===0||s&&!b)s?d(null):c();else{const E=s?0:r,M=E*4;let P=_.clippingState||null;l.value=P,P=d(x,g,M,y);for(let C=0;C!==M;++C)P[C]=n[C];_.clippingState=P,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=E}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(f,g,y,x){const S=f!==null?f.length:0;let b=null;if(S!==0){if(b=l.value,x!==!0||b===null){const _=y+S*4,E=g.matrixWorldInverse;o.getNormalMatrix(E),(b===null||b.length<_)&&(b=new Float32Array(_));for(let M=0,P=y;M!==S;++M,P+=4)a.copy(f[M]).applyMatrix4(E,o),a.normal.toArray(b,P),b[P+3]=a.constant}l.value=b,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,b}}function qwe(t){let e=new WeakMap;function n(a,o){return o===jv?a.mapping=hc:o===Fv&&(a.mapping=Ou),a}function r(a){if(a&&a.isTexture){const o=a.mapping;if(o===jv||o===Fv)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new bW(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class My extends wy{constructor(e=-1,n=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=d*this.view.offsetY,l=o-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Dp=4,zU=[.125,.215,.35,.446,.526,.582],of=20,ST=new My,VU=new bt;let MT=null,ET=0,AT=0;const rf=(1+Math.sqrt(5))/2,pp=1/rf,HU=[new ie(1,1,1),new ie(-1,1,1),new ie(1,1,-1),new ie(-1,1,-1),new ie(0,rf,pp),new ie(0,rf,-pp),new ie(pp,0,rf),new ie(-pp,0,rf),new ie(rf,pp,0),new ie(-rf,pp,0)];class UN{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){MT=this._renderer.getRenderTarget(),ET=this._renderer.getActiveCubeFace(),AT=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=GU(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=WU(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(MT,ET,AT),e.scissorTest=!1,vb(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===hc||e.mapping===Ou?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),MT=this._renderer.getRenderTarget(),ET=this._renderer.getActiveCubeFace(),AT=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:xr,minFilter:xr,generateMipmaps:!1,type:Sm,format:hs,colorSpace:bc,depthBuffer:!1},i=$U(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=$U(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Xwe(s)),this._blurMaterial=Ywe(s,e,n)}return i}_compileMaterial(e){const n=new qr(this._lodPlanes[0],e);this._renderer.compile(n,ST)}_sceneToCubeUV(e,n,r,i){const o=new yi(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,g=d.toneMapping;d.getClearColor(VU),d.toneMapping=Qo,d.autoClear=!1;const y=new Wu({name:"PMREM.Background",side:ys,depthWrite:!1,depthTest:!1}),x=new qr(new Xf,y);let S=!1;const b=e.background;b?b.isColor&&(y.color.copy(b),e.background=null,S=!0):(y.color.copy(VU),S=!0);for(let _=0;_<6;_++){const E=_%3;E===0?(o.up.set(0,l[_],0),o.lookAt(c[_],0,0)):E===1?(o.up.set(0,0,l[_]),o.lookAt(0,c[_],0)):(o.up.set(0,l[_],0),o.lookAt(0,0,c[_]));const M=this._cubeSize;vb(i,E*M,_>2?M:0,M,M),d.setRenderTarget(i),S&&d.render(x,o),d.render(e,o)}x.geometry.dispose(),x.material.dispose(),d.toneMapping=g,d.autoClear=f,e.background=b}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===hc||e.mapping===Ou;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=GU()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=WU());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new qr(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;vb(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,ST)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=HU[(i-1)%HU.length];this._blur(e,i-1,i,s,a)}n.autoClear=r}_blur(e,n,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new qr(this._lodPlanes[i],c),g=c.uniforms,y=this._sizeLods[r]-1,x=isFinite(s)?Math.PI/(2*y):2*Math.PI/(2*of-1),S=s/x,b=isFinite(s)?1+Math.floor(d*S):of;b>of&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${of}`);const _=[];let E=0;for(let O=0;O<of;++O){const D=O/S,U=Math.exp(-D*D/2);_.push(U),O===0?E+=U:O<b&&(E+=2*U)}for(let O=0;O<_.length;O++)_[O]=_[O]/E;g.envMap.value=e.texture,g.samples.value=b,g.weights.value=_,g.latitudinal.value=a==="latitudinal",o&&(g.poleAxis.value=o);const{_lodMax:M}=this;g.dTheta.value=x,g.mipInt.value=M-r;const P=this._sizeLods[i],C=3*P*(i>M-Dp?i-M+Dp:0),N=4*(this._cubeSize-P);vb(n,C,N,3*P,2*P),l.setRenderTarget(n),l.render(f,ST)}}function Xwe(t){const e=[],n=[],r=[];let i=t;const s=t-Dp+1+zU.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);n.push(o);let l=1/o;a>t-Dp?l=zU[a-t+Dp-1]:a===0&&(l=0),r.push(l);const c=1/(o-2),d=-c,f=1+c,g=[d,d,f,d,f,f,d,d,f,f,d,f],y=6,x=6,S=3,b=2,_=1,E=new Float32Array(S*x*y),M=new Float32Array(b*x*y),P=new Float32Array(_*x*y);for(let N=0;N<y;N++){const O=N%3*2/3-1,D=N>2?0:-1,U=[O,D,0,O+2/3,D,0,O+2/3,D+1,0,O,D,0,O+2/3,D+1,0,O,D+1,0];E.set(U,S*x*N),M.set(g,b*x*N);const L=[N,N,N,N,N,N];P.set(L,_*x*N)}const C=new hn;C.setAttribute("position",new Gn(E,S)),C.setAttribute("uv",new Gn(M,b)),C.setAttribute("faceIndex",new Gn(P,_)),e.push(C),i>Dp&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function $U(t,e,n){const r=new So(t,e,n);return r.texture.mapping=Hm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function vb(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Ywe(t,e,n){const r=new Float32Array(of),i=new ie(0,1,0);return new Mo({name:"SphericalGaussianBlur",defines:{n:of,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:fO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:sc,depthTest:!1,depthWrite:!1})}function WU(){return new Mo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:fO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:sc,depthTest:!1,depthWrite:!1})}function GU(){return new Mo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:fO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:sc,depthTest:!1,depthWrite:!1})}function fO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Kwe(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===jv||l===Fv,d=l===hc||l===Ou;if(c||d)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let f=e.get(o);return n===null&&(n=new UN(t)),f=c?n.fromEquirectangular(o,f):n.fromCubemap(o,f),e.set(o,f),f.texture}else{if(e.has(o))return e.get(o).texture;{const f=o.image;if(c&&f&&f.height>0||d&&f&&i(f)){n===null&&(n=new UN(t));const g=c?n.fromEquirectangular(o):n.fromCubemap(o);return e.set(o,g),o.addEventListener("dispose",s),g.texture}else return null}}}return o}function i(o){let l=0;const c=6;for(let d=0;d<c;d++)o[d]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function Zwe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Jwe(t,e,n,r){const i={},s=new WeakMap;function a(f){const g=f.target;g.index!==null&&e.remove(g.index);for(const x in g.attributes)e.remove(g.attributes[x]);for(const x in g.morphAttributes){const S=g.morphAttributes[x];for(let b=0,_=S.length;b<_;b++)e.remove(S[b])}g.removeEventListener("dispose",a),delete i[g.id];const y=s.get(g);y&&(e.remove(y),s.delete(g)),r.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,n.memory.geometries--}function o(f,g){return i[g.id]===!0||(g.addEventListener("dispose",a),i[g.id]=!0,n.memory.geometries++),g}function l(f){const g=f.attributes;for(const x in g)e.update(g[x],t.ARRAY_BUFFER);const y=f.morphAttributes;for(const x in y){const S=y[x];for(let b=0,_=S.length;b<_;b++)e.update(S[b],t.ARRAY_BUFFER)}}function c(f){const g=[],y=f.index,x=f.attributes.position;let S=0;if(y!==null){const E=y.array;S=y.version;for(let M=0,P=E.length;M<P;M+=3){const C=E[M+0],N=E[M+1],O=E[M+2];g.push(C,N,N,O,O,C)}}else if(x!==void 0){const E=x.array;S=x.version;for(let M=0,P=E.length/3-1;M<P;M+=3){const C=M+0,N=M+1,O=M+2;g.push(C,N,N,O,O,C)}}else return;const b=new(fW(g)?dO:uO)(g,1);b.version=S;const _=s.get(f);_&&e.remove(_),s.set(f,b)}function d(f){const g=s.get(f);if(g){const y=f.index;y!==null&&g.version<y.version&&c(f)}else c(f);return s.get(f)}return{get:o,update:l,getWireframeAttribute:d}}function Qwe(t,e,n,r){const i=r.isWebGL2;let s;function a(y){s=y}let o,l;function c(y){o=y.type,l=y.bytesPerElement}function d(y,x){t.drawElements(s,x,o,y*l),n.update(x,s,1)}function f(y,x,S){if(S===0)return;let b,_;if(i)b=t,_="drawElementsInstanced";else if(b=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",b===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}b[_](s,x,o,y*l,S),n.update(x,s,S)}function g(y,x,S){if(S===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let _=0;_<S;_++)this.render(y[_]/l,x[_]);else{b.multiDrawElementsWEBGL(s,x,0,o,y,0,S);let _=0;for(let E=0;E<S;E++)_+=x[E];n.update(_,s,1)}}this.setMode=a,this.setIndex=c,this.render=d,this.renderInstances=f,this.renderMultiDraw=g}function e_e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(s/3);break;case t.LINES:n.lines+=o*(s/2);break;case t.LINE_STRIP:n.lines+=o*(s-1);break;case t.LINE_LOOP:n.lines+=o*s;break;case t.POINTS:n.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function t_e(t,e){return t[0]-e[0]}function n_e(t,e){return Math.abs(e[1])-Math.abs(t[1])}function r_e(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,a=new Bn,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function l(c,d,f){const g=c.morphTargetInfluences;if(e.isWebGL2===!0){const x=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,S=x!==void 0?x.length:0;let b=s.get(d);if(b===void 0||b.count!==S){let X=function(){I.dispose(),s.delete(d),d.removeEventListener("dispose",X)};var y=X;b!==void 0&&b.texture.dispose();const _=d.morphAttributes.position!==void 0,E=d.morphAttributes.normal!==void 0,M=d.morphAttributes.color!==void 0,P=d.morphAttributes.position||[],C=d.morphAttributes.normal||[],N=d.morphAttributes.color||[];let O=0;_===!0&&(O=1),E===!0&&(O=2),M===!0&&(O=3);let D=d.attributes.position.count*O,U=1;D>e.maxTextureSize&&(U=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const L=new Float32Array(D*U*4*S),I=new k_(L,D,U,S);I.type=sa,I.needsUpdate=!0;const $=O*4;for(let V=0;V<S;V++){const Z=P[V],ee=C[V],re=N[V],H=D*U*4*V;for(let J=0;J<Z.count;J++){const K=J*$;_===!0&&(a.fromBufferAttribute(Z,J),L[H+K+0]=a.x,L[H+K+1]=a.y,L[H+K+2]=a.z,L[H+K+3]=0),E===!0&&(a.fromBufferAttribute(ee,J),L[H+K+4]=a.x,L[H+K+5]=a.y,L[H+K+6]=a.z,L[H+K+7]=0),M===!0&&(a.fromBufferAttribute(re,J),L[H+K+8]=a.x,L[H+K+9]=a.y,L[H+K+10]=a.z,L[H+K+11]=re.itemSize===4?a.w:1)}}b={count:S,texture:I,size:new $e(D,U)},s.set(d,b),d.addEventListener("dispose",X)}if(c.isInstancedMesh===!0&&c.morphTexture!==null)f.getUniforms().setValue(t,"morphTexture",c.morphTexture,n);else{let _=0;for(let M=0;M<g.length;M++)_+=g[M];const E=d.morphTargetsRelative?1:1-_;f.getUniforms().setValue(t,"morphTargetBaseInfluence",E),f.getUniforms().setValue(t,"morphTargetInfluences",g)}f.getUniforms().setValue(t,"morphTargetsTexture",b.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",b.size)}else{const x=g===void 0?0:g.length;let S=r[d.id];if(S===void 0||S.length!==x){S=[];for(let P=0;P<x;P++)S[P]=[P,0];r[d.id]=S}for(let P=0;P<x;P++){const C=S[P];C[0]=P,C[1]=g[P]}S.sort(n_e);for(let P=0;P<8;P++)P<x&&S[P][1]?(o[P][0]=S[P][0],o[P][1]=S[P][1]):(o[P][0]=Number.MAX_SAFE_INTEGER,o[P][1]=0);o.sort(t_e);const b=d.morphAttributes.position,_=d.morphAttributes.normal;let E=0;for(let P=0;P<8;P++){const C=o[P],N=C[0],O=C[1];N!==Number.MAX_SAFE_INTEGER&&O?(b&&d.getAttribute("morphTarget"+P)!==b[N]&&d.setAttribute("morphTarget"+P,b[N]),_&&d.getAttribute("morphNormal"+P)!==_[N]&&d.setAttribute("morphNormal"+P,_[N]),i[P]=O,E+=O):(b&&d.hasAttribute("morphTarget"+P)===!0&&d.deleteAttribute("morphTarget"+P),_&&d.hasAttribute("morphNormal"+P)===!0&&d.deleteAttribute("morphNormal"+P),i[P]=0)}const M=d.morphTargetsRelative?1:1-E;f.getUniforms().setValue(t,"morphTargetBaseInfluence",M),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function i_e(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,d=l.geometry,f=e.get(l,d);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const g=l.skeleton;i.get(g)!==c&&(g.update(),i.set(g,c))}return f}function a(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:a}}class hO extends Cr{constructor(e,n,r,i,s,a,o,l,c,d){if(d=d!==void 0?d:Pu,d!==Pu&&d!==Df)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===Pu&&(r=Ql),r===void 0&&d===Df&&(r=Tu),super(null,i,s,a,o,l,d,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:Lr,this.minFilter=l!==void 0?l:Lr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const _W=new Cr,SW=new hO(1,1);SW.compareFunction=aO;const MW=new k_,EW=new cO,AW=new _y,qU=[],XU=[],YU=new Float32Array(16),KU=new Float32Array(9),ZU=new Float32Array(4);function Gm(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=qU[i];if(s===void 0&&(s=new Float32Array(i),qU[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function oi(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function li(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function O_(t,e){let n=XU[e];n===void 0&&(n=new Int32Array(e),XU[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function s_e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function a_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(oi(n,e))return;t.uniform2fv(this.addr,e),li(n,e)}}function o_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(oi(n,e))return;t.uniform3fv(this.addr,e),li(n,e)}}function l_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(oi(n,e))return;t.uniform4fv(this.addr,e),li(n,e)}}function c_e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(oi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),li(n,e)}else{if(oi(n,r))return;ZU.set(r),t.uniformMatrix2fv(this.addr,!1,ZU),li(n,r)}}function u_e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(oi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),li(n,e)}else{if(oi(n,r))return;KU.set(r),t.uniformMatrix3fv(this.addr,!1,KU),li(n,r)}}function d_e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(oi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),li(n,e)}else{if(oi(n,r))return;YU.set(r),t.uniformMatrix4fv(this.addr,!1,YU),li(n,r)}}function f_e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function h_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(oi(n,e))return;t.uniform2iv(this.addr,e),li(n,e)}}function p_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(oi(n,e))return;t.uniform3iv(this.addr,e),li(n,e)}}function m_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(oi(n,e))return;t.uniform4iv(this.addr,e),li(n,e)}}function g_e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function v_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(oi(n,e))return;t.uniform2uiv(this.addr,e),li(n,e)}}function y_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(oi(n,e))return;t.uniform3uiv(this.addr,e),li(n,e)}}function x_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(oi(n,e))return;t.uniform4uiv(this.addr,e),li(n,e)}}function b_e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const s=this.type===t.SAMPLER_2D_SHADOW?SW:_W;n.setTexture2D(e||s,i)}function w_e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||EW,i)}function __e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||AW,i)}function S_e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||MW,i)}function M_e(t){switch(t){case 5126:return s_e;case 35664:return a_e;case 35665:return o_e;case 35666:return l_e;case 35674:return c_e;case 35675:return u_e;case 35676:return d_e;case 5124:case 35670:return f_e;case 35667:case 35671:return h_e;case 35668:case 35672:return p_e;case 35669:case 35673:return m_e;case 5125:return g_e;case 36294:return v_e;case 36295:return y_e;case 36296:return x_e;case 35678:case 36198:case 36298:case 36306:case 35682:return b_e;case 35679:case 36299:case 36307:return w_e;case 35680:case 36300:case 36308:case 36293:return __e;case 36289:case 36303:case 36311:case 36292:return S_e}}function E_e(t,e){t.uniform1fv(this.addr,e)}function A_e(t,e){const n=Gm(e,this.size,2);t.uniform2fv(this.addr,n)}function T_e(t,e){const n=Gm(e,this.size,3);t.uniform3fv(this.addr,n)}function P_e(t,e){const n=Gm(e,this.size,4);t.uniform4fv(this.addr,n)}function C_e(t,e){const n=Gm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function N_e(t,e){const n=Gm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function R_e(t,e){const n=Gm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function k_e(t,e){t.uniform1iv(this.addr,e)}function O_e(t,e){t.uniform2iv(this.addr,e)}function I_e(t,e){t.uniform3iv(this.addr,e)}function L_e(t,e){t.uniform4iv(this.addr,e)}function D_e(t,e){t.uniform1uiv(this.addr,e)}function j_e(t,e){t.uniform2uiv(this.addr,e)}function F_e(t,e){t.uniform3uiv(this.addr,e)}function B_e(t,e){t.uniform4uiv(this.addr,e)}function U_e(t,e,n){const r=this.cache,i=e.length,s=O_(n,i);oi(r,s)||(t.uniform1iv(this.addr,s),li(r,s));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||_W,s[a])}function z_e(t,e,n){const r=this.cache,i=e.length,s=O_(n,i);oi(r,s)||(t.uniform1iv(this.addr,s),li(r,s));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||EW,s[a])}function V_e(t,e,n){const r=this.cache,i=e.length,s=O_(n,i);oi(r,s)||(t.uniform1iv(this.addr,s),li(r,s));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||AW,s[a])}function H_e(t,e,n){const r=this.cache,i=e.length,s=O_(n,i);oi(r,s)||(t.uniform1iv(this.addr,s),li(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||MW,s[a])}function $_e(t){switch(t){case 5126:return E_e;case 35664:return A_e;case 35665:return T_e;case 35666:return P_e;case 35674:return C_e;case 35675:return N_e;case 35676:return R_e;case 5124:case 35670:return k_e;case 35667:case 35671:return O_e;case 35668:case 35672:return I_e;case 35669:case 35673:return L_e;case 5125:return D_e;case 36294:return j_e;case 36295:return F_e;case 36296:return B_e;case 35678:case 36198:case 36298:case 36306:case 35682:return U_e;case 35679:case 36299:case 36307:return z_e;case 35680:case 36300:case 36308:case 36293:return V_e;case 36289:case 36303:case 36311:case 36292:return H_e}}class W_e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=M_e(n.type)}}class G_e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=$_e(n.type)}}class q_e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,n[o.id],r)}}}const TT=/(\w+)(\])?(\[|\.)?/g;function JU(t,e){t.seq.push(e),t.map[e.id]=e}function X_e(t,e,n){const r=t.name,i=r.length;for(TT.lastIndex=0;;){const s=TT.exec(r),a=TT.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===i){JU(n,c===void 0?new W_e(o,t,e):new G_e(o,t,e));break}else{let f=n.map[o];f===void 0&&(f=new q_e(o),JU(n,f)),n=f}}}class c1{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),a=e.getUniformLocation(n,s.name);X_e(s,a,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,a=n.length;s!==a;++s){const o=n[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function QU(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Y_e=37297;let K_e=0;function Z_e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return r.join(`
`)}function J_e(t){const e=Fn.getPrimaries(Fn.workingColorSpace),n=Fn.getPrimaries(t);let r;switch(e===n?r="":e===Gv&&n===Wv?r="LinearDisplayP3ToLinearSRGB":e===Wv&&n===Gv&&(r="LinearSRGBToLinearDisplayP3"),t){case bc:case by:return[r,"LinearTransferOETF"];case Na:case R_:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function ez(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const a=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+Z_e(t.getShaderSource(e),a)}else return i}function Q_e(t,e){const n=J_e(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function eSe(t,e){let n;switch(e){case B9:n="Linear";break;case U9:n="Reinhard";break;case z9:n="OptimizedCineon";break;case Kk:n="ACESFilmic";break;case H9:n="AgX";break;case $9:n="Neutral";break;case V9:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function tSe(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(jp).join(`
`)}function nSe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(jp).join(`
`)}function rSe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function iSe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),a=s.name;let o=1;s.type===t.FLOAT_MAT2&&(o=2),s.type===t.FLOAT_MAT3&&(o=3),s.type===t.FLOAT_MAT4&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function jp(t){return t!==""}function tz(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function nz(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const sSe=/^[ \t]*#include +<([\w\d./]+)>/gm;function zN(t){return t.replace(sSe,oSe)}const aSe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function oSe(t,e){let n=fn[e];if(n===void 0){const r=aSe.get(e);if(r!==void 0)n=fn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return zN(n)}const lSe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function rz(t){return t.replace(lSe,cSe)}function cSe(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function iz(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	`;return t.isWebGL2&&(e+=`precision ${t.precision} sampler3D;
		precision ${t.precision} sampler2DArray;
		precision ${t.precision} sampler2DShadow;
		precision ${t.precision} samplerCubeShadow;
		precision ${t.precision} sampler2DArrayShadow;
		precision ${t.precision} isampler2D;
		precision ${t.precision} isampler3D;
		precision ${t.precision} isamplerCube;
		precision ${t.precision} isampler2DArray;
		precision ${t.precision} usampler2D;
		precision ${t.precision} usampler3D;
		precision ${t.precision} usamplerCube;
		precision ${t.precision} usampler2DArray;
		`),t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function uSe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===T_?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===V0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===po&&(e="SHADOWMAP_TYPE_VSM"),e}function dSe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case hc:case Ou:e="ENVMAP_TYPE_CUBE";break;case Hm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function fSe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ou:e="ENVMAP_MODE_REFRACTION";break}return e}function hSe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case xy:e="ENVMAP_BLENDING_MULTIPLY";break;case j9:e="ENVMAP_BLENDING_MIX";break;case F9:e="ENVMAP_BLENDING_ADD";break}return e}function pSe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function mSe(t,e,n,r){const i=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=uSe(n),c=dSe(n),d=fSe(n),f=hSe(n),g=pSe(n),y=n.isWebGL2?"":tSe(n),x=nSe(n),S=rSe(s),b=i.createProgram();let _,E,M=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(_=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S].filter(jp).join(`
`),_.length>0&&(_+=`
`),E=[y,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S].filter(jp).join(`
`),E.length>0&&(E+=`
`)):(_=[iz(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(jp).join(`
`),E=[y,iz(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Qo?"#define TONE_MAPPING":"",n.toneMapping!==Qo?fn.tonemapping_pars_fragment:"",n.toneMapping!==Qo?eSe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",fn.colorspace_pars_fragment,Q_e("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(jp).join(`
`)),a=zN(a),a=tz(a,n),a=nz(a,n),o=zN(o),o=tz(o,n),o=nz(o,n),a=rz(a),o=rz(o),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(M=`#version 300 es
`,_=[x,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,E=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===FN?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===FN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const P=M+_+a,C=M+E+o,N=QU(i,i.VERTEX_SHADER,P),O=QU(i,i.FRAGMENT_SHADER,C);i.attachShader(b,N),i.attachShader(b,O),n.index0AttributeName!==void 0?i.bindAttribLocation(b,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b);function D($){if(t.debug.checkShaderErrors){const X=i.getProgramInfoLog(b).trim(),V=i.getShaderInfoLog(N).trim(),Z=i.getShaderInfoLog(O).trim();let ee=!0,re=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(ee=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,b,N,O);else{const H=ez(i,N,"vertex"),J=ez(i,O,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Material Name: `+$.name+`
Material Type: `+$.type+`

Program Info Log: `+X+`
`+H+`
`+J)}else X!==""?console.warn("THREE.WebGLProgram: Program Info Log:",X):(V===""||Z==="")&&(re=!1);re&&($.diagnostics={runnable:ee,programLog:X,vertexShader:{log:V,prefix:_},fragmentShader:{log:Z,prefix:E}})}i.deleteShader(N),i.deleteShader(O),U=new c1(i,b),L=iSe(i,b)}let U;this.getUniforms=function(){return U===void 0&&D(this),U};let L;this.getAttributes=function(){return L===void 0&&D(this),L};let I=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=i.getProgramParameter(b,Y_e)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=K_e++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=N,this.fragmentShader=O,this}let gSe=0;class vSe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new ySe(e),n.set(e,r)),r}}class ySe{constructor(e){this.id=gSe++,this.code=e,this.usedTimes=0}}function xSe(t,e,n,r,i,s,a){const o=new Af,l=new vSe,c=new Set,d=[],f=i.isWebGL2,g=i.logarithmicDepthBuffer,y=i.vertexTextures;let x=i.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(L){return c.add(L),L===0?"uv":`uv${L}`}function _(L,I,$,X,V){const Z=X.fog,ee=V.geometry,re=L.isMeshStandardMaterial?X.environment:null,H=(L.isMeshStandardMaterial?n:e).get(L.envMap||re),J=H&&H.mapping===Hm?H.image.height:null,K=S[L.type];L.precision!==null&&(x=i.getMaxPrecision(L.precision),x!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",x,"instead."));const q=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,ne=q!==void 0?q.length:0;let ve=0;ee.morphAttributes.position!==void 0&&(ve=1),ee.morphAttributes.normal!==void 0&&(ve=2),ee.morphAttributes.color!==void 0&&(ve=3);let se,de,Ee,Ve;if(K){const vn=yo[K];se=vn.vertexShader,de=vn.fragmentShader}else se=L.vertexShader,de=L.fragmentShader,l.update(L),Ee=l.getVertexShaderID(L),Ve=l.getFragmentShaderID(L);const Ue=t.getRenderTarget(),ye=V.isInstancedMesh===!0,We=V.isBatchedMesh===!0,ze=!!L.map,Y=!!L.matcap,Ie=!!H,ce=!!L.aoMap,xe=!!L.lightMap,me=!!L.bumpMap,Fe=!!L.normalMap,Be=!!L.displacementMap,He=!!L.emissiveMap,Ge=!!L.metalnessMap,Q=!!L.roughnessMap,W=L.anisotropy>0,be=L.clearcoat>0,Se=L.iridescence>0,Oe=L.sheen>0,De=L.transmission>0,dt=W&&!!L.anisotropyMap,vt=be&&!!L.clearcoatMap,Ke=be&&!!L.clearcoatNormalMap,Je=be&&!!L.clearcoatRoughnessMap,Ot=Se&&!!L.iridescenceMap,Qe=Se&&!!L.iridescenceThicknessMap,Cn=Oe&&!!L.sheenColorMap,Ut=Oe&&!!L.sheenRoughnessMap,It=!!L.specularMap,Mt=!!L.specularColorMap,St=!!L.specularIntensityMap,tn=De&&!!L.transmissionMap,zt=De&&!!L.thicknessMap,En=!!L.gradientMap,fe=!!L.alphaMap,it=L.alphaTest>0,Pe=!!L.alphaHash,nt=!!L.extensions;let lt=Qo;L.toneMapped&&(Ue===null||Ue.isXRRenderTarget===!0)&&(lt=t.toneMapping);const nn={isWebGL2:f,shaderID:K,shaderType:L.type,shaderName:L.name,vertexShader:se,fragmentShader:de,defines:L.defines,customVertexShaderID:Ee,customFragmentShaderID:Ve,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:x,batching:We,instancing:ye,instancingColor:ye&&V.instanceColor!==null,instancingMorph:ye&&V.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:Ue===null?t.outputColorSpace:Ue.isXRRenderTarget===!0?Ue.texture.colorSpace:bc,alphaToCoverage:!!L.alphaToCoverage,map:ze,matcap:Y,envMap:Ie,envMapMode:Ie&&H.mapping,envMapCubeUVHeight:J,aoMap:ce,lightMap:xe,bumpMap:me,normalMap:Fe,displacementMap:y&&Be,emissiveMap:He,normalMapObjectSpace:Fe&&L.normalMapType===iW,normalMapTangentSpace:Fe&&L.normalMapType===$u,metalnessMap:Ge,roughnessMap:Q,anisotropy:W,anisotropyMap:dt,clearcoat:be,clearcoatMap:vt,clearcoatNormalMap:Ke,clearcoatRoughnessMap:Je,iridescence:Se,iridescenceMap:Ot,iridescenceThicknessMap:Qe,sheen:Oe,sheenColorMap:Cn,sheenRoughnessMap:Ut,specularMap:It,specularColorMap:Mt,specularIntensityMap:St,transmission:De,transmissionMap:tn,thicknessMap:zt,gradientMap:En,opaque:L.transparent===!1&&L.blending===Mf&&L.alphaToCoverage===!1,alphaMap:fe,alphaTest:it,alphaHash:Pe,combine:L.combine,mapUv:ze&&b(L.map.channel),aoMapUv:ce&&b(L.aoMap.channel),lightMapUv:xe&&b(L.lightMap.channel),bumpMapUv:me&&b(L.bumpMap.channel),normalMapUv:Fe&&b(L.normalMap.channel),displacementMapUv:Be&&b(L.displacementMap.channel),emissiveMapUv:He&&b(L.emissiveMap.channel),metalnessMapUv:Ge&&b(L.metalnessMap.channel),roughnessMapUv:Q&&b(L.roughnessMap.channel),anisotropyMapUv:dt&&b(L.anisotropyMap.channel),clearcoatMapUv:vt&&b(L.clearcoatMap.channel),clearcoatNormalMapUv:Ke&&b(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Je&&b(L.clearcoatRoughnessMap.channel),iridescenceMapUv:Ot&&b(L.iridescenceMap.channel),iridescenceThicknessMapUv:Qe&&b(L.iridescenceThicknessMap.channel),sheenColorMapUv:Cn&&b(L.sheenColorMap.channel),sheenRoughnessMapUv:Ut&&b(L.sheenRoughnessMap.channel),specularMapUv:It&&b(L.specularMap.channel),specularColorMapUv:Mt&&b(L.specularColorMap.channel),specularIntensityMapUv:St&&b(L.specularIntensityMap.channel),transmissionMapUv:tn&&b(L.transmissionMap.channel),thicknessMapUv:zt&&b(L.thicknessMap.channel),alphaMapUv:fe&&b(L.alphaMap.channel),vertexTangents:!!ee.attributes.tangent&&(Fe||W),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!ee.attributes.uv&&(ze||fe),fog:!!Z,useFog:L.fog===!0,fogExp2:!!Z&&Z.isFogExp2,flatShading:L.flatShading===!0,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:g,skinning:V.isSkinnedMesh===!0,morphTargets:ee.morphAttributes.position!==void 0,morphNormals:ee.morphAttributes.normal!==void 0,morphColors:ee.morphAttributes.color!==void 0,morphTargetsCount:ne,morphTextureStride:ve,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:L.dithering,shadowMapEnabled:t.shadowMap.enabled&&$.length>0,shadowMapType:t.shadowMap.type,toneMapping:lt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:ze&&L.map.isVideoTexture===!0&&Fn.getTransfer(L.map.colorSpace)===Qn,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===bo,flipSided:L.side===ys,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionDerivatives:nt&&L.extensions.derivatives===!0,extensionFragDepth:nt&&L.extensions.fragDepth===!0,extensionDrawBuffers:nt&&L.extensions.drawBuffers===!0,extensionShaderTextureLOD:nt&&L.extensions.shaderTextureLOD===!0,extensionClipCullDistance:nt&&L.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:nt&&L.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return nn.vertexUv1s=c.has(1),nn.vertexUv2s=c.has(2),nn.vertexUv3s=c.has(3),c.clear(),nn}function E(L){const I=[];if(L.shaderID?I.push(L.shaderID):(I.push(L.customVertexShaderID),I.push(L.customFragmentShaderID)),L.defines!==void 0)for(const $ in L.defines)I.push($),I.push(L.defines[$]);return L.isRawShaderMaterial===!1&&(M(I,L),P(I,L),I.push(t.outputColorSpace)),I.push(L.customProgramCacheKey),I.join()}function M(L,I){L.push(I.precision),L.push(I.outputColorSpace),L.push(I.envMapMode),L.push(I.envMapCubeUVHeight),L.push(I.mapUv),L.push(I.alphaMapUv),L.push(I.lightMapUv),L.push(I.aoMapUv),L.push(I.bumpMapUv),L.push(I.normalMapUv),L.push(I.displacementMapUv),L.push(I.emissiveMapUv),L.push(I.metalnessMapUv),L.push(I.roughnessMapUv),L.push(I.anisotropyMapUv),L.push(I.clearcoatMapUv),L.push(I.clearcoatNormalMapUv),L.push(I.clearcoatRoughnessMapUv),L.push(I.iridescenceMapUv),L.push(I.iridescenceThicknessMapUv),L.push(I.sheenColorMapUv),L.push(I.sheenRoughnessMapUv),L.push(I.specularMapUv),L.push(I.specularColorMapUv),L.push(I.specularIntensityMapUv),L.push(I.transmissionMapUv),L.push(I.thicknessMapUv),L.push(I.combine),L.push(I.fogExp2),L.push(I.sizeAttenuation),L.push(I.morphTargetsCount),L.push(I.morphAttributeCount),L.push(I.numDirLights),L.push(I.numPointLights),L.push(I.numSpotLights),L.push(I.numSpotLightMaps),L.push(I.numHemiLights),L.push(I.numRectAreaLights),L.push(I.numDirLightShadows),L.push(I.numPointLightShadows),L.push(I.numSpotLightShadows),L.push(I.numSpotLightShadowsWithMaps),L.push(I.numLightProbes),L.push(I.shadowMapType),L.push(I.toneMapping),L.push(I.numClippingPlanes),L.push(I.numClipIntersection),L.push(I.depthPacking)}function P(L,I){o.disableAll(),I.isWebGL2&&o.enable(0),I.supportsVertexTextures&&o.enable(1),I.instancing&&o.enable(2),I.instancingColor&&o.enable(3),I.instancingMorph&&o.enable(4),I.matcap&&o.enable(5),I.envMap&&o.enable(6),I.normalMapObjectSpace&&o.enable(7),I.normalMapTangentSpace&&o.enable(8),I.clearcoat&&o.enable(9),I.iridescence&&o.enable(10),I.alphaTest&&o.enable(11),I.vertexColors&&o.enable(12),I.vertexAlphas&&o.enable(13),I.vertexUv1s&&o.enable(14),I.vertexUv2s&&o.enable(15),I.vertexUv3s&&o.enable(16),I.vertexTangents&&o.enable(17),I.anisotropy&&o.enable(18),I.alphaHash&&o.enable(19),I.batching&&o.enable(20),L.push(o.mask),o.disableAll(),I.fog&&o.enable(0),I.useFog&&o.enable(1),I.flatShading&&o.enable(2),I.logarithmicDepthBuffer&&o.enable(3),I.skinning&&o.enable(4),I.morphTargets&&o.enable(5),I.morphNormals&&o.enable(6),I.morphColors&&o.enable(7),I.premultipliedAlpha&&o.enable(8),I.shadowMapEnabled&&o.enable(9),I.useLegacyLights&&o.enable(10),I.doubleSided&&o.enable(11),I.flipSided&&o.enable(12),I.useDepthPacking&&o.enable(13),I.dithering&&o.enable(14),I.transmission&&o.enable(15),I.sheen&&o.enable(16),I.opaque&&o.enable(17),I.pointsUvs&&o.enable(18),I.decodeVideoTexture&&o.enable(19),I.alphaToCoverage&&o.enable(20),L.push(o.mask)}function C(L){const I=S[L.type];let $;if(I){const X=yo[I];$=yW.clone(X.uniforms)}else $=L.uniforms;return $}function N(L,I){let $;for(let X=0,V=d.length;X<V;X++){const Z=d[X];if(Z.cacheKey===I){$=Z,++$.usedTimes;break}}return $===void 0&&($=new mSe(t,I,L,s),d.push($)),$}function O(L){if(--L.usedTimes===0){const I=d.indexOf(L);d[I]=d[d.length-1],d.pop(),L.destroy()}}function D(L){l.remove(L)}function U(){l.dispose()}return{getParameters:_,getProgramCacheKey:E,getUniforms:C,acquireProgram:N,releaseProgram:O,releaseShaderCache:D,programs:d,dispose:U}}function bSe(){let t=new WeakMap;function e(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function n(s){t.delete(s)}function r(s,a,o){t.get(s)[a]=o}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function wSe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function sz(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function az(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function a(f,g,y,x,S,b){let _=t[e];return _===void 0?(_={id:f.id,object:f,geometry:g,material:y,groupOrder:x,renderOrder:f.renderOrder,z:S,group:b},t[e]=_):(_.id=f.id,_.object=f,_.geometry=g,_.material=y,_.groupOrder=x,_.renderOrder=f.renderOrder,_.z=S,_.group=b),e++,_}function o(f,g,y,x,S,b){const _=a(f,g,y,x,S,b);y.transmission>0?r.push(_):y.transparent===!0?i.push(_):n.push(_)}function l(f,g,y,x,S,b){const _=a(f,g,y,x,S,b);y.transmission>0?r.unshift(_):y.transparent===!0?i.unshift(_):n.unshift(_)}function c(f,g){n.length>1&&n.sort(f||wSe),r.length>1&&r.sort(g||sz),i.length>1&&i.sort(g||sz)}function d(){for(let f=e,g=t.length;f<g;f++){const y=t[f];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:o,unshift:l,finish:d,sort:c}}function _Se(){let t=new WeakMap;function e(r,i){const s=t.get(r);let a;return s===void 0?(a=new az,t.set(r,[a])):i>=s.length?(a=new az,s.push(a)):a=s[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function SSe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ie,color:new bt};break;case"SpotLight":n={position:new ie,direction:new ie,color:new bt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ie,color:new bt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ie,skyColor:new bt,groundColor:new bt};break;case"RectAreaLight":n={color:new bt,position:new ie,halfWidth:new ie,halfHeight:new ie};break}return t[e.id]=n,n}}}function MSe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let ESe=0;function ASe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function TSe(t,e){const n=new SSe,r=MSe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)i.probe.push(new ie);const s=new ie,a=new qt,o=new qt;function l(d,f){let g=0,y=0,x=0;for(let $=0;$<9;$++)i.probe[$].set(0,0,0);let S=0,b=0,_=0,E=0,M=0,P=0,C=0,N=0,O=0,D=0,U=0;d.sort(ASe);const L=f===!0?Math.PI:1;for(let $=0,X=d.length;$<X;$++){const V=d[$],Z=V.color,ee=V.intensity,re=V.distance,H=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)g+=Z.r*ee*L,y+=Z.g*ee*L,x+=Z.b*ee*L;else if(V.isLightProbe){for(let J=0;J<9;J++)i.probe[J].addScaledVector(V.sh.coefficients[J],ee);U++}else if(V.isDirectionalLight){const J=n.get(V);if(J.color.copy(V.color).multiplyScalar(V.intensity*L),V.castShadow){const K=V.shadow,q=r.get(V);q.shadowBias=K.bias,q.shadowNormalBias=K.normalBias,q.shadowRadius=K.radius,q.shadowMapSize=K.mapSize,i.directionalShadow[S]=q,i.directionalShadowMap[S]=H,i.directionalShadowMatrix[S]=V.shadow.matrix,P++}i.directional[S]=J,S++}else if(V.isSpotLight){const J=n.get(V);J.position.setFromMatrixPosition(V.matrixWorld),J.color.copy(Z).multiplyScalar(ee*L),J.distance=re,J.coneCos=Math.cos(V.angle),J.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),J.decay=V.decay,i.spot[_]=J;const K=V.shadow;if(V.map&&(i.spotLightMap[O]=V.map,O++,K.updateMatrices(V),V.castShadow&&D++),i.spotLightMatrix[_]=K.matrix,V.castShadow){const q=r.get(V);q.shadowBias=K.bias,q.shadowNormalBias=K.normalBias,q.shadowRadius=K.radius,q.shadowMapSize=K.mapSize,i.spotShadow[_]=q,i.spotShadowMap[_]=H,N++}_++}else if(V.isRectAreaLight){const J=n.get(V);J.color.copy(Z).multiplyScalar(ee),J.halfWidth.set(V.width*.5,0,0),J.halfHeight.set(0,V.height*.5,0),i.rectArea[E]=J,E++}else if(V.isPointLight){const J=n.get(V);if(J.color.copy(V.color).multiplyScalar(V.intensity*L),J.distance=V.distance,J.decay=V.decay,V.castShadow){const K=V.shadow,q=r.get(V);q.shadowBias=K.bias,q.shadowNormalBias=K.normalBias,q.shadowRadius=K.radius,q.shadowMapSize=K.mapSize,q.shadowCameraNear=K.camera.near,q.shadowCameraFar=K.camera.far,i.pointShadow[b]=q,i.pointShadowMap[b]=H,i.pointShadowMatrix[b]=V.shadow.matrix,C++}i.point[b]=J,b++}else if(V.isHemisphereLight){const J=n.get(V);J.skyColor.copy(V.color).multiplyScalar(ee*L),J.groundColor.copy(V.groundColor).multiplyScalar(ee*L),i.hemi[M]=J,M++}}E>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_FLOAT_1,i.rectAreaLTC2=ct.LTC_FLOAT_2):(i.rectAreaLTC1=ct.LTC_HALF_1,i.rectAreaLTC2=ct.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_FLOAT_1,i.rectAreaLTC2=ct.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_HALF_1,i.rectAreaLTC2=ct.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=g,i.ambient[1]=y,i.ambient[2]=x;const I=i.hash;(I.directionalLength!==S||I.pointLength!==b||I.spotLength!==_||I.rectAreaLength!==E||I.hemiLength!==M||I.numDirectionalShadows!==P||I.numPointShadows!==C||I.numSpotShadows!==N||I.numSpotMaps!==O||I.numLightProbes!==U)&&(i.directional.length=S,i.spot.length=_,i.rectArea.length=E,i.point.length=b,i.hemi.length=M,i.directionalShadow.length=P,i.directionalShadowMap.length=P,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=N,i.spotShadowMap.length=N,i.directionalShadowMatrix.length=P,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=N+O-D,i.spotLightMap.length=O,i.numSpotLightShadowsWithMaps=D,i.numLightProbes=U,I.directionalLength=S,I.pointLength=b,I.spotLength=_,I.rectAreaLength=E,I.hemiLength=M,I.numDirectionalShadows=P,I.numPointShadows=C,I.numSpotShadows=N,I.numSpotMaps=O,I.numLightProbes=U,i.version=ESe++)}function c(d,f){let g=0,y=0,x=0,S=0,b=0;const _=f.matrixWorldInverse;for(let E=0,M=d.length;E<M;E++){const P=d[E];if(P.isDirectionalLight){const C=i.directional[g];C.direction.setFromMatrixPosition(P.matrixWorld),s.setFromMatrixPosition(P.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(_),g++}else if(P.isSpotLight){const C=i.spot[x];C.position.setFromMatrixPosition(P.matrixWorld),C.position.applyMatrix4(_),C.direction.setFromMatrixPosition(P.matrixWorld),s.setFromMatrixPosition(P.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(_),x++}else if(P.isRectAreaLight){const C=i.rectArea[S];C.position.setFromMatrixPosition(P.matrixWorld),C.position.applyMatrix4(_),o.identity(),a.copy(P.matrixWorld),a.premultiply(_),o.extractRotation(a),C.halfWidth.set(P.width*.5,0,0),C.halfHeight.set(0,P.height*.5,0),C.halfWidth.applyMatrix4(o),C.halfHeight.applyMatrix4(o),S++}else if(P.isPointLight){const C=i.point[y];C.position.setFromMatrixPosition(P.matrixWorld),C.position.applyMatrix4(_),y++}else if(P.isHemisphereLight){const C=i.hemi[b];C.direction.setFromMatrixPosition(P.matrixWorld),C.direction.transformDirection(_),b++}}}return{setup:l,setupView:c,state:i}}function oz(t,e){const n=new TSe(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function a(f){r.push(f)}function o(f){i.push(f)}function l(f){n.setup(r,f)}function c(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:o}}function PSe(t,e){let n=new WeakMap;function r(s,a=0){const o=n.get(s);let l;return o===void 0?(l=new oz(t,e),n.set(s,[l])):a>=o.length?(l=new oz(t,e),o.push(l)):l=o[a],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class pO extends Ji{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=nW,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class mO extends Ji{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const CSe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,NSe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function RSe(t,e,n){let r=new Sy;const i=new $e,s=new $e,a=new Bn,o=new pO({depthPacking:rW}),l=new mO,c={},d=n.maxTextureSize,f={[fc]:ys,[ys]:fc,[bo]:bo},g=new Mo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $e},radius:{value:4}},vertexShader:CSe,fragmentShader:NSe}),y=g.clone();y.defines.HORIZONTAL_PASS=1;const x=new hn;x.setAttribute("position",new Gn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new qr(x,g),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=T_;let _=this.type;this.render=function(N,O,D){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||N.length===0)return;const U=t.getRenderTarget(),L=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),$=t.state;$.setBlending(sc),$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);const X=_!==po&&this.type===po,V=_===po&&this.type!==po;for(let Z=0,ee=N.length;Z<ee;Z++){const re=N[Z],H=re.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",re,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;i.copy(H.mapSize);const J=H.getFrameExtents();if(i.multiply(J),s.copy(H.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/J.x),i.x=s.x*J.x,H.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/J.y),i.y=s.y*J.y,H.mapSize.y=s.y)),H.map===null||X===!0||V===!0){const q=this.type!==po?{minFilter:Lr,magFilter:Lr}:{};H.map!==null&&H.map.dispose(),H.map=new So(i.x,i.y,q),H.map.texture.name=re.name+".shadowMap",H.camera.updateProjectionMatrix()}t.setRenderTarget(H.map),t.clear();const K=H.getViewportCount();for(let q=0;q<K;q++){const ne=H.getViewport(q);a.set(s.x*ne.x,s.y*ne.y,s.x*ne.z,s.y*ne.w),$.viewport(a),H.updateMatrices(re,q),r=H.getFrustum(),P(O,D,H.camera,re,this.type)}H.isPointLightShadow!==!0&&this.type===po&&E(H,D),H.needsUpdate=!1}_=this.type,b.needsUpdate=!1,t.setRenderTarget(U,L,I)};function E(N,O){const D=e.update(S);g.defines.VSM_SAMPLES!==N.blurSamples&&(g.defines.VSM_SAMPLES=N.blurSamples,y.defines.VSM_SAMPLES=N.blurSamples,g.needsUpdate=!0,y.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new So(i.x,i.y)),g.uniforms.shadow_pass.value=N.map.texture,g.uniforms.resolution.value=N.mapSize,g.uniforms.radius.value=N.radius,t.setRenderTarget(N.mapPass),t.clear(),t.renderBufferDirect(O,null,D,g,S,null),y.uniforms.shadow_pass.value=N.mapPass.texture,y.uniforms.resolution.value=N.mapSize,y.uniforms.radius.value=N.radius,t.setRenderTarget(N.map),t.clear(),t.renderBufferDirect(O,null,D,y,S,null)}function M(N,O,D,U){let L=null;const I=D.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(I!==void 0)L=I;else if(L=D.isPointLight===!0?l:o,t.localClippingEnabled&&O.clipShadows===!0&&Array.isArray(O.clippingPlanes)&&O.clippingPlanes.length!==0||O.displacementMap&&O.displacementScale!==0||O.alphaMap&&O.alphaTest>0||O.map&&O.alphaTest>0){const $=L.uuid,X=O.uuid;let V=c[$];V===void 0&&(V={},c[$]=V);let Z=V[X];Z===void 0&&(Z=L.clone(),V[X]=Z,O.addEventListener("dispose",C)),L=Z}if(L.visible=O.visible,L.wireframe=O.wireframe,U===po?L.side=O.shadowSide!==null?O.shadowSide:O.side:L.side=O.shadowSide!==null?O.shadowSide:f[O.side],L.alphaMap=O.alphaMap,L.alphaTest=O.alphaTest,L.map=O.map,L.clipShadows=O.clipShadows,L.clippingPlanes=O.clippingPlanes,L.clipIntersection=O.clipIntersection,L.displacementMap=O.displacementMap,L.displacementScale=O.displacementScale,L.displacementBias=O.displacementBias,L.wireframeLinewidth=O.wireframeLinewidth,L.linewidth=O.linewidth,D.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const $=t.properties.get(L);$.light=D}return L}function P(N,O,D,U,L){if(N.visible===!1)return;if(N.layers.test(O.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&L===po)&&(!N.frustumCulled||r.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,N.matrixWorld);const X=e.update(N),V=N.material;if(Array.isArray(V)){const Z=X.groups;for(let ee=0,re=Z.length;ee<re;ee++){const H=Z[ee],J=V[H.materialIndex];if(J&&J.visible){const K=M(N,J,U,L);N.onBeforeShadow(t,N,O,D,X,K,H),t.renderBufferDirect(D,null,X,K,N,H),N.onAfterShadow(t,N,O,D,X,K,H)}}}else if(V.visible){const Z=M(N,V,U,L);N.onBeforeShadow(t,N,O,D,X,Z,null),t.renderBufferDirect(D,null,X,Z,N,null),N.onAfterShadow(t,N,O,D,X,Z,null)}}const $=N.children;for(let X=0,V=$.length;X<V;X++)P($[X],O,D,U,L)}function C(N){N.target.removeEventListener("dispose",C);for(const D in c){const U=c[D],L=N.target.uuid;L in U&&(U[L].dispose(),delete U[L])}}}function kSe(t,e,n){const r=n.isWebGL2;function i(){let fe=!1;const it=new Bn;let Pe=null;const nt=new Bn(0,0,0,0);return{setMask:function(lt){Pe!==lt&&!fe&&(t.colorMask(lt,lt,lt,lt),Pe=lt)},setLocked:function(lt){fe=lt},setClear:function(lt,nn,vn,Ye,st){st===!0&&(lt*=Ye,nn*=Ye,vn*=Ye),it.set(lt,nn,vn,Ye),nt.equals(it)===!1&&(t.clearColor(lt,nn,vn,Ye),nt.copy(it))},reset:function(){fe=!1,Pe=null,nt.set(-1,0,0,0)}}}function s(){let fe=!1,it=null,Pe=null,nt=null;return{setTest:function(lt){lt?ye(t.DEPTH_TEST):We(t.DEPTH_TEST)},setMask:function(lt){it!==lt&&!fe&&(t.depthMask(lt),it=lt)},setFunc:function(lt){if(Pe!==lt){switch(lt){case N9:t.depthFunc(t.NEVER);break;case R9:t.depthFunc(t.ALWAYS);break;case k9:t.depthFunc(t.LESS);break;case Dv:t.depthFunc(t.LEQUAL);break;case O9:t.depthFunc(t.EQUAL);break;case I9:t.depthFunc(t.GEQUAL);break;case L9:t.depthFunc(t.GREATER);break;case D9:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Pe=lt}},setLocked:function(lt){fe=lt},setClear:function(lt){nt!==lt&&(t.clearDepth(lt),nt=lt)},reset:function(){fe=!1,it=null,Pe=null,nt=null}}}function a(){let fe=!1,it=null,Pe=null,nt=null,lt=null,nn=null,vn=null,Ye=null,st=null;return{setTest:function(at){fe||(at?ye(t.STENCIL_TEST):We(t.STENCIL_TEST))},setMask:function(at){it!==at&&!fe&&(t.stencilMask(at),it=at)},setFunc:function(at,Vt,un){(Pe!==at||nt!==Vt||lt!==un)&&(t.stencilFunc(at,Vt,un),Pe=at,nt=Vt,lt=un)},setOp:function(at,Vt,un){(nn!==at||vn!==Vt||Ye!==un)&&(t.stencilOp(at,Vt,un),nn=at,vn=Vt,Ye=un)},setLocked:function(at){fe=at},setClear:function(at){st!==at&&(t.clearStencil(at),st=at)},reset:function(){fe=!1,it=null,Pe=null,nt=null,lt=null,nn=null,vn=null,Ye=null,st=null}}}const o=new i,l=new s,c=new a,d=new WeakMap,f=new WeakMap;let g={},y={},x=new WeakMap,S=[],b=null,_=!1,E=null,M=null,P=null,C=null,N=null,O=null,D=null,U=new bt(0,0,0),L=0,I=!1,$=null,X=null,V=null,Z=null,ee=null;const re=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,J=0;const K=t.getParameter(t.VERSION);K.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(K)[1]),H=J>=1):K.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(K)[1]),H=J>=2);let q=null,ne={};const ve=t.getParameter(t.SCISSOR_BOX),se=t.getParameter(t.VIEWPORT),de=new Bn().fromArray(ve),Ee=new Bn().fromArray(se);function Ve(fe,it,Pe,nt){const lt=new Uint8Array(4),nn=t.createTexture();t.bindTexture(fe,nn),t.texParameteri(fe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(fe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let vn=0;vn<Pe;vn++)r&&(fe===t.TEXTURE_3D||fe===t.TEXTURE_2D_ARRAY)?t.texImage3D(it,0,t.RGBA,1,1,nt,0,t.RGBA,t.UNSIGNED_BYTE,lt):t.texImage2D(it+vn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,lt);return nn}const Ue={};Ue[t.TEXTURE_2D]=Ve(t.TEXTURE_2D,t.TEXTURE_2D,1),Ue[t.TEXTURE_CUBE_MAP]=Ve(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Ue[t.TEXTURE_2D_ARRAY]=Ve(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Ue[t.TEXTURE_3D]=Ve(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ye(t.DEPTH_TEST),l.setFunc(Dv),Be(!1),He(sN),ye(t.CULL_FACE),me(sc);function ye(fe){g[fe]!==!0&&(t.enable(fe),g[fe]=!0)}function We(fe){g[fe]!==!1&&(t.disable(fe),g[fe]=!1)}function ze(fe,it){return y[fe]!==it?(t.bindFramebuffer(fe,it),y[fe]=it,r&&(fe===t.DRAW_FRAMEBUFFER&&(y[t.FRAMEBUFFER]=it),fe===t.FRAMEBUFFER&&(y[t.DRAW_FRAMEBUFFER]=it)),!0):!1}function Y(fe,it){let Pe=S,nt=!1;if(fe){Pe=x.get(it),Pe===void 0&&(Pe=[],x.set(it,Pe));const lt=fe.textures;if(Pe.length!==lt.length||Pe[0]!==t.COLOR_ATTACHMENT0){for(let nn=0,vn=lt.length;nn<vn;nn++)Pe[nn]=t.COLOR_ATTACHMENT0+nn;Pe.length=lt.length,nt=!0}}else Pe[0]!==t.BACK&&(Pe[0]=t.BACK,nt=!0);if(nt)if(n.isWebGL2)t.drawBuffers(Pe);else if(e.has("WEBGL_draw_buffers")===!0)e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Pe);else throw new Error("THREE.WebGLState: Usage of gl.drawBuffers() require WebGL2 or WEBGL_draw_buffers extension")}function Ie(fe){return b!==fe?(t.useProgram(fe),b=fe,!0):!1}const ce={[yu]:t.FUNC_ADD,[m9]:t.FUNC_SUBTRACT,[g9]:t.FUNC_REVERSE_SUBTRACT};if(r)ce[cN]=t.MIN,ce[uN]=t.MAX;else{const fe=e.get("EXT_blend_minmax");fe!==null&&(ce[cN]=fe.MIN_EXT,ce[uN]=fe.MAX_EXT)}const xe={[v9]:t.ZERO,[y9]:t.ONE,[x9]:t.SRC_COLOR,[Mw]:t.SRC_ALPHA,[E9]:t.SRC_ALPHA_SATURATE,[S9]:t.DST_COLOR,[w9]:t.DST_ALPHA,[b9]:t.ONE_MINUS_SRC_COLOR,[Ew]:t.ONE_MINUS_SRC_ALPHA,[M9]:t.ONE_MINUS_DST_COLOR,[_9]:t.ONE_MINUS_DST_ALPHA,[A9]:t.CONSTANT_COLOR,[T9]:t.ONE_MINUS_CONSTANT_COLOR,[P9]:t.CONSTANT_ALPHA,[C9]:t.ONE_MINUS_CONSTANT_ALPHA};function me(fe,it,Pe,nt,lt,nn,vn,Ye,st,at){if(fe===sc){_===!0&&(We(t.BLEND),_=!1);return}if(_===!1&&(ye(t.BLEND),_=!0),fe!==p9){if(fe!==E||at!==I){if((M!==yu||N!==yu)&&(t.blendEquation(t.FUNC_ADD),M=yu,N=yu),at)switch(fe){case Mf:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case aN:t.blendFunc(t.ONE,t.ONE);break;case oN:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case lN:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}else switch(fe){case Mf:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case aN:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case oN:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case lN:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}P=null,C=null,O=null,D=null,U.set(0,0,0),L=0,E=fe,I=at}return}lt=lt||it,nn=nn||Pe,vn=vn||nt,(it!==M||lt!==N)&&(t.blendEquationSeparate(ce[it],ce[lt]),M=it,N=lt),(Pe!==P||nt!==C||nn!==O||vn!==D)&&(t.blendFuncSeparate(xe[Pe],xe[nt],xe[nn],xe[vn]),P=Pe,C=nt,O=nn,D=vn),(Ye.equals(U)===!1||st!==L)&&(t.blendColor(Ye.r,Ye.g,Ye.b,st),U.copy(Ye),L=st),E=fe,I=!1}function Fe(fe,it){fe.side===bo?We(t.CULL_FACE):ye(t.CULL_FACE);let Pe=fe.side===ys;it&&(Pe=!Pe),Be(Pe),fe.blending===Mf&&fe.transparent===!1?me(sc):me(fe.blending,fe.blendEquation,fe.blendSrc,fe.blendDst,fe.blendEquationAlpha,fe.blendSrcAlpha,fe.blendDstAlpha,fe.blendColor,fe.blendAlpha,fe.premultipliedAlpha),l.setFunc(fe.depthFunc),l.setTest(fe.depthTest),l.setMask(fe.depthWrite),o.setMask(fe.colorWrite);const nt=fe.stencilWrite;c.setTest(nt),nt&&(c.setMask(fe.stencilWriteMask),c.setFunc(fe.stencilFunc,fe.stencilRef,fe.stencilFuncMask),c.setOp(fe.stencilFail,fe.stencilZFail,fe.stencilZPass)),Q(fe.polygonOffset,fe.polygonOffsetFactor,fe.polygonOffsetUnits),fe.alphaToCoverage===!0?ye(t.SAMPLE_ALPHA_TO_COVERAGE):We(t.SAMPLE_ALPHA_TO_COVERAGE)}function Be(fe){$!==fe&&(fe?t.frontFace(t.CW):t.frontFace(t.CCW),$=fe)}function He(fe){fe!==d9?(ye(t.CULL_FACE),fe!==X&&(fe===sN?t.cullFace(t.BACK):fe===f9?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):We(t.CULL_FACE),X=fe}function Ge(fe){fe!==V&&(H&&t.lineWidth(fe),V=fe)}function Q(fe,it,Pe){fe?(ye(t.POLYGON_OFFSET_FILL),(Z!==it||ee!==Pe)&&(t.polygonOffset(it,Pe),Z=it,ee=Pe)):We(t.POLYGON_OFFSET_FILL)}function W(fe){fe?ye(t.SCISSOR_TEST):We(t.SCISSOR_TEST)}function be(fe){fe===void 0&&(fe=t.TEXTURE0+re-1),q!==fe&&(t.activeTexture(fe),q=fe)}function Se(fe,it,Pe){Pe===void 0&&(q===null?Pe=t.TEXTURE0+re-1:Pe=q);let nt=ne[Pe];nt===void 0&&(nt={type:void 0,texture:void 0},ne[Pe]=nt),(nt.type!==fe||nt.texture!==it)&&(q!==Pe&&(t.activeTexture(Pe),q=Pe),t.bindTexture(fe,it||Ue[fe]),nt.type=fe,nt.texture=it)}function Oe(){const fe=ne[q];fe!==void 0&&fe.type!==void 0&&(t.bindTexture(fe.type,null),fe.type=void 0,fe.texture=void 0)}function De(){try{t.compressedTexImage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function dt(){try{t.compressedTexImage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function vt(){try{t.texSubImage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Ke(){try{t.texSubImage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Je(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Ot(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Qe(){try{t.texStorage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Cn(){try{t.texStorage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Ut(){try{t.texImage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function It(){try{t.texImage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Mt(fe){de.equals(fe)===!1&&(t.scissor(fe.x,fe.y,fe.z,fe.w),de.copy(fe))}function St(fe){Ee.equals(fe)===!1&&(t.viewport(fe.x,fe.y,fe.z,fe.w),Ee.copy(fe))}function tn(fe,it){let Pe=f.get(it);Pe===void 0&&(Pe=new WeakMap,f.set(it,Pe));let nt=Pe.get(fe);nt===void 0&&(nt=t.getUniformBlockIndex(it,fe.name),Pe.set(fe,nt))}function zt(fe,it){const nt=f.get(it).get(fe);d.get(it)!==nt&&(t.uniformBlockBinding(it,nt,fe.__bindingPointIndex),d.set(it,nt))}function En(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),g={},q=null,ne={},y={},x=new WeakMap,S=[],b=null,_=!1,E=null,M=null,P=null,C=null,N=null,O=null,D=null,U=new bt(0,0,0),L=0,I=!1,$=null,X=null,V=null,Z=null,ee=null,de.set(0,0,t.canvas.width,t.canvas.height),Ee.set(0,0,t.canvas.width,t.canvas.height),o.reset(),l.reset(),c.reset()}return{buffers:{color:o,depth:l,stencil:c},enable:ye,disable:We,bindFramebuffer:ze,drawBuffers:Y,useProgram:Ie,setBlending:me,setMaterial:Fe,setFlipSided:Be,setCullFace:He,setLineWidth:Ge,setPolygonOffset:Q,setScissorTest:W,activeTexture:be,bindTexture:Se,unbindTexture:Oe,compressedTexImage2D:De,compressedTexImage3D:dt,texImage2D:Ut,texImage3D:It,updateUBOMapping:tn,uniformBlockBinding:zt,texStorage2D:Qe,texStorage3D:Cn,texSubImage2D:vt,texSubImage3D:Ke,compressedTexSubImage2D:Je,compressedTexSubImage3D:Ot,scissor:Mt,viewport:St,reset:En}}function OSe(t,e,n,r,i,s,a){const o=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new $e,f=new WeakMap;let g;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(Q,W){return x?new OffscreenCanvas(Q,W):Yv("canvas")}function b(Q,W,be,Se){let Oe=1;const De=Ge(Q);if((De.width>Se||De.height>Se)&&(Oe=Se/Math.max(De.width,De.height)),Oe<1||W===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap||typeof VideoFrame<"u"&&Q instanceof VideoFrame){const dt=W?Pw:Math.floor,vt=dt(Oe*De.width),Ke=dt(Oe*De.height);g===void 0&&(g=S(vt,Ke));const Je=be?S(vt,Ke):g;return Je.width=vt,Je.height=Ke,Je.getContext("2d").drawImage(Q,0,0,vt,Ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+De.width+"x"+De.height+") to ("+vt+"x"+Ke+")."),Je}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+De.width+"x"+De.height+")."),Q;return Q}function _(Q){const W=Ge(Q);return BN(W.width)&&BN(W.height)}function E(Q){return o?!1:Q.wrapS!==Yi||Q.wrapT!==Yi||Q.minFilter!==Lr&&Q.minFilter!==xr}function M(Q,W){return Q.generateMipmaps&&W&&Q.minFilter!==Lr&&Q.minFilter!==xr}function P(Q){t.generateMipmap(Q)}function C(Q,W,be,Se,Oe=!1){if(o===!1)return W;if(Q!==null){if(t[Q]!==void 0)return t[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let De=W;if(W===t.RED&&(be===t.FLOAT&&(De=t.R32F),be===t.HALF_FLOAT&&(De=t.R16F),be===t.UNSIGNED_BYTE&&(De=t.R8)),W===t.RED_INTEGER&&(be===t.UNSIGNED_BYTE&&(De=t.R8UI),be===t.UNSIGNED_SHORT&&(De=t.R16UI),be===t.UNSIGNED_INT&&(De=t.R32UI),be===t.BYTE&&(De=t.R8I),be===t.SHORT&&(De=t.R16I),be===t.INT&&(De=t.R32I)),W===t.RG&&(be===t.FLOAT&&(De=t.RG32F),be===t.HALF_FLOAT&&(De=t.RG16F),be===t.UNSIGNED_BYTE&&(De=t.RG8)),W===t.RG_INTEGER&&(be===t.UNSIGNED_BYTE&&(De=t.RG8UI),be===t.UNSIGNED_SHORT&&(De=t.RG16UI),be===t.UNSIGNED_INT&&(De=t.RG32UI),be===t.BYTE&&(De=t.RG8I),be===t.SHORT&&(De=t.RG16I),be===t.INT&&(De=t.RG32I)),W===t.RGBA){const dt=Oe?$v:Fn.getTransfer(Se);be===t.FLOAT&&(De=t.RGBA32F),be===t.HALF_FLOAT&&(De=t.RGBA16F),be===t.UNSIGNED_BYTE&&(De=dt===Qn?t.SRGB8_ALPHA8:t.RGBA8),be===t.UNSIGNED_SHORT_4_4_4_4&&(De=t.RGBA4),be===t.UNSIGNED_SHORT_5_5_5_1&&(De=t.RGB5_A1)}return(De===t.R16F||De===t.R32F||De===t.RG16F||De===t.RG32F||De===t.RGBA16F||De===t.RGBA32F)&&e.get("EXT_color_buffer_float"),De}function N(Q,W,be){return M(Q,be)===!0||Q.isFramebufferTexture&&Q.minFilter!==Lr&&Q.minFilter!==xr?Math.log2(Math.max(W.width,W.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?W.mipmaps.length:1}function O(Q){return Q===Lr||Q===Aw||Q===af?t.NEAREST:t.LINEAR}function D(Q){const W=Q.target;W.removeEventListener("dispose",D),L(W),W.isVideoTexture&&f.delete(W)}function U(Q){const W=Q.target;W.removeEventListener("dispose",U),$(W)}function L(Q){const W=r.get(Q);if(W.__webglInit===void 0)return;const be=Q.source,Se=y.get(be);if(Se){const Oe=Se[W.__cacheKey];Oe.usedTimes--,Oe.usedTimes===0&&I(Q),Object.keys(Se).length===0&&y.delete(be)}r.remove(Q)}function I(Q){const W=r.get(Q);t.deleteTexture(W.__webglTexture);const be=Q.source,Se=y.get(be);delete Se[W.__cacheKey],a.memory.textures--}function $(Q){const W=r.get(Q);if(Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++){if(Array.isArray(W.__webglFramebuffer[Se]))for(let Oe=0;Oe<W.__webglFramebuffer[Se].length;Oe++)t.deleteFramebuffer(W.__webglFramebuffer[Se][Oe]);else t.deleteFramebuffer(W.__webglFramebuffer[Se]);W.__webglDepthbuffer&&t.deleteRenderbuffer(W.__webglDepthbuffer[Se])}else{if(Array.isArray(W.__webglFramebuffer))for(let Se=0;Se<W.__webglFramebuffer.length;Se++)t.deleteFramebuffer(W.__webglFramebuffer[Se]);else t.deleteFramebuffer(W.__webglFramebuffer);if(W.__webglDepthbuffer&&t.deleteRenderbuffer(W.__webglDepthbuffer),W.__webglMultisampledFramebuffer&&t.deleteFramebuffer(W.__webglMultisampledFramebuffer),W.__webglColorRenderbuffer)for(let Se=0;Se<W.__webglColorRenderbuffer.length;Se++)W.__webglColorRenderbuffer[Se]&&t.deleteRenderbuffer(W.__webglColorRenderbuffer[Se]);W.__webglDepthRenderbuffer&&t.deleteRenderbuffer(W.__webglDepthRenderbuffer)}const be=Q.textures;for(let Se=0,Oe=be.length;Se<Oe;Se++){const De=r.get(be[Se]);De.__webglTexture&&(t.deleteTexture(De.__webglTexture),a.memory.textures--),r.remove(be[Se])}r.remove(Q)}let X=0;function V(){X=0}function Z(){const Q=X;return Q>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+i.maxTextures),X+=1,Q}function ee(Q){const W=[];return W.push(Q.wrapS),W.push(Q.wrapT),W.push(Q.wrapR||0),W.push(Q.magFilter),W.push(Q.minFilter),W.push(Q.anisotropy),W.push(Q.internalFormat),W.push(Q.format),W.push(Q.type),W.push(Q.generateMipmaps),W.push(Q.premultiplyAlpha),W.push(Q.flipY),W.push(Q.unpackAlignment),W.push(Q.colorSpace),W.join()}function re(Q,W){const be=r.get(Q);if(Q.isVideoTexture&&Be(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&be.__version!==Q.version){const Se=Q.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ee(be,Q,W);return}}n.bindTexture(t.TEXTURE_2D,be.__webglTexture,t.TEXTURE0+W)}function H(Q,W){const be=r.get(Q);if(Q.version>0&&be.__version!==Q.version){Ee(be,Q,W);return}n.bindTexture(t.TEXTURE_2D_ARRAY,be.__webglTexture,t.TEXTURE0+W)}function J(Q,W){const be=r.get(Q);if(Q.version>0&&be.__version!==Q.version){Ee(be,Q,W);return}n.bindTexture(t.TEXTURE_3D,be.__webglTexture,t.TEXTURE0+W)}function K(Q,W){const be=r.get(Q);if(Q.version>0&&be.__version!==Q.version){Ve(be,Q,W);return}n.bindTexture(t.TEXTURE_CUBE_MAP,be.__webglTexture,t.TEXTURE0+W)}const q={[Bv]:t.REPEAT,[Yi]:t.CLAMP_TO_EDGE,[Uv]:t.MIRRORED_REPEAT},ne={[Lr]:t.NEAREST,[Aw]:t.NEAREST_MIPMAP_NEAREST,[af]:t.NEAREST_MIPMAP_LINEAR,[xr]:t.LINEAR,[H0]:t.LINEAR_MIPMAP_NEAREST,[Wo]:t.LINEAR_MIPMAP_LINEAR},ve={[sW]:t.NEVER,[dW]:t.ALWAYS,[aW]:t.LESS,[aO]:t.LEQUAL,[oW]:t.EQUAL,[uW]:t.GEQUAL,[lW]:t.GREATER,[cW]:t.NOTEQUAL};function se(Q,W,be){if(W.type===sa&&e.has("OES_texture_float_linear")===!1&&(W.magFilter===xr||W.magFilter===H0||W.magFilter===af||W.magFilter===Wo||W.minFilter===xr||W.minFilter===H0||W.minFilter===af||W.minFilter===Wo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),be?(t.texParameteri(Q,t.TEXTURE_WRAP_S,q[W.wrapS]),t.texParameteri(Q,t.TEXTURE_WRAP_T,q[W.wrapT]),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,q[W.wrapR]),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,ne[W.magFilter]),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,ne[W.minFilter])):(t.texParameteri(Q,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(Q,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(W.wrapS!==Yi||W.wrapT!==Yi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,O(W.magFilter)),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,O(W.minFilter)),W.minFilter!==Lr&&W.minFilter!==xr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),W.compareFunction&&(t.texParameteri(Q,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Q,t.TEXTURE_COMPARE_FUNC,ve[W.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(W.magFilter===Lr||W.minFilter!==af&&W.minFilter!==Wo||W.type===sa&&e.has("OES_texture_float_linear")===!1||o===!1&&W.type===Sm&&e.has("OES_texture_half_float_linear")===!1)return;if(W.anisotropy>1||r.get(W).__currentAnisotropy){const Se=e.get("EXT_texture_filter_anisotropic");t.texParameterf(Q,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(W.anisotropy,i.getMaxAnisotropy())),r.get(W).__currentAnisotropy=W.anisotropy}}}function de(Q,W){let be=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,W.addEventListener("dispose",D));const Se=W.source;let Oe=y.get(Se);Oe===void 0&&(Oe={},y.set(Se,Oe));const De=ee(W);if(De!==Q.__cacheKey){Oe[De]===void 0&&(Oe[De]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,be=!0),Oe[De].usedTimes++;const dt=Oe[Q.__cacheKey];dt!==void 0&&(Oe[Q.__cacheKey].usedTimes--,dt.usedTimes===0&&I(W)),Q.__cacheKey=De,Q.__webglTexture=Oe[De].texture}return be}function Ee(Q,W,be){let Se=t.TEXTURE_2D;(W.isDataArrayTexture||W.isCompressedArrayTexture)&&(Se=t.TEXTURE_2D_ARRAY),W.isData3DTexture&&(Se=t.TEXTURE_3D);const Oe=de(Q,W),De=W.source;n.bindTexture(Se,Q.__webglTexture,t.TEXTURE0+be);const dt=r.get(De);if(De.version!==dt.__version||Oe===!0){n.activeTexture(t.TEXTURE0+be);const vt=Fn.getPrimaries(Fn.workingColorSpace),Ke=W.colorSpace===Xl?null:Fn.getPrimaries(W.colorSpace),Je=W.colorSpace===Xl||vt===Ke?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,W.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,W.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Je);const Ot=E(W)&&_(W.image)===!1;let Qe=b(W.image,Ot,!1,i.maxTextureSize);Qe=He(W,Qe);const Cn=_(Qe)||o,Ut=s.convert(W.format,W.colorSpace);let It=s.convert(W.type),Mt=C(W.internalFormat,Ut,It,W.colorSpace,W.isVideoTexture);se(Se,W,Cn);let St;const tn=W.mipmaps,zt=o&&W.isVideoTexture!==!0&&Mt!==iO,En=dt.__version===void 0||Oe===!0,fe=De.dataReady,it=N(W,Qe,Cn);if(W.isDepthTexture)Mt=t.DEPTH_COMPONENT,o?W.type===sa?Mt=t.DEPTH_COMPONENT32F:W.type===Ql?Mt=t.DEPTH_COMPONENT24:W.type===Tu?Mt=t.DEPTH24_STENCIL8:Mt=t.DEPTH_COMPONENT16:W.type===sa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),W.format===Pu&&Mt===t.DEPTH_COMPONENT&&W.type!==C_&&W.type!==Ql&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),W.type=Ql,It=s.convert(W.type)),W.format===Df&&Mt===t.DEPTH_COMPONENT&&(Mt=t.DEPTH_STENCIL,W.type!==Tu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),W.type=Tu,It=s.convert(W.type))),En&&(zt?n.texStorage2D(t.TEXTURE_2D,1,Mt,Qe.width,Qe.height):n.texImage2D(t.TEXTURE_2D,0,Mt,Qe.width,Qe.height,0,Ut,It,null));else if(W.isDataTexture)if(tn.length>0&&Cn){zt&&En&&n.texStorage2D(t.TEXTURE_2D,it,Mt,tn[0].width,tn[0].height);for(let Pe=0,nt=tn.length;Pe<nt;Pe++)St=tn[Pe],zt?fe&&n.texSubImage2D(t.TEXTURE_2D,Pe,0,0,St.width,St.height,Ut,It,St.data):n.texImage2D(t.TEXTURE_2D,Pe,Mt,St.width,St.height,0,Ut,It,St.data);W.generateMipmaps=!1}else zt?(En&&n.texStorage2D(t.TEXTURE_2D,it,Mt,Qe.width,Qe.height),fe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Qe.width,Qe.height,Ut,It,Qe.data)):n.texImage2D(t.TEXTURE_2D,0,Mt,Qe.width,Qe.height,0,Ut,It,Qe.data);else if(W.isCompressedTexture)if(W.isCompressedArrayTexture){zt&&En&&n.texStorage3D(t.TEXTURE_2D_ARRAY,it,Mt,tn[0].width,tn[0].height,Qe.depth);for(let Pe=0,nt=tn.length;Pe<nt;Pe++)St=tn[Pe],W.format!==hs?Ut!==null?zt?fe&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Pe,0,0,0,St.width,St.height,Qe.depth,Ut,St.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Pe,Mt,St.width,St.height,Qe.depth,0,St.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):zt?fe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Pe,0,0,0,St.width,St.height,Qe.depth,Ut,It,St.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Pe,Mt,St.width,St.height,Qe.depth,0,Ut,It,St.data)}else{zt&&En&&n.texStorage2D(t.TEXTURE_2D,it,Mt,tn[0].width,tn[0].height);for(let Pe=0,nt=tn.length;Pe<nt;Pe++)St=tn[Pe],W.format!==hs?Ut!==null?zt?fe&&n.compressedTexSubImage2D(t.TEXTURE_2D,Pe,0,0,St.width,St.height,Ut,St.data):n.compressedTexImage2D(t.TEXTURE_2D,Pe,Mt,St.width,St.height,0,St.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):zt?fe&&n.texSubImage2D(t.TEXTURE_2D,Pe,0,0,St.width,St.height,Ut,It,St.data):n.texImage2D(t.TEXTURE_2D,Pe,Mt,St.width,St.height,0,Ut,It,St.data)}else if(W.isDataArrayTexture)zt?(En&&n.texStorage3D(t.TEXTURE_2D_ARRAY,it,Mt,Qe.width,Qe.height,Qe.depth),fe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Qe.width,Qe.height,Qe.depth,Ut,It,Qe.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Mt,Qe.width,Qe.height,Qe.depth,0,Ut,It,Qe.data);else if(W.isData3DTexture)zt?(En&&n.texStorage3D(t.TEXTURE_3D,it,Mt,Qe.width,Qe.height,Qe.depth),fe&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Qe.width,Qe.height,Qe.depth,Ut,It,Qe.data)):n.texImage3D(t.TEXTURE_3D,0,Mt,Qe.width,Qe.height,Qe.depth,0,Ut,It,Qe.data);else if(W.isFramebufferTexture){if(En)if(zt)n.texStorage2D(t.TEXTURE_2D,it,Mt,Qe.width,Qe.height);else{let Pe=Qe.width,nt=Qe.height;for(let lt=0;lt<it;lt++)n.texImage2D(t.TEXTURE_2D,lt,Mt,Pe,nt,0,Ut,It,null),Pe>>=1,nt>>=1}}else if(tn.length>0&&Cn){if(zt&&En){const Pe=Ge(tn[0]);n.texStorage2D(t.TEXTURE_2D,it,Mt,Pe.width,Pe.height)}for(let Pe=0,nt=tn.length;Pe<nt;Pe++)St=tn[Pe],zt?fe&&n.texSubImage2D(t.TEXTURE_2D,Pe,0,0,Ut,It,St):n.texImage2D(t.TEXTURE_2D,Pe,Mt,Ut,It,St);W.generateMipmaps=!1}else if(zt){if(En){const Pe=Ge(Qe);n.texStorage2D(t.TEXTURE_2D,it,Mt,Pe.width,Pe.height)}fe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ut,It,Qe)}else n.texImage2D(t.TEXTURE_2D,0,Mt,Ut,It,Qe);M(W,Cn)&&P(Se),dt.__version=De.version,W.onUpdate&&W.onUpdate(W)}Q.__version=W.version}function Ve(Q,W,be){if(W.image.length!==6)return;const Se=de(Q,W),Oe=W.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Q.__webglTexture,t.TEXTURE0+be);const De=r.get(Oe);if(Oe.version!==De.__version||Se===!0){n.activeTexture(t.TEXTURE0+be);const dt=Fn.getPrimaries(Fn.workingColorSpace),vt=W.colorSpace===Xl?null:Fn.getPrimaries(W.colorSpace),Ke=W.colorSpace===Xl||dt===vt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,W.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,W.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ke);const Je=W.isCompressedTexture||W.image[0].isCompressedTexture,Ot=W.image[0]&&W.image[0].isDataTexture,Qe=[];for(let Pe=0;Pe<6;Pe++)!Je&&!Ot?Qe[Pe]=b(W.image[Pe],!1,!0,i.maxCubemapSize):Qe[Pe]=Ot?W.image[Pe].image:W.image[Pe],Qe[Pe]=He(W,Qe[Pe]);const Cn=Qe[0],Ut=_(Cn)||o,It=s.convert(W.format,W.colorSpace),Mt=s.convert(W.type),St=C(W.internalFormat,It,Mt,W.colorSpace),tn=o&&W.isVideoTexture!==!0,zt=De.__version===void 0||Se===!0,En=Oe.dataReady;let fe=N(W,Cn,Ut);se(t.TEXTURE_CUBE_MAP,W,Ut);let it;if(Je){tn&&zt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,fe,St,Cn.width,Cn.height);for(let Pe=0;Pe<6;Pe++){it=Qe[Pe].mipmaps;for(let nt=0;nt<it.length;nt++){const lt=it[nt];W.format!==hs?It!==null?tn?En&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,nt,0,0,lt.width,lt.height,It,lt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,nt,St,lt.width,lt.height,0,lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):tn?En&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,nt,0,0,lt.width,lt.height,It,Mt,lt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,nt,St,lt.width,lt.height,0,It,Mt,lt.data)}}}else{if(it=W.mipmaps,tn&&zt){it.length>0&&fe++;const Pe=Ge(Qe[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,fe,St,Pe.width,Pe.height)}for(let Pe=0;Pe<6;Pe++)if(Ot){tn?En&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,0,0,Qe[Pe].width,Qe[Pe].height,It,Mt,Qe[Pe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,St,Qe[Pe].width,Qe[Pe].height,0,It,Mt,Qe[Pe].data);for(let nt=0;nt<it.length;nt++){const nn=it[nt].image[Pe].image;tn?En&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,nt+1,0,0,nn.width,nn.height,It,Mt,nn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,nt+1,St,nn.width,nn.height,0,It,Mt,nn.data)}}else{tn?En&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,0,0,It,Mt,Qe[Pe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,St,It,Mt,Qe[Pe]);for(let nt=0;nt<it.length;nt++){const lt=it[nt];tn?En&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,nt+1,0,0,It,Mt,lt.image[Pe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,nt+1,St,It,Mt,lt.image[Pe])}}}M(W,Ut)&&P(t.TEXTURE_CUBE_MAP),De.__version=Oe.version,W.onUpdate&&W.onUpdate(W)}Q.__version=W.version}function Ue(Q,W,be,Se,Oe,De){const dt=s.convert(be.format,be.colorSpace),vt=s.convert(be.type),Ke=C(be.internalFormat,dt,vt,be.colorSpace);if(!r.get(W).__hasExternalTextures){const Ot=Math.max(1,W.width>>De),Qe=Math.max(1,W.height>>De);Oe===t.TEXTURE_3D||Oe===t.TEXTURE_2D_ARRAY?n.texImage3D(Oe,De,Ke,Ot,Qe,W.depth,0,dt,vt,null):n.texImage2D(Oe,De,Ke,Ot,Qe,0,dt,vt,null)}n.bindFramebuffer(t.FRAMEBUFFER,Q),Fe(W)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Se,Oe,r.get(be).__webglTexture,0,me(W)):(Oe===t.TEXTURE_2D||Oe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Oe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Se,Oe,r.get(be).__webglTexture,De),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ye(Q,W,be){if(t.bindRenderbuffer(t.RENDERBUFFER,Q),W.depthBuffer&&!W.stencilBuffer){let Se=o===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(be||Fe(W)){const Oe=W.depthTexture;Oe&&Oe.isDepthTexture&&(Oe.type===sa?Se=t.DEPTH_COMPONENT32F:Oe.type===Ql&&(Se=t.DEPTH_COMPONENT24));const De=me(W);Fe(W)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,De,Se,W.width,W.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,De,Se,W.width,W.height)}else t.renderbufferStorage(t.RENDERBUFFER,Se,W.width,W.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,Q)}else if(W.depthBuffer&&W.stencilBuffer){const Se=me(W);be&&Fe(W)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Se,t.DEPTH24_STENCIL8,W.width,W.height):Fe(W)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Se,t.DEPTH24_STENCIL8,W.width,W.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,W.width,W.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,Q)}else{const Se=W.textures;for(let Oe=0;Oe<Se.length;Oe++){const De=Se[Oe],dt=s.convert(De.format,De.colorSpace),vt=s.convert(De.type),Ke=C(De.internalFormat,dt,vt,De.colorSpace),Je=me(W);be&&Fe(W)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Je,Ke,W.width,W.height):Fe(W)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Je,Ke,W.width,W.height):t.renderbufferStorage(t.RENDERBUFFER,Ke,W.width,W.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function We(Q,W){if(W&&W.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Q),!(W.depthTexture&&W.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(W.depthTexture).__webglTexture||W.depthTexture.image.width!==W.width||W.depthTexture.image.height!==W.height)&&(W.depthTexture.image.width=W.width,W.depthTexture.image.height=W.height,W.depthTexture.needsUpdate=!0),re(W.depthTexture,0);const Se=r.get(W.depthTexture).__webglTexture,Oe=me(W);if(W.depthTexture.format===Pu)Fe(W)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Se,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Se,0);else if(W.depthTexture.format===Df)Fe(W)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Se,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Se,0);else throw new Error("Unknown depthTexture format")}function ze(Q){const W=r.get(Q),be=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!W.__autoAllocateDepthBuffer){if(be)throw new Error("target.depthTexture not supported in Cube render targets");We(W.__webglFramebuffer,Q)}else if(be){W.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)n.bindFramebuffer(t.FRAMEBUFFER,W.__webglFramebuffer[Se]),W.__webglDepthbuffer[Se]=t.createRenderbuffer(),ye(W.__webglDepthbuffer[Se],Q,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,W.__webglFramebuffer),W.__webglDepthbuffer=t.createRenderbuffer(),ye(W.__webglDepthbuffer,Q,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Y(Q,W,be){const Se=r.get(Q);W!==void 0&&Ue(Se.__webglFramebuffer,Q,Q.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),be!==void 0&&ze(Q)}function Ie(Q){const W=Q.texture,be=r.get(Q),Se=r.get(W);Q.addEventListener("dispose",U);const Oe=Q.textures,De=Q.isWebGLCubeRenderTarget===!0,dt=Oe.length>1,vt=_(Q)||o;if(dt||(Se.__webglTexture===void 0&&(Se.__webglTexture=t.createTexture()),Se.__version=W.version,a.memory.textures++),De){be.__webglFramebuffer=[];for(let Ke=0;Ke<6;Ke++)if(o&&W.mipmaps&&W.mipmaps.length>0){be.__webglFramebuffer[Ke]=[];for(let Je=0;Je<W.mipmaps.length;Je++)be.__webglFramebuffer[Ke][Je]=t.createFramebuffer()}else be.__webglFramebuffer[Ke]=t.createFramebuffer()}else{if(o&&W.mipmaps&&W.mipmaps.length>0){be.__webglFramebuffer=[];for(let Ke=0;Ke<W.mipmaps.length;Ke++)be.__webglFramebuffer[Ke]=t.createFramebuffer()}else be.__webglFramebuffer=t.createFramebuffer();if(dt)if(i.drawBuffers)for(let Ke=0,Je=Oe.length;Ke<Je;Ke++){const Ot=r.get(Oe[Ke]);Ot.__webglTexture===void 0&&(Ot.__webglTexture=t.createTexture(),a.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&Q.samples>0&&Fe(Q)===!1){be.__webglMultisampledFramebuffer=t.createFramebuffer(),be.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,be.__webglMultisampledFramebuffer);for(let Ke=0;Ke<Oe.length;Ke++){const Je=Oe[Ke];be.__webglColorRenderbuffer[Ke]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,be.__webglColorRenderbuffer[Ke]);const Ot=s.convert(Je.format,Je.colorSpace),Qe=s.convert(Je.type),Cn=C(Je.internalFormat,Ot,Qe,Je.colorSpace,Q.isXRRenderTarget===!0),Ut=me(Q);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ut,Cn,Q.width,Q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ke,t.RENDERBUFFER,be.__webglColorRenderbuffer[Ke])}t.bindRenderbuffer(t.RENDERBUFFER,null),Q.depthBuffer&&(be.__webglDepthRenderbuffer=t.createRenderbuffer(),ye(be.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(De){n.bindTexture(t.TEXTURE_CUBE_MAP,Se.__webglTexture),se(t.TEXTURE_CUBE_MAP,W,vt);for(let Ke=0;Ke<6;Ke++)if(o&&W.mipmaps&&W.mipmaps.length>0)for(let Je=0;Je<W.mipmaps.length;Je++)Ue(be.__webglFramebuffer[Ke][Je],Q,W,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,Je);else Ue(be.__webglFramebuffer[Ke],Q,W,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0);M(W,vt)&&P(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(dt){for(let Ke=0,Je=Oe.length;Ke<Je;Ke++){const Ot=Oe[Ke],Qe=r.get(Ot);n.bindTexture(t.TEXTURE_2D,Qe.__webglTexture),se(t.TEXTURE_2D,Ot,vt),Ue(be.__webglFramebuffer,Q,Ot,t.COLOR_ATTACHMENT0+Ke,t.TEXTURE_2D,0),M(Ot,vt)&&P(t.TEXTURE_2D)}n.unbindTexture()}else{let Ke=t.TEXTURE_2D;if((Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(o?Ke=Q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ke,Se.__webglTexture),se(Ke,W,vt),o&&W.mipmaps&&W.mipmaps.length>0)for(let Je=0;Je<W.mipmaps.length;Je++)Ue(be.__webglFramebuffer[Je],Q,W,t.COLOR_ATTACHMENT0,Ke,Je);else Ue(be.__webglFramebuffer,Q,W,t.COLOR_ATTACHMENT0,Ke,0);M(W,vt)&&P(Ke),n.unbindTexture()}Q.depthBuffer&&ze(Q)}function ce(Q){const W=_(Q)||o,be=Q.textures;for(let Se=0,Oe=be.length;Se<Oe;Se++){const De=be[Se];if(M(De,W)){const dt=Q.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,vt=r.get(De).__webglTexture;n.bindTexture(dt,vt),P(dt),n.unbindTexture()}}}function xe(Q){if(o&&Q.samples>0&&Fe(Q)===!1){const W=Q.textures,be=Q.width,Se=Q.height;let Oe=t.COLOR_BUFFER_BIT;const De=[],dt=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,vt=r.get(Q),Ke=W.length>1;if(Ke)for(let Je=0;Je<W.length;Je++)n.bindFramebuffer(t.FRAMEBUFFER,vt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,vt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,vt.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,vt.__webglFramebuffer);for(let Je=0;Je<W.length;Je++){De.push(t.COLOR_ATTACHMENT0+Je),Q.depthBuffer&&De.push(dt);const Ot=vt.__ignoreDepthValues!==void 0?vt.__ignoreDepthValues:!1;if(Ot===!1&&(Q.depthBuffer&&(Oe|=t.DEPTH_BUFFER_BIT),Q.stencilBuffer&&(Oe|=t.STENCIL_BUFFER_BIT)),Ke&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,vt.__webglColorRenderbuffer[Je]),Ot===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[dt]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[dt])),Ke){const Qe=r.get(W[Je]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Qe,0)}t.blitFramebuffer(0,0,be,Se,0,0,be,Se,Oe,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,De)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ke)for(let Je=0;Je<W.length;Je++){n.bindFramebuffer(t.FRAMEBUFFER,vt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.RENDERBUFFER,vt.__webglColorRenderbuffer[Je]);const Ot=r.get(W[Je]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,vt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.TEXTURE_2D,Ot,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,vt.__webglMultisampledFramebuffer)}}function me(Q){return Math.min(i.maxSamples,Q.samples)}function Fe(Q){const W=r.get(Q);return o&&Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&W.__useRenderToTexture!==!1}function Be(Q){const W=a.render.frame;f.get(Q)!==W&&(f.set(Q,W),Q.update())}function He(Q,W){const be=Q.colorSpace,Se=Q.format,Oe=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||Q.format===Tw||be!==bc&&be!==Xl&&(Fn.getTransfer(be)===Qn?o===!1?e.has("EXT_sRGB")===!0&&Se===hs?(Q.format=Tw,Q.minFilter=xr,Q.generateMipmaps=!1):W=lO.sRGBToLinear(W):(Se!==hs||Oe!==el)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",be)),W}function Ge(Q){return typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement?(d.width=Q.naturalWidth||Q.width,d.height=Q.naturalHeight||Q.height):typeof VideoFrame<"u"&&Q instanceof VideoFrame?(d.width=Q.displayWidth,d.height=Q.displayHeight):(d.width=Q.width,d.height=Q.height),d}this.allocateTextureUnit=Z,this.resetTextureUnits=V,this.setTexture2D=re,this.setTexture2DArray=H,this.setTexture3D=J,this.setTextureCube=K,this.rebindTextures=Y,this.setupRenderTarget=Ie,this.updateRenderTargetMipmap=ce,this.updateMultisampleRenderTarget=xe,this.setupDepthRenderbuffer=ze,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=Fe}function TW(t,e,n){const r=n.isWebGL2;function i(s,a=Xl){let o;const l=Fn.getTransfer(a);if(s===el)return t.UNSIGNED_BYTE;if(s===Jk)return t.UNSIGNED_SHORT_4_4_4_4;if(s===Qk)return t.UNSIGNED_SHORT_5_5_5_1;if(s===G9)return t.BYTE;if(s===q9)return t.SHORT;if(s===C_)return t.UNSIGNED_SHORT;if(s===Zk)return t.INT;if(s===Ql)return t.UNSIGNED_INT;if(s===sa)return t.FLOAT;if(s===Sm)return r?t.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===X9)return t.ALPHA;if(s===hs)return t.RGBA;if(s===Y9)return t.LUMINANCE;if(s===K9)return t.LUMINANCE_ALPHA;if(s===Pu)return t.DEPTH_COMPONENT;if(s===Df)return t.DEPTH_STENCIL;if(s===Tw)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(s===eO)return t.RED;if(s===tO)return t.RED_INTEGER;if(s===Z9)return t.RG;if(s===nO)return t.RG_INTEGER;if(s===rO)return t.RGBA_INTEGER;if(s===r1||s===i1||s===s1||s===a1)if(l===Qn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(s===r1)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===i1)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===s1)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===a1)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===r1)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===i1)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===s1)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===a1)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===fN||s===hN||s===pN||s===mN)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===fN)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===hN)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===pN)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===mN)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===iO)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===gN||s===vN)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(s===gN)return l===Qn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(s===vN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===yN||s===xN||s===bN||s===wN||s===_N||s===SN||s===MN||s===EN||s===AN||s===TN||s===PN||s===CN||s===NN||s===RN)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(s===yN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===xN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===bN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===wN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===_N)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===SN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===MN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===EN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===AN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===TN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===PN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===CN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===NN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===RN)return l===Qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===o1||s===kN||s===ON)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(s===o1)return l===Qn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===kN)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===ON)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===J9||s===IN||s===LN||s===DN)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(s===o1)return o.COMPRESSED_RED_RGTC1_EXT;if(s===IN)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===LN)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===DN)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Tu?r?t.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class PW extends yi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Fp extends Tn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const ISe={type:"move"};class PT{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Fp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Fp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ie,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ie),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Fp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ie,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ie),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const S of e.hand.values()){const b=n.getJointPose(S,r),_=this._getHandJoint(c,S);b!==null&&(_.matrix.fromArray(b.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=b.radius),_.visible=b!==null}const d=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],g=d.position.distanceTo(f.position),y=.02,x=.005;c.inputState.pinching&&g>y+x?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&g<=y-x&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(ISe)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Fp;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const LSe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,DSe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class jSe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Cr,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}render(e,n){if(this.texture!==null){if(this.mesh===null){const r=n.cameras[0].viewport,i=new Mo({extensions:{fragDepth:!0},vertexShader:LSe,fragmentShader:DSe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new qr(new Wm(20,20),i)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class FSe extends wc{constructor(e,n){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,c=null,d=null,f=null,g=null,y=null,x=null;const S=new jSe,b=n.getContextAttributes();let _=null,E=null;const M=[],P=[],C=new $e;let N=null;const O=new yi;O.layers.enable(1),O.viewport=new Bn;const D=new yi;D.layers.enable(2),D.viewport=new Bn;const U=[O,D],L=new PW;L.layers.enable(1),L.layers.enable(2);let I=null,$=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let de=M[se];return de===void 0&&(de=new PT,M[se]=de),de.getTargetRaySpace()},this.getControllerGrip=function(se){let de=M[se];return de===void 0&&(de=new PT,M[se]=de),de.getGripSpace()},this.getHand=function(se){let de=M[se];return de===void 0&&(de=new PT,M[se]=de),de.getHandSpace()};function X(se){const de=P.indexOf(se.inputSource);if(de===-1)return;const Ee=M[de];Ee!==void 0&&(Ee.update(se.inputSource,se.frame,c||a),Ee.dispatchEvent({type:se.type,data:se.inputSource}))}function V(){i.removeEventListener("select",X),i.removeEventListener("selectstart",X),i.removeEventListener("selectend",X),i.removeEventListener("squeeze",X),i.removeEventListener("squeezestart",X),i.removeEventListener("squeezeend",X),i.removeEventListener("end",V),i.removeEventListener("inputsourceschange",Z);for(let se=0;se<M.length;se++){const de=P[se];de!==null&&(P[se]=null,M[se].disconnect(de))}I=null,$=null,S.reset(),e.setRenderTarget(_),y=null,g=null,f=null,i=null,E=null,ve.stop(),r.isPresenting=!1,e.setPixelRatio(N),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){s=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){o=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(se){c=se},this.getBaseLayer=function(){return g!==null?g:y},this.getBinding=function(){return f},this.getFrame=function(){return x},this.getSession=function(){return i},this.setSession=async function(se){if(i=se,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",X),i.addEventListener("selectstart",X),i.addEventListener("selectend",X),i.addEventListener("squeeze",X),i.addEventListener("squeezestart",X),i.addEventListener("squeezeend",X),i.addEventListener("end",V),i.addEventListener("inputsourceschange",Z),b.xrCompatible!==!0&&await n.makeXRCompatible(),N=e.getPixelRatio(),e.getSize(C),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const de={antialias:i.renderState.layers===void 0?b.antialias:!0,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:s};y=new XRWebGLLayer(i,n,de),i.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),E=new So(y.framebufferWidth,y.framebufferHeight,{format:hs,type:el,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil})}else{let de=null,Ee=null,Ve=null;b.depth&&(Ve=b.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,de=b.stencil?Df:Pu,Ee=b.stencil?Tu:Ql);const Ue={colorFormat:n.RGBA8,depthFormat:Ve,scaleFactor:s};f=new XRWebGLBinding(i,n),g=f.createProjectionLayer(Ue),i.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),E=new So(g.textureWidth,g.textureHeight,{format:hs,type:el,depthTexture:new hO(g.textureWidth,g.textureHeight,Ee,void 0,void 0,void 0,void 0,void 0,void 0,de),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0});const ye=e.properties.get(E);ye.__ignoreDepthValues=g.ignoreDepthValues}E.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(o),ve.setContext(i),ve.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function Z(se){for(let de=0;de<se.removed.length;de++){const Ee=se.removed[de],Ve=P.indexOf(Ee);Ve>=0&&(P[Ve]=null,M[Ve].disconnect(Ee))}for(let de=0;de<se.added.length;de++){const Ee=se.added[de];let Ve=P.indexOf(Ee);if(Ve===-1){for(let ye=0;ye<M.length;ye++)if(ye>=P.length){P.push(Ee),Ve=ye;break}else if(P[ye]===null){P[ye]=Ee,Ve=ye;break}if(Ve===-1)break}const Ue=M[Ve];Ue&&Ue.connect(Ee)}}const ee=new ie,re=new ie;function H(se,de,Ee){ee.setFromMatrixPosition(de.matrixWorld),re.setFromMatrixPosition(Ee.matrixWorld);const Ve=ee.distanceTo(re),Ue=de.projectionMatrix.elements,ye=Ee.projectionMatrix.elements,We=Ue[14]/(Ue[10]-1),ze=Ue[14]/(Ue[10]+1),Y=(Ue[9]+1)/Ue[5],Ie=(Ue[9]-1)/Ue[5],ce=(Ue[8]-1)/Ue[0],xe=(ye[8]+1)/ye[0],me=We*ce,Fe=We*xe,Be=Ve/(-ce+xe),He=Be*-ce;de.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(He),se.translateZ(Be),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert();const Ge=We+Be,Q=ze+Be,W=me-He,be=Fe+(Ve-He),Se=Y*ze/Q*Ge,Oe=Ie*ze/Q*Ge;se.projectionMatrix.makePerspective(W,be,Se,Oe,Ge,Q),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}function J(se,de){de===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(de.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(i===null)return;S.texture!==null&&(se.near=S.depthNear,se.far=S.depthFar),L.near=D.near=O.near=se.near,L.far=D.far=O.far=se.far,(I!==L.near||$!==L.far)&&(i.updateRenderState({depthNear:L.near,depthFar:L.far}),I=L.near,$=L.far,O.near=I,O.far=$,D.near=I,D.far=$,O.updateProjectionMatrix(),D.updateProjectionMatrix(),se.updateProjectionMatrix());const de=se.parent,Ee=L.cameras;J(L,de);for(let Ve=0;Ve<Ee.length;Ve++)J(Ee[Ve],de);Ee.length===2?H(L,O,D):L.projectionMatrix.copy(O.projectionMatrix),K(se,L,de)};function K(se,de,Ee){Ee===null?se.matrix.copy(de.matrixWorld):(se.matrix.copy(Ee.matrixWorld),se.matrix.invert(),se.matrix.multiply(de.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(de.projectionMatrix),se.projectionMatrixInverse.copy(de.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=Mm*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(g===null&&y===null))return l},this.setFoveation=function(se){l=se,g!==null&&(g.fixedFoveation=se),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=se)},this.hasDepthSensing=function(){return S.texture!==null};let q=null;function ne(se,de){if(d=de.getViewerPose(c||a),x=de,d!==null){const Ee=d.views;y!==null&&(e.setRenderTargetFramebuffer(E,y.framebuffer),e.setRenderTarget(E));let Ve=!1;Ee.length!==L.cameras.length&&(L.cameras.length=0,Ve=!0);for(let ye=0;ye<Ee.length;ye++){const We=Ee[ye];let ze=null;if(y!==null)ze=y.getViewport(We);else{const Ie=f.getViewSubImage(g,We);ze=Ie.viewport,ye===0&&(e.setRenderTargetTextures(E,Ie.colorTexture,g.ignoreDepthValues?void 0:Ie.depthStencilTexture),e.setRenderTarget(E))}let Y=U[ye];Y===void 0&&(Y=new yi,Y.layers.enable(ye),Y.viewport=new Bn,U[ye]=Y),Y.matrix.fromArray(We.transform.matrix),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.projectionMatrix.fromArray(We.projectionMatrix),Y.projectionMatrixInverse.copy(Y.projectionMatrix).invert(),Y.viewport.set(ze.x,ze.y,ze.width,ze.height),ye===0&&(L.matrix.copy(Y.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),Ve===!0&&L.cameras.push(Y)}const Ue=i.enabledFeatures;if(Ue&&Ue.includes("depth-sensing")){const ye=f.getDepthInformation(Ee[0]);ye&&ye.isValid&&ye.texture&&S.init(e,ye,i.renderState)}}for(let Ee=0;Ee<M.length;Ee++){const Ve=P[Ee],Ue=M[Ee];Ve!==null&&Ue!==void 0&&Ue.update(Ve,de,c||a)}S.render(e,L),q&&q(se,de),de.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:de}),x=null}const ve=new wW;ve.setAnimationLoop(ne),this.setAnimationLoop=function(se){q=se},this.dispose=function(){}}}const $d=new fa,BSe=new qt;function USe(t,e){function n(b,_){b.matrixAutoUpdate===!0&&b.updateMatrix(),_.value.copy(b.matrix)}function r(b,_){_.color.getRGB(b.fogColor.value,vW(t)),_.isFog?(b.fogNear.value=_.near,b.fogFar.value=_.far):_.isFogExp2&&(b.fogDensity.value=_.density)}function i(b,_,E,M,P){_.isMeshBasicMaterial||_.isMeshLambertMaterial?s(b,_):_.isMeshToonMaterial?(s(b,_),f(b,_)):_.isMeshPhongMaterial?(s(b,_),d(b,_)):_.isMeshStandardMaterial?(s(b,_),g(b,_),_.isMeshPhysicalMaterial&&y(b,_,P)):_.isMeshMatcapMaterial?(s(b,_),x(b,_)):_.isMeshDepthMaterial?s(b,_):_.isMeshDistanceMaterial?(s(b,_),S(b,_)):_.isMeshNormalMaterial?s(b,_):_.isLineBasicMaterial?(a(b,_),_.isLineDashedMaterial&&o(b,_)):_.isPointsMaterial?l(b,_,E,M):_.isSpriteMaterial?c(b,_):_.isShadowMaterial?(b.color.value.copy(_.color),b.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function s(b,_){b.opacity.value=_.opacity,_.color&&b.diffuse.value.copy(_.color),_.emissive&&b.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(b.map.value=_.map,n(_.map,b.mapTransform)),_.alphaMap&&(b.alphaMap.value=_.alphaMap,n(_.alphaMap,b.alphaMapTransform)),_.bumpMap&&(b.bumpMap.value=_.bumpMap,n(_.bumpMap,b.bumpMapTransform),b.bumpScale.value=_.bumpScale,_.side===ys&&(b.bumpScale.value*=-1)),_.normalMap&&(b.normalMap.value=_.normalMap,n(_.normalMap,b.normalMapTransform),b.normalScale.value.copy(_.normalScale),_.side===ys&&b.normalScale.value.negate()),_.displacementMap&&(b.displacementMap.value=_.displacementMap,n(_.displacementMap,b.displacementMapTransform),b.displacementScale.value=_.displacementScale,b.displacementBias.value=_.displacementBias),_.emissiveMap&&(b.emissiveMap.value=_.emissiveMap,n(_.emissiveMap,b.emissiveMapTransform)),_.specularMap&&(b.specularMap.value=_.specularMap,n(_.specularMap,b.specularMapTransform)),_.alphaTest>0&&(b.alphaTest.value=_.alphaTest);const E=e.get(_),M=E.envMap,P=E.envMapRotation;if(M&&(b.envMap.value=M,$d.copy(P),$d.x*=-1,$d.y*=-1,$d.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&($d.y*=-1,$d.z*=-1),b.envMapRotation.value.setFromMatrix4(BSe.makeRotationFromEuler($d)),b.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=_.reflectivity,b.ior.value=_.ior,b.refractionRatio.value=_.refractionRatio),_.lightMap){b.lightMap.value=_.lightMap;const C=t._useLegacyLights===!0?Math.PI:1;b.lightMapIntensity.value=_.lightMapIntensity*C,n(_.lightMap,b.lightMapTransform)}_.aoMap&&(b.aoMap.value=_.aoMap,b.aoMapIntensity.value=_.aoMapIntensity,n(_.aoMap,b.aoMapTransform))}function a(b,_){b.diffuse.value.copy(_.color),b.opacity.value=_.opacity,_.map&&(b.map.value=_.map,n(_.map,b.mapTransform))}function o(b,_){b.dashSize.value=_.dashSize,b.totalSize.value=_.dashSize+_.gapSize,b.scale.value=_.scale}function l(b,_,E,M){b.diffuse.value.copy(_.color),b.opacity.value=_.opacity,b.size.value=_.size*E,b.scale.value=M*.5,_.map&&(b.map.value=_.map,n(_.map,b.uvTransform)),_.alphaMap&&(b.alphaMap.value=_.alphaMap,n(_.alphaMap,b.alphaMapTransform)),_.alphaTest>0&&(b.alphaTest.value=_.alphaTest)}function c(b,_){b.diffuse.value.copy(_.color),b.opacity.value=_.opacity,b.rotation.value=_.rotation,_.map&&(b.map.value=_.map,n(_.map,b.mapTransform)),_.alphaMap&&(b.alphaMap.value=_.alphaMap,n(_.alphaMap,b.alphaMapTransform)),_.alphaTest>0&&(b.alphaTest.value=_.alphaTest)}function d(b,_){b.specular.value.copy(_.specular),b.shininess.value=Math.max(_.shininess,1e-4)}function f(b,_){_.gradientMap&&(b.gradientMap.value=_.gradientMap)}function g(b,_){b.metalness.value=_.metalness,_.metalnessMap&&(b.metalnessMap.value=_.metalnessMap,n(_.metalnessMap,b.metalnessMapTransform)),b.roughness.value=_.roughness,_.roughnessMap&&(b.roughnessMap.value=_.roughnessMap,n(_.roughnessMap,b.roughnessMapTransform)),e.get(_).envMap&&(b.envMapIntensity.value=_.envMapIntensity)}function y(b,_,E){b.ior.value=_.ior,_.sheen>0&&(b.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),b.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(b.sheenColorMap.value=_.sheenColorMap,n(_.sheenColorMap,b.sheenColorMapTransform)),_.sheenRoughnessMap&&(b.sheenRoughnessMap.value=_.sheenRoughnessMap,n(_.sheenRoughnessMap,b.sheenRoughnessMapTransform))),_.clearcoat>0&&(b.clearcoat.value=_.clearcoat,b.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(b.clearcoatMap.value=_.clearcoatMap,n(_.clearcoatMap,b.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,n(_.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(b.clearcoatNormalMap.value=_.clearcoatNormalMap,n(_.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===ys&&b.clearcoatNormalScale.value.negate())),_.iridescence>0&&(b.iridescence.value=_.iridescence,b.iridescenceIOR.value=_.iridescenceIOR,b.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(b.iridescenceMap.value=_.iridescenceMap,n(_.iridescenceMap,b.iridescenceMapTransform)),_.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=_.iridescenceThicknessMap,n(_.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),_.transmission>0&&(b.transmission.value=_.transmission,b.transmissionSamplerMap.value=E.texture,b.transmissionSamplerSize.value.set(E.width,E.height),_.transmissionMap&&(b.transmissionMap.value=_.transmissionMap,n(_.transmissionMap,b.transmissionMapTransform)),b.thickness.value=_.thickness,_.thicknessMap&&(b.thicknessMap.value=_.thicknessMap,n(_.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=_.attenuationDistance,b.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(b.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(b.anisotropyMap.value=_.anisotropyMap,n(_.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=_.specularIntensity,b.specularColor.value.copy(_.specularColor),_.specularColorMap&&(b.specularColorMap.value=_.specularColorMap,n(_.specularColorMap,b.specularColorMapTransform)),_.specularIntensityMap&&(b.specularIntensityMap.value=_.specularIntensityMap,n(_.specularIntensityMap,b.specularIntensityMapTransform))}function x(b,_){_.matcap&&(b.matcap.value=_.matcap)}function S(b,_){const E=e.get(_).light;b.referencePosition.value.setFromMatrixPosition(E.matrixWorld),b.nearDistance.value=E.shadow.camera.near,b.farDistance.value=E.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function zSe(t,e,n,r){let i={},s={},a=[];const o=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(E,M){const P=M.program;r.uniformBlockBinding(E,P)}function c(E,M){let P=i[E.id];P===void 0&&(x(E),P=d(E),i[E.id]=P,E.addEventListener("dispose",b));const C=M.program;r.updateUBOMapping(E,C);const N=e.render.frame;s[E.id]!==N&&(g(E),s[E.id]=N)}function d(E){const M=f();E.__bindingPointIndex=M;const P=t.createBuffer(),C=E.__size,N=E.usage;return t.bindBuffer(t.UNIFORM_BUFFER,P),t.bufferData(t.UNIFORM_BUFFER,C,N),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,M,P),P}function f(){for(let E=0;E<o;E++)if(a.indexOf(E)===-1)return a.push(E),E;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(E){const M=i[E.id],P=E.uniforms,C=E.__cache;t.bindBuffer(t.UNIFORM_BUFFER,M);for(let N=0,O=P.length;N<O;N++){const D=Array.isArray(P[N])?P[N]:[P[N]];for(let U=0,L=D.length;U<L;U++){const I=D[U];if(y(I,N,U,C)===!0){const $=I.__offset,X=Array.isArray(I.value)?I.value:[I.value];let V=0;for(let Z=0;Z<X.length;Z++){const ee=X[Z],re=S(ee);typeof ee=="number"||typeof ee=="boolean"?(I.__data[0]=ee,t.bufferSubData(t.UNIFORM_BUFFER,$+V,I.__data)):ee.isMatrix3?(I.__data[0]=ee.elements[0],I.__data[1]=ee.elements[1],I.__data[2]=ee.elements[2],I.__data[3]=0,I.__data[4]=ee.elements[3],I.__data[5]=ee.elements[4],I.__data[6]=ee.elements[5],I.__data[7]=0,I.__data[8]=ee.elements[6],I.__data[9]=ee.elements[7],I.__data[10]=ee.elements[8],I.__data[11]=0):(ee.toArray(I.__data,V),V+=re.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,$,I.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function y(E,M,P,C){const N=E.value,O=M+"_"+P;if(C[O]===void 0)return typeof N=="number"||typeof N=="boolean"?C[O]=N:C[O]=N.clone(),!0;{const D=C[O];if(typeof N=="number"||typeof N=="boolean"){if(D!==N)return C[O]=N,!0}else if(D.equals(N)===!1)return D.copy(N),!0}return!1}function x(E){const M=E.uniforms;let P=0;const C=16;for(let O=0,D=M.length;O<D;O++){const U=Array.isArray(M[O])?M[O]:[M[O]];for(let L=0,I=U.length;L<I;L++){const $=U[L],X=Array.isArray($.value)?$.value:[$.value];for(let V=0,Z=X.length;V<Z;V++){const ee=X[V],re=S(ee),H=P%C;H!==0&&C-H<re.boundary&&(P+=C-H),$.__data=new Float32Array(re.storage/Float32Array.BYTES_PER_ELEMENT),$.__offset=P,P+=re.storage}}}const N=P%C;return N>0&&(P+=C-N),E.__size=P,E.__cache={},this}function S(E){const M={boundary:0,storage:0};return typeof E=="number"||typeof E=="boolean"?(M.boundary=4,M.storage=4):E.isVector2?(M.boundary=8,M.storage=8):E.isVector3||E.isColor?(M.boundary=16,M.storage=12):E.isVector4?(M.boundary=16,M.storage=16):E.isMatrix3?(M.boundary=48,M.storage=48):E.isMatrix4?(M.boundary=64,M.storage=64):E.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",E),M}function b(E){const M=E.target;M.removeEventListener("dispose",b);const P=a.indexOf(M.__bindingPointIndex);a.splice(P,1),t.deleteBuffer(i[M.id]),delete i[M.id],delete s[M.id]}function _(){for(const E in i)t.deleteBuffer(i[E]);a=[],i={},s={}}return{bind:l,update:c,dispose:_}}class gO{constructor(e={}){const{canvas:n=hW(),context:r=null,depth:i=!0,stencil:s=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let g;r!==null?g=r.getContextAttributes().alpha:g=a;const y=new Uint32Array(4),x=new Int32Array(4);let S=null,b=null;const _=[],E=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Na,this._useLegacyLights=!1,this.toneMapping=Qo,this.toneMappingExposure=1;const M=this;let P=!1,C=0,N=0,O=null,D=-1,U=null;const L=new Bn,I=new Bn;let $=null;const X=new bt(0);let V=0,Z=n.width,ee=n.height,re=1,H=null,J=null;const K=new Bn(0,0,Z,ee),q=new Bn(0,0,Z,ee);let ne=!1;const ve=new Sy;let se=!1,de=!1,Ee=null;const Ve=new qt,Ue=new $e,ye=new ie,We={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ze(){return O===null?re:1}let Y=r;function Ie(te,we){for(let Ne=0;Ne<te.length;Ne++){const Re=te[Ne],Te=n.getContext(Re,we);if(Te!==null)return Te}return null}try{const te={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${A_}`),n.addEventListener("webglcontextlost",En,!1),n.addEventListener("webglcontextrestored",fe,!1),n.addEventListener("webglcontextcreationerror",it,!1),Y===null){const we=["webgl2","webgl","experimental-webgl"];if(M.isWebGL1Renderer===!0&&we.shift(),Y=Ie(we,te),Y===null)throw Ie(we)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Y instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(te){throw console.error("THREE.WebGLRenderer: "+te.message),te}let ce,xe,me,Fe,Be,He,Ge,Q,W,be,Se,Oe,De,dt,vt,Ke,Je,Ot,Qe,Cn,Ut,It,Mt,St;function tn(){ce=new Zwe(Y),xe=new Wwe(Y,ce,e),ce.init(xe),It=new TW(Y,ce,xe),me=new kSe(Y,ce,xe),Fe=new e_e(Y),Be=new bSe,He=new OSe(Y,ce,me,Be,xe,It,Fe),Ge=new qwe(M),Q=new Kwe(M),W=new abe(Y,xe),Mt=new Hwe(Y,ce,W,xe),be=new Jwe(Y,W,Fe,Mt),Se=new i_e(Y,be,W,Fe),Qe=new r_e(Y,xe,He),Ke=new Gwe(Be),Oe=new xSe(M,Ge,Q,ce,xe,Mt,Ke),De=new USe(M,Be),dt=new _Se,vt=new PSe(ce,xe),Ot=new Vwe(M,Ge,Q,me,Se,g,l),Je=new RSe(M,Se,xe),St=new zSe(Y,Fe,xe,me),Cn=new $we(Y,ce,Fe,xe),Ut=new Qwe(Y,ce,Fe,xe),Fe.programs=Oe.programs,M.capabilities=xe,M.extensions=ce,M.properties=Be,M.renderLists=dt,M.shadowMap=Je,M.state=me,M.info=Fe}tn();const zt=new FSe(M,Y);this.xr=zt,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const te=ce.get("WEBGL_lose_context");te&&te.loseContext()},this.forceContextRestore=function(){const te=ce.get("WEBGL_lose_context");te&&te.restoreContext()},this.getPixelRatio=function(){return re},this.setPixelRatio=function(te){te!==void 0&&(re=te,this.setSize(Z,ee,!1))},this.getSize=function(te){return te.set(Z,ee)},this.setSize=function(te,we,Ne=!0){if(zt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Z=te,ee=we,n.width=Math.floor(te*re),n.height=Math.floor(we*re),Ne===!0&&(n.style.width=te+"px",n.style.height=we+"px"),this.setViewport(0,0,te,we)},this.getDrawingBufferSize=function(te){return te.set(Z*re,ee*re).floor()},this.setDrawingBufferSize=function(te,we,Ne){Z=te,ee=we,re=Ne,n.width=Math.floor(te*Ne),n.height=Math.floor(we*Ne),this.setViewport(0,0,te,we)},this.getCurrentViewport=function(te){return te.copy(L)},this.getViewport=function(te){return te.copy(K)},this.setViewport=function(te,we,Ne,Re){te.isVector4?K.set(te.x,te.y,te.z,te.w):K.set(te,we,Ne,Re),me.viewport(L.copy(K).multiplyScalar(re).round())},this.getScissor=function(te){return te.copy(q)},this.setScissor=function(te,we,Ne,Re){te.isVector4?q.set(te.x,te.y,te.z,te.w):q.set(te,we,Ne,Re),me.scissor(I.copy(q).multiplyScalar(re).round())},this.getScissorTest=function(){return ne},this.setScissorTest=function(te){me.setScissorTest(ne=te)},this.setOpaqueSort=function(te){H=te},this.setTransparentSort=function(te){J=te},this.getClearColor=function(te){return te.copy(Ot.getClearColor())},this.setClearColor=function(){Ot.setClearColor.apply(Ot,arguments)},this.getClearAlpha=function(){return Ot.getClearAlpha()},this.setClearAlpha=function(){Ot.setClearAlpha.apply(Ot,arguments)},this.clear=function(te=!0,we=!0,Ne=!0){let Re=0;if(te){let Te=!1;if(O!==null){const ht=O.texture.format;Te=ht===rO||ht===nO||ht===tO}if(Te){const ht=O.texture.type,Rt=ht===el||ht===Ql||ht===C_||ht===Tu||ht===Jk||ht===Qk,jt=Ot.getClearColor(),pt=Ot.getClearAlpha(),Yt=jt.r,Ht=jt.g,Xt=jt.b;Rt?(y[0]=Yt,y[1]=Ht,y[2]=Xt,y[3]=pt,Y.clearBufferuiv(Y.COLOR,0,y)):(x[0]=Yt,x[1]=Ht,x[2]=Xt,x[3]=pt,Y.clearBufferiv(Y.COLOR,0,x))}else Re|=Y.COLOR_BUFFER_BIT}we&&(Re|=Y.DEPTH_BUFFER_BIT),Ne&&(Re|=Y.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Y.clear(Re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",En,!1),n.removeEventListener("webglcontextrestored",fe,!1),n.removeEventListener("webglcontextcreationerror",it,!1),dt.dispose(),vt.dispose(),Be.dispose(),Ge.dispose(),Q.dispose(),Se.dispose(),Mt.dispose(),St.dispose(),Oe.dispose(),zt.dispose(),zt.removeEventListener("sessionstart",st),zt.removeEventListener("sessionend",at),Ee&&(Ee.dispose(),Ee=null),Vt.stop()};function En(te){te.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function fe(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;const te=Fe.autoReset,we=Je.enabled,Ne=Je.autoUpdate,Re=Je.needsUpdate,Te=Je.type;tn(),Fe.autoReset=te,Je.enabled=we,Je.autoUpdate=Ne,Je.needsUpdate=Re,Je.type=Te}function it(te){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",te.statusMessage)}function Pe(te){const we=te.target;we.removeEventListener("dispose",Pe),nt(we)}function nt(te){lt(te),Be.remove(te)}function lt(te){const we=Be.get(te).programs;we!==void 0&&(we.forEach(function(Ne){Oe.releaseProgram(Ne)}),te.isShaderMaterial&&Oe.releaseShaderCache(te))}this.renderBufferDirect=function(te,we,Ne,Re,Te,ht){we===null&&(we=We);const Rt=Te.isMesh&&Te.matrixWorld.determinant()<0,jt=Jm(te,we,Ne,Re,Te);me.setMaterial(Re,Rt);let pt=Ne.index,Yt=1;if(Re.wireframe===!0){if(pt=be.getWireframeAttribute(Ne),pt===void 0)return;Yt=2}const Ht=Ne.drawRange,Xt=Ne.attributes.position;let Un=Ht.start*Yt,Yr=(Ht.start+Ht.count)*Yt;ht!==null&&(Un=Math.max(Un,ht.start*Yt),Yr=Math.min(Yr,(ht.start+ht.count)*Yt)),pt!==null?(Un=Math.max(Un,0),Yr=Math.min(Yr,pt.count)):Xt!=null&&(Un=Math.max(Un,0),Yr=Math.min(Yr,Xt.count));const zn=Yr-Un;if(zn<0||zn===1/0)return;Mt.setup(Te,Re,jt,Ne,pt);let mr,Ct=Cn;if(pt!==null&&(mr=W.get(pt),Ct=Ut,Ct.setIndex(mr)),Te.isMesh)Re.wireframe===!0?(me.setLineWidth(Re.wireframeLinewidth*ze()),Ct.setMode(Y.LINES)):Ct.setMode(Y.TRIANGLES);else if(Te.isLine){let yt=Re.linewidth;yt===void 0&&(yt=1),me.setLineWidth(yt*ze()),Te.isLineSegments?Ct.setMode(Y.LINES):Te.isLineLoop?Ct.setMode(Y.LINE_LOOP):Ct.setMode(Y.LINE_STRIP)}else Te.isPoints?Ct.setMode(Y.POINTS):Te.isSprite&&Ct.setMode(Y.TRIANGLES);if(Te.isBatchedMesh)Ct.renderMultiDraw(Te._multiDrawStarts,Te._multiDrawCounts,Te._multiDrawCount);else if(Te.isInstancedMesh)Ct.renderInstances(Un,zn,Te.count);else if(Ne.isInstancedBufferGeometry){const yt=Ne._maxInstanceCount!==void 0?Ne._maxInstanceCount:1/0,lr=Math.min(Ne.instanceCount,yt);Ct.renderInstances(Un,zn,lr)}else Ct.render(Un,zn)};function nn(te,we,Ne){te.transparent===!0&&te.side===bo&&te.forceSinglePass===!1?(te.side=ys,te.needsUpdate=!0,wi(te,we,Ne),te.side=fc,te.needsUpdate=!0,wi(te,we,Ne),te.side=bo):wi(te,we,Ne)}this.compile=function(te,we,Ne=null){Ne===null&&(Ne=te),b=vt.get(Ne),b.init(),E.push(b),Ne.traverseVisible(function(Te){Te.isLight&&Te.layers.test(we.layers)&&(b.pushLight(Te),Te.castShadow&&b.pushShadow(Te))}),te!==Ne&&te.traverseVisible(function(Te){Te.isLight&&Te.layers.test(we.layers)&&(b.pushLight(Te),Te.castShadow&&b.pushShadow(Te))}),b.setupLights(M._useLegacyLights);const Re=new Set;return te.traverse(function(Te){const ht=Te.material;if(ht)if(Array.isArray(ht))for(let Rt=0;Rt<ht.length;Rt++){const jt=ht[Rt];nn(jt,Ne,Te),Re.add(jt)}else nn(ht,Ne,Te),Re.add(ht)}),E.pop(),b=null,Re},this.compileAsync=function(te,we,Ne=null){const Re=this.compile(te,we,Ne);return new Promise(Te=>{function ht(){if(Re.forEach(function(Rt){Be.get(Rt).currentProgram.isReady()&&Re.delete(Rt)}),Re.size===0){Te(te);return}setTimeout(ht,10)}ce.get("KHR_parallel_shader_compile")!==null?ht():setTimeout(ht,10)})};let vn=null;function Ye(te){vn&&vn(te)}function st(){Vt.stop()}function at(){Vt.start()}const Vt=new wW;Vt.setAnimationLoop(Ye),typeof self<"u"&&Vt.setContext(self),this.setAnimationLoop=function(te){vn=te,zt.setAnimationLoop(te),te===null?Vt.stop():Vt.start()},zt.addEventListener("sessionstart",st),zt.addEventListener("sessionend",at),this.render=function(te,we){if(we!==void 0&&we.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),we.parent===null&&we.matrixWorldAutoUpdate===!0&&we.updateMatrixWorld(),zt.enabled===!0&&zt.isPresenting===!0&&(zt.cameraAutoUpdate===!0&&zt.updateCamera(we),we=zt.getCamera()),te.isScene===!0&&te.onBeforeRender(M,te,we,O),b=vt.get(te,E.length),b.init(),E.push(b),Ve.multiplyMatrices(we.projectionMatrix,we.matrixWorldInverse),ve.setFromProjectionMatrix(Ve),de=this.localClippingEnabled,se=Ke.init(this.clippingPlanes,de),S=dt.get(te,_.length),S.init(),_.push(S),un(te,we,0,M.sortObjects),S.finish(),M.sortObjects===!0&&S.sort(H,J),this.info.render.frame++,se===!0&&Ke.beginShadows();const Ne=b.state.shadowsArray;if(Je.render(Ne,te,we),se===!0&&Ke.endShadows(),this.info.autoReset===!0&&this.info.reset(),(zt.enabled===!1||zt.isPresenting===!1||zt.hasDepthSensing()===!1)&&Ot.render(S,te),b.setupLights(M._useLegacyLights),we.isArrayCamera){const Re=we.cameras;for(let Te=0,ht=Re.length;Te<ht;Te++){const Rt=Re[Te];bi(S,te,Rt,Rt.viewport)}}else bi(S,te,we);O!==null&&(He.updateMultisampleRenderTarget(O),He.updateRenderTargetMipmap(O)),te.isScene===!0&&te.onAfterRender(M,te,we),Mt.resetDefaultState(),D=-1,U=null,E.pop(),E.length>0?b=E[E.length-1]:b=null,_.pop(),_.length>0?S=_[_.length-1]:S=null};function un(te,we,Ne,Re){if(te.visible===!1)return;if(te.layers.test(we.layers)){if(te.isGroup)Ne=te.renderOrder;else if(te.isLOD)te.autoUpdate===!0&&te.update(we);else if(te.isLight)b.pushLight(te),te.castShadow&&b.pushShadow(te);else if(te.isSprite){if(!te.frustumCulled||ve.intersectsSprite(te)){Re&&ye.setFromMatrixPosition(te.matrixWorld).applyMatrix4(Ve);const Rt=Se.update(te),jt=te.material;jt.visible&&S.push(te,Rt,jt,Ne,ye.z,null)}}else if((te.isMesh||te.isLine||te.isPoints)&&(!te.frustumCulled||ve.intersectsObject(te))){const Rt=Se.update(te),jt=te.material;if(Re&&(te.boundingSphere!==void 0?(te.boundingSphere===null&&te.computeBoundingSphere(),ye.copy(te.boundingSphere.center)):(Rt.boundingSphere===null&&Rt.computeBoundingSphere(),ye.copy(Rt.boundingSphere.center)),ye.applyMatrix4(te.matrixWorld).applyMatrix4(Ve)),Array.isArray(jt)){const pt=Rt.groups;for(let Yt=0,Ht=pt.length;Yt<Ht;Yt++){const Xt=pt[Yt],Un=jt[Xt.materialIndex];Un&&Un.visible&&S.push(te,Rt,Un,Ne,ye.z,Xt)}}else jt.visible&&S.push(te,Rt,jt,Ne,ye.z,null)}}const ht=te.children;for(let Rt=0,jt=ht.length;Rt<jt;Rt++)un(ht[Rt],we,Ne,Re)}function bi(te,we,Ne,Re){const Te=te.opaque,ht=te.transmissive,Rt=te.transparent;b.setupLightsView(Ne),se===!0&&Ke.setGlobalState(M.clippingPlanes,Ne),ht.length>0&&Dt(Te,ht,we,Ne),Re&&me.viewport(L.copy(Re)),Te.length>0&&Dn(Te,we,Ne),ht.length>0&&Dn(ht,we,Ne),Rt.length>0&&Dn(Rt,we,Ne),me.buffers.depth.setTest(!0),me.buffers.depth.setMask(!0),me.buffers.color.setMask(!0),me.setPolygonOffset(!1)}function Dt(te,we,Ne,Re){if((Ne.isScene===!0?Ne.overrideMaterial:null)!==null)return;const ht=xe.isWebGL2;Ee===null&&(Ee=new So(1,1,{generateMipmaps:!0,type:ce.has("EXT_color_buffer_half_float")?Sm:el,minFilter:Wo,samples:ht?4:0})),M.getDrawingBufferSize(Ue),ht?Ee.setSize(Ue.x,Ue.y):Ee.setSize(Pw(Ue.x),Pw(Ue.y));const Rt=M.getRenderTarget();M.setRenderTarget(Ee),M.getClearColor(X),V=M.getClearAlpha(),V<1&&M.setClearColor(16777215,.5),M.clear();const jt=M.toneMapping;M.toneMapping=Qo,Dn(te,Ne,Re),He.updateMultisampleRenderTarget(Ee),He.updateRenderTargetMipmap(Ee);let pt=!1;for(let Yt=0,Ht=we.length;Yt<Ht;Yt++){const Xt=we[Yt],Un=Xt.object,Yr=Xt.geometry,zn=Xt.material,mr=Xt.group;if(zn.side===bo&&Un.layers.test(Re.layers)){const Ct=zn.side;zn.side=ys,zn.needsUpdate=!0,pr(Un,Ne,Re,Yr,zn,mr),zn.side=Ct,zn.needsUpdate=!0,pt=!0}}pt===!0&&(He.updateMultisampleRenderTarget(Ee),He.updateRenderTargetMipmap(Ee)),M.setRenderTarget(Rt),M.setClearColor(X,V),M.toneMapping=jt}function Dn(te,we,Ne){const Re=we.isScene===!0?we.overrideMaterial:null;for(let Te=0,ht=te.length;Te<ht;Te++){const Rt=te[Te],jt=Rt.object,pt=Rt.geometry,Yt=Re===null?Rt.material:Re,Ht=Rt.group;jt.layers.test(Ne.layers)&&pr(jt,we,Ne,pt,Yt,Ht)}}function pr(te,we,Ne,Re,Te,ht){te.onBeforeRender(M,we,Ne,Re,Te,ht),te.modelViewMatrix.multiplyMatrices(Ne.matrixWorldInverse,te.matrixWorld),te.normalMatrix.getNormalMatrix(te.modelViewMatrix),Te.onBeforeRender(M,we,Ne,Re,te,ht),Te.transparent===!0&&Te.side===bo&&Te.forceSinglePass===!1?(Te.side=ys,Te.needsUpdate=!0,M.renderBufferDirect(Ne,we,Re,Te,te,ht),Te.side=fc,Te.needsUpdate=!0,M.renderBufferDirect(Ne,we,Re,Te,te,ht),Te.side=bo):M.renderBufferDirect(Ne,we,Re,Te,te,ht),te.onAfterRender(M,we,Ne,Re,Te,ht)}function wi(te,we,Ne){we.isScene!==!0&&(we=We);const Re=Be.get(te),Te=b.state.lights,ht=b.state.shadowsArray,Rt=Te.state.version,jt=Oe.getParameters(te,Te.state,ht,we,Ne),pt=Oe.getProgramCacheKey(jt);let Yt=Re.programs;Re.environment=te.isMeshStandardMaterial?we.environment:null,Re.fog=we.fog,Re.envMap=(te.isMeshStandardMaterial?Q:Ge).get(te.envMap||Re.environment),Re.envMapRotation=Re.environment!==null&&te.envMap===null?we.environmentRotation:te.envMapRotation,Yt===void 0&&(te.addEventListener("dispose",Pe),Yt=new Map,Re.programs=Yt);let Ht=Yt.get(pt);if(Ht!==void 0){if(Re.currentProgram===Ht&&Re.lightsStateVersion===Rt)return _c(te,jt),Ht}else jt.uniforms=Oe.getUniforms(te),te.onBuild(Ne,jt,M),te.onBeforeCompile(jt,M),Ht=Oe.acquireProgram(jt,pt),Yt.set(pt,Ht),Re.uniforms=jt.uniforms;const Xt=Re.uniforms;return(!te.isShaderMaterial&&!te.isRawShaderMaterial||te.clipping===!0)&&(Xt.clippingPlanes=Ke.uniform),_c(te,jt),Re.needsLights=Zf(te),Re.lightsStateVersion=Rt,Re.needsLights&&(Xt.ambientLightColor.value=Te.state.ambient,Xt.lightProbe.value=Te.state.probe,Xt.directionalLights.value=Te.state.directional,Xt.directionalLightShadows.value=Te.state.directionalShadow,Xt.spotLights.value=Te.state.spot,Xt.spotLightShadows.value=Te.state.spotShadow,Xt.rectAreaLights.value=Te.state.rectArea,Xt.ltc_1.value=Te.state.rectAreaLTC1,Xt.ltc_2.value=Te.state.rectAreaLTC2,Xt.pointLights.value=Te.state.point,Xt.pointLightShadows.value=Te.state.pointShadow,Xt.hemisphereLights.value=Te.state.hemi,Xt.directionalShadowMap.value=Te.state.directionalShadowMap,Xt.directionalShadowMatrix.value=Te.state.directionalShadowMatrix,Xt.spotShadowMap.value=Te.state.spotShadowMap,Xt.spotLightMatrix.value=Te.state.spotLightMatrix,Xt.spotLightMap.value=Te.state.spotLightMap,Xt.pointShadowMap.value=Te.state.pointShadowMap,Xt.pointShadowMatrix.value=Te.state.pointShadowMatrix),Re.currentProgram=Ht,Re.uniformsList=null,Ht}function _i(te){if(te.uniformsList===null){const we=te.currentProgram.getUniforms();te.uniformsList=c1.seqWithValue(we.seq,te.uniforms)}return te.uniformsList}function _c(te,we){const Ne=Be.get(te);Ne.outputColorSpace=we.outputColorSpace,Ne.batching=we.batching,Ne.instancing=we.instancing,Ne.instancingColor=we.instancingColor,Ne.instancingMorph=we.instancingMorph,Ne.skinning=we.skinning,Ne.morphTargets=we.morphTargets,Ne.morphNormals=we.morphNormals,Ne.morphColors=we.morphColors,Ne.morphTargetsCount=we.morphTargetsCount,Ne.numClippingPlanes=we.numClippingPlanes,Ne.numIntersection=we.numClipIntersection,Ne.vertexAlphas=we.vertexAlphas,Ne.vertexTangents=we.vertexTangents,Ne.toneMapping=we.toneMapping}function Jm(te,we,Ne,Re,Te){we.isScene!==!0&&(we=We),He.resetTextureUnits();const ht=we.fog,Rt=Re.isMeshStandardMaterial?we.environment:null,jt=O===null?M.outputColorSpace:O.isXRRenderTarget===!0?O.texture.colorSpace:bc,pt=(Re.isMeshStandardMaterial?Q:Ge).get(Re.envMap||Rt),Yt=Re.vertexColors===!0&&!!Ne.attributes.color&&Ne.attributes.color.itemSize===4,Ht=!!Ne.attributes.tangent&&(!!Re.normalMap||Re.anisotropy>0),Xt=!!Ne.morphAttributes.position,Un=!!Ne.morphAttributes.normal,Yr=!!Ne.morphAttributes.color;let zn=Qo;Re.toneMapped&&(O===null||O.isXRRenderTarget===!0)&&(zn=M.toneMapping);const mr=Ne.morphAttributes.position||Ne.morphAttributes.normal||Ne.morphAttributes.color,Ct=mr!==void 0?mr.length:0,yt=Be.get(Re),lr=b.state.lights;if(se===!0&&(de===!0||te!==U)){const Kr=te===U&&Re.id===D;Ke.setState(Re,te,Kr)}let rn=!1;Re.version===yt.__version?(yt.needsLights&&yt.lightsStateVersion!==lr.state.version||yt.outputColorSpace!==jt||Te.isBatchedMesh&&yt.batching===!1||!Te.isBatchedMesh&&yt.batching===!0||Te.isInstancedMesh&&yt.instancing===!1||!Te.isInstancedMesh&&yt.instancing===!0||Te.isSkinnedMesh&&yt.skinning===!1||!Te.isSkinnedMesh&&yt.skinning===!0||Te.isInstancedMesh&&yt.instancingColor===!0&&Te.instanceColor===null||Te.isInstancedMesh&&yt.instancingColor===!1&&Te.instanceColor!==null||Te.isInstancedMesh&&yt.instancingMorph===!0&&Te.morphTexture===null||Te.isInstancedMesh&&yt.instancingMorph===!1&&Te.morphTexture!==null||yt.envMap!==pt||Re.fog===!0&&yt.fog!==ht||yt.numClippingPlanes!==void 0&&(yt.numClippingPlanes!==Ke.numPlanes||yt.numIntersection!==Ke.numIntersection)||yt.vertexAlphas!==Yt||yt.vertexTangents!==Ht||yt.morphTargets!==Xt||yt.morphNormals!==Un||yt.morphColors!==Yr||yt.toneMapping!==zn||xe.isWebGL2===!0&&yt.morphTargetsCount!==Ct)&&(rn=!0):(rn=!0,yt.__version=Re.version);let cr=yt.currentProgram;rn===!0&&(cr=wi(Re,we,Te));let ha=!1,Si=!1,gr=!1;const qn=cr.getUniforms(),Qi=yt.uniforms;if(me.useProgram(cr.program)&&(ha=!0,Si=!0,gr=!0),Re.id!==D&&(D=Re.id,Si=!0),ha||U!==te){qn.setValue(Y,"projectionMatrix",te.projectionMatrix),qn.setValue(Y,"viewMatrix",te.matrixWorldInverse);const Kr=qn.map.cameraPosition;Kr!==void 0&&Kr.setValue(Y,ye.setFromMatrixPosition(te.matrixWorld)),xe.logarithmicDepthBuffer&&qn.setValue(Y,"logDepthBufFC",2/(Math.log(te.far+1)/Math.LN2)),(Re.isMeshPhongMaterial||Re.isMeshToonMaterial||Re.isMeshLambertMaterial||Re.isMeshBasicMaterial||Re.isMeshStandardMaterial||Re.isShaderMaterial)&&qn.setValue(Y,"isOrthographic",te.isOrthographicCamera===!0),U!==te&&(U=te,Si=!0,gr=!0)}if(Te.isSkinnedMesh){qn.setOptional(Y,Te,"bindMatrix"),qn.setOptional(Y,Te,"bindMatrixInverse");const Kr=Te.skeleton;Kr&&(xe.floatVertexTextures?(Kr.boneTexture===null&&Kr.computeBoneTexture(),qn.setValue(Y,"boneTexture",Kr.boneTexture,He)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Te.isBatchedMesh&&(qn.setOptional(Y,Te,"batchingTexture"),qn.setValue(Y,"batchingTexture",Te._matricesTexture,He));const Sc=Ne.morphAttributes;if((Sc.position!==void 0||Sc.normal!==void 0||Sc.color!==void 0&&xe.isWebGL2===!0)&&Qe.update(Te,Ne,cr),(Si||yt.receiveShadow!==Te.receiveShadow)&&(yt.receiveShadow=Te.receiveShadow,qn.setValue(Y,"receiveShadow",Te.receiveShadow)),Re.isMeshGouraudMaterial&&Re.envMap!==null&&(Qi.envMap.value=pt,Qi.flipEnvMap.value=pt.isCubeTexture&&pt.isRenderTargetTexture===!1?-1:1),Si&&(qn.setValue(Y,"toneMappingExposure",M.toneMappingExposure),yt.needsLights&&ja(Qi,gr),ht&&Re.fog===!0&&De.refreshFogUniforms(Qi,ht),De.refreshMaterialUniforms(Qi,Re,re,ee,Ee),c1.upload(Y,_i(yt),Qi,He)),Re.isShaderMaterial&&Re.uniformsNeedUpdate===!0&&(c1.upload(Y,_i(yt),Qi,He),Re.uniformsNeedUpdate=!1),Re.isSpriteMaterial&&qn.setValue(Y,"center",Te.center),qn.setValue(Y,"modelViewMatrix",Te.modelViewMatrix),qn.setValue(Y,"normalMatrix",Te.normalMatrix),qn.setValue(Y,"modelMatrix",Te.matrixWorld),Re.isShaderMaterial||Re.isRawShaderMaterial){const Kr=Re.uniformsGroups;for(let Po=0,Li=Kr.length;Po<Li;Po++)if(xe.isWebGL2){const Mc=Kr[Po];St.update(Mc,cr),St.bind(Mc,cr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return cr}function ja(te,we){te.ambientLightColor.needsUpdate=we,te.lightProbe.needsUpdate=we,te.directionalLights.needsUpdate=we,te.directionalLightShadows.needsUpdate=we,te.pointLights.needsUpdate=we,te.pointLightShadows.needsUpdate=we,te.spotLights.needsUpdate=we,te.spotLightShadows.needsUpdate=we,te.rectAreaLights.needsUpdate=we,te.hemisphereLights.needsUpdate=we}function Zf(te){return te.isMeshLambertMaterial||te.isMeshToonMaterial||te.isMeshPhongMaterial||te.isMeshStandardMaterial||te.isShadowMaterial||te.isShaderMaterial&&te.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return O},this.setRenderTargetTextures=function(te,we,Ne){Be.get(te.texture).__webglTexture=we,Be.get(te.depthTexture).__webglTexture=Ne;const Re=Be.get(te);Re.__hasExternalTextures=!0,Re.__autoAllocateDepthBuffer=Ne===void 0,Re.__autoAllocateDepthBuffer||ce.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Re.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(te,we){const Ne=Be.get(te);Ne.__webglFramebuffer=we,Ne.__useDefaultFramebuffer=we===void 0},this.setRenderTarget=function(te,we=0,Ne=0){O=te,C=we,N=Ne;let Re=!0,Te=null,ht=!1,Rt=!1;if(te){const pt=Be.get(te);pt.__useDefaultFramebuffer!==void 0?(me.bindFramebuffer(Y.FRAMEBUFFER,null),Re=!1):pt.__webglFramebuffer===void 0?He.setupRenderTarget(te):pt.__hasExternalTextures&&He.rebindTextures(te,Be.get(te.texture).__webglTexture,Be.get(te.depthTexture).__webglTexture);const Yt=te.texture;(Yt.isData3DTexture||Yt.isDataArrayTexture||Yt.isCompressedArrayTexture)&&(Rt=!0);const Ht=Be.get(te).__webglFramebuffer;te.isWebGLCubeRenderTarget?(Array.isArray(Ht[we])?Te=Ht[we][Ne]:Te=Ht[we],ht=!0):xe.isWebGL2&&te.samples>0&&He.useMultisampledRTT(te)===!1?Te=Be.get(te).__webglMultisampledFramebuffer:Array.isArray(Ht)?Te=Ht[Ne]:Te=Ht,L.copy(te.viewport),I.copy(te.scissor),$=te.scissorTest}else L.copy(K).multiplyScalar(re).floor(),I.copy(q).multiplyScalar(re).floor(),$=ne;if(me.bindFramebuffer(Y.FRAMEBUFFER,Te)&&xe.drawBuffers&&Re&&me.drawBuffers(te,Te),me.viewport(L),me.scissor(I),me.setScissorTest($),ht){const pt=Be.get(te.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+we,pt.__webglTexture,Ne)}else if(Rt){const pt=Be.get(te.texture),Yt=we||0;Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,pt.__webglTexture,Ne||0,Yt)}D=-1},this.readRenderTargetPixels=function(te,we,Ne,Re,Te,ht,Rt){if(!(te&&te.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let jt=Be.get(te).__webglFramebuffer;if(te.isWebGLCubeRenderTarget&&Rt!==void 0&&(jt=jt[Rt]),jt){me.bindFramebuffer(Y.FRAMEBUFFER,jt);try{const pt=te.texture,Yt=pt.format,Ht=pt.type;if(Yt!==hs&&It.convert(Yt)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Xt=Ht===Sm&&(ce.has("EXT_color_buffer_half_float")||xe.isWebGL2&&ce.has("EXT_color_buffer_float"));if(Ht!==el&&It.convert(Ht)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ht===sa&&(xe.isWebGL2||ce.has("OES_texture_float")||ce.has("WEBGL_color_buffer_float")))&&!Xt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}we>=0&&we<=te.width-Re&&Ne>=0&&Ne<=te.height-Te&&Y.readPixels(we,Ne,Re,Te,It.convert(Yt),It.convert(Ht),ht)}finally{const pt=O!==null?Be.get(O).__webglFramebuffer:null;me.bindFramebuffer(Y.FRAMEBUFFER,pt)}}},this.copyFramebufferToTexture=function(te,we,Ne=0){const Re=Math.pow(2,-Ne),Te=Math.floor(we.image.width*Re),ht=Math.floor(we.image.height*Re);He.setTexture2D(we,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,Ne,0,0,te.x,te.y,Te,ht),me.unbindTexture()},this.copyTextureToTexture=function(te,we,Ne,Re=0){const Te=we.image.width,ht=we.image.height,Rt=It.convert(Ne.format),jt=It.convert(Ne.type);He.setTexture2D(Ne,0),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,Ne.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ne.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,Ne.unpackAlignment),we.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,Re,te.x,te.y,Te,ht,Rt,jt,we.image.data):we.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,Re,te.x,te.y,we.mipmaps[0].width,we.mipmaps[0].height,Rt,we.mipmaps[0].data):Y.texSubImage2D(Y.TEXTURE_2D,Re,te.x,te.y,Rt,jt,we.image),Re===0&&Ne.generateMipmaps&&Y.generateMipmap(Y.TEXTURE_2D),me.unbindTexture()},this.copyTextureToTexture3D=function(te,we,Ne,Re,Te=0){if(M.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ht=Math.round(te.max.x-te.min.x),Rt=Math.round(te.max.y-te.min.y),jt=te.max.z-te.min.z+1,pt=It.convert(Re.format),Yt=It.convert(Re.type);let Ht;if(Re.isData3DTexture)He.setTexture3D(Re,0),Ht=Y.TEXTURE_3D;else if(Re.isDataArrayTexture||Re.isCompressedArrayTexture)He.setTexture2DArray(Re,0),Ht=Y.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,Re.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Re.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,Re.unpackAlignment);const Xt=Y.getParameter(Y.UNPACK_ROW_LENGTH),Un=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),Yr=Y.getParameter(Y.UNPACK_SKIP_PIXELS),zn=Y.getParameter(Y.UNPACK_SKIP_ROWS),mr=Y.getParameter(Y.UNPACK_SKIP_IMAGES),Ct=Ne.isCompressedTexture?Ne.mipmaps[Te]:Ne.image;Y.pixelStorei(Y.UNPACK_ROW_LENGTH,Ct.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,Ct.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,te.min.x),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,te.min.y),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,te.min.z),Ne.isDataTexture||Ne.isData3DTexture?Y.texSubImage3D(Ht,Te,we.x,we.y,we.z,ht,Rt,jt,pt,Yt,Ct.data):Re.isCompressedArrayTexture?Y.compressedTexSubImage3D(Ht,Te,we.x,we.y,we.z,ht,Rt,jt,pt,Ct.data):Y.texSubImage3D(Ht,Te,we.x,we.y,we.z,ht,Rt,jt,pt,Yt,Ct),Y.pixelStorei(Y.UNPACK_ROW_LENGTH,Xt),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,Un),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,Yr),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,zn),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,mr),Te===0&&Re.generateMipmaps&&Y.generateMipmap(Ht),me.unbindTexture()},this.initTexture=function(te){te.isCubeTexture?He.setTextureCube(te,0):te.isData3DTexture?He.setTexture3D(te,0):te.isDataArrayTexture||te.isCompressedArrayTexture?He.setTexture2DArray(te,0):He.setTexture2D(te,0),me.unbindTexture()},this.resetState=function(){C=0,N=0,O=null,me.reset(),Mt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Go}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===R_?"display-p3":"srgb",n.unpackColorSpace=Fn.workingColorSpace===by?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class CW extends gO{}CW.prototype.isWebGL1Renderer=!0;class I_{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new bt(e),this.density=n}clone(){return new I_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class L_{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new bt(e),this.near=n,this.far=r}clone(){return new L_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class vO extends Tn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new fa,this.environmentRotation=new fa,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class D_{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=qv,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=ua()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return pW("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ua()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ua()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ds=new ie;class jf{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)ds.fromBufferAttribute(this,n),ds.applyMatrix4(e),this.setXYZ(n,ds.x,ds.y,ds.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ds.fromBufferAttribute(this,n),ds.applyNormalMatrix(e),this.setXYZ(n,ds.x,ds.y,ds.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ds.fromBufferAttribute(this,n),ds.transformDirection(e),this.setXYZ(n,ds.x,ds.y,ds.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=ps(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=ln(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=ln(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=ln(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=ln(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=ln(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ps(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ps(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ps(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ps(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array),s=ln(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Gn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new jf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class yO extends Ji{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let mp;const f0=new ie,gp=new ie,vp=new ie,yp=new $e,h0=new $e,NW=new qt,yb=new ie,p0=new ie,xb=new ie,lz=new $e,CT=new $e,cz=new $e;class RW extends Tn{constructor(e=new yO){if(super(),this.isSprite=!0,this.type="Sprite",mp===void 0){mp=new hn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new D_(n,5);mp.setIndex([0,1,2,0,2,3]),mp.setAttribute("position",new jf(r,3,0,!1)),mp.setAttribute("uv",new jf(r,2,3,!1))}this.geometry=mp,this.material=e,this.center=new $e(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),gp.setFromMatrixScale(this.matrixWorld),NW.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),vp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&gp.multiplyScalar(-vp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;bb(yb.set(-.5,-.5,0),vp,a,gp,i,s),bb(p0.set(.5,-.5,0),vp,a,gp,i,s),bb(xb.set(.5,.5,0),vp,a,gp,i,s),lz.set(0,0),CT.set(1,0),cz.set(1,1);let o=e.ray.intersectTriangle(yb,p0,xb,!1,f0);if(o===null&&(bb(p0.set(-.5,.5,0),vp,a,gp,i,s),CT.set(0,1),o=e.ray.intersectTriangle(yb,xb,p0,!1,f0),o===null))return;const l=e.ray.origin.distanceTo(f0);l<e.near||l>e.far||n.push({distance:l,point:f0.clone(),uv:aa.getInterpolation(f0,yb,p0,xb,lz,CT,cz,new $e),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function bb(t,e,n,r,i,s){yp.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(h0.x=s*yp.x-i*yp.y,h0.y=i*yp.x+s*yp.y):h0.copy(yp),t.copy(e),t.x+=h0.x,t.y+=h0.y,t.applyMatrix4(NW)}const wb=new ie,uz=new ie;class kW extends Tn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){wb.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(wb);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){wb.setFromMatrixPosition(e.matrixWorld),uz.setFromMatrixPosition(this.matrixWorld);const r=wb.distanceTo(uz)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const dz=new ie,fz=new Bn,hz=new Bn,VSe=new ie,pz=new qt,_b=new ie,NT=new Zi,mz=new qt,RT=new $m;class OW extends qr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=dN,this.bindMatrix=new qt,this.bindMatrixInverse=new qt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new xs),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,_b),this.boundingBox.expandByPoint(_b)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Zi),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,_b),this.boundingSphere.expandByPoint(_b)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),NT.copy(this.boundingSphere),NT.applyMatrix4(i),e.ray.intersectsSphere(NT)!==!1&&(mz.copy(i).invert(),RT.copy(e.ray).applyMatrix4(mz),!(this.boundingBox!==null&&RT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,RT)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Bn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===dN?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===W9?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;fz.fromBufferAttribute(i.attributes.skinIndex,e),hz.fromBufferAttribute(i.attributes.skinWeight,e),dz.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=hz.getComponent(s);if(a!==0){const o=fz.getComponent(s);pz.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),n.addScaledVector(VSe.copy(dz).applyMatrix4(pz),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class xO extends Tn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Cu extends Cr{constructor(e=null,n=1,r=1,i,s,a,o,l,c=Lr,d=Lr,f,g){super(null,a,o,l,c,d,i,s,f,g),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const gz=new qt,HSe=new qt;class j_{constructor(e=[],n=[]){this.uuid=ua(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new qt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new qt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:HSe;gz.multiplyMatrices(o,n[s]),gz.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new j_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Cu(n,e,e,hs,sa);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=n[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new xO),this.bones.push(a),this.boneInverses.push(new qt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const a=n[i];e.bones.push(a.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class Am extends Gn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const xp=new qt,vz=new qt,Sb=[],yz=new xs,$Se=new qt,m0=new qr,g0=new Zi;class IW extends qr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Am(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,$Se)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new xs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,xp),yz.copy(e.boundingBox).applyMatrix4(xp),this.boundingBox.union(yz)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Zi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,xp),g0.copy(e.boundingSphere).applyMatrix4(xp),this.boundingSphere.union(g0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,a=e*s+1;for(let o=0;o<r.length;o++)r[o]=i[a+o]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(m0.geometry=this.geometry,m0.material=this.material,m0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),g0.copy(this.boundingSphere),g0.applyMatrix4(r),e.ray.intersectsSphere(g0)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,xp),vz.multiplyMatrices(r,xp),m0.matrixWorld=vz,m0.raycast(e,Sb);for(let a=0,o=Sb.length;a<o;a++){const l=Sb[a];l.instanceId=s,l.object=this,n.push(l)}Sb.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Am(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Cu(new Float32Array(i*this.count),i,this.count,eO,sa));const s=this.morphTexture.source.data.data;let a=0;for(let c=0;c<r.length;c++)a+=r[c];const o=this.geometry.morphTargetsRelative?1:1-a,l=i*e;s[l]=o,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function WSe(t,e){return t.z-e.z}function GSe(t,e){return e.z-t.z}class qSe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const bp="batchId",cu=new qt,xz=new qt,XSe=new qt,bz=new qt,kT=new Sy,Mb=new xs,Wd=new Zi,v0=new ie,OT=new qSe,Wi=new qr,Eb=[];function YSe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let a=0;a<r;a++)e.setComponent(s+n,a,t.getComponent(s,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class LW extends qr{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new hn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Cu(n,e,e,hs,sa);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const l=e.getAttribute(o),{array:c,itemSize:d,normalized:f}=l,g=new c.constructor(r*d),y=new l.constructor(g,d,f);y.setUsage(l.usage),n.setAttribute(o,y)}if(e.getIndex()!==null){const o=r>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new Gn(o,1))}const a=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(bp,new Gn(a,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(bp))throw new Error(`BatchedMesh: Geometry cannot use attribute "${bp}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===bp)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new xs);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,cu),this.getBoundingBoxAt(i,Mb).applyMatrix4(cu),n.union(Mb))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Zi);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,cu),this.getBoundingSphereAt(i,Wd).applyMatrix4(cu),n.union(Wd))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const a=this._reservedRanges,o=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=a[a.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),d=c!==null;if(d&&(r===-1?i.indexCount=c.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,g=this._active,y=this._matricesTexture,x=this._matricesTexture.image.data;f.push(!0),g.push(!0);const S=this._geometryCount;this._geometryCount++,XSe.toArray(x,S*16),y.needsUpdate=!0,a.push(i),o.push({start:d?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new xs,sphereInitialized:!1,sphere:new Zi});const b=this.geometry.getAttribute(bp);for(let _=0;_<i.vertexCount;_++)b.setX(i.vertexStart+_,S);return b.needsUpdate=!0,this.setGeometryAt(S,e),S}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),a=n.getIndex(),o=this._reservedRanges[e];if(i&&a.count>o.indexCount||n.attributes.position.count>o.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.vertexCount;for(const y in r.attributes){if(y===bp)continue;const x=n.getAttribute(y),S=r.getAttribute(y);YSe(x,S,l);const b=x.itemSize;for(let _=x.count,E=c;_<E;_++){const M=l+_;for(let P=0;P<b;P++)S.setComponent(M,P,0)}S.needsUpdate=!0}if(i){const y=o.indexStart;for(let x=0;x<a.count;x++)s.setX(y+x,l+a.getX(x));for(let x=a.count,S=o.indexCount;x<S;x++)s.setX(y+x,l);s.needsUpdate=!0}const d=this._bounds[e];n.boundingBox!==null?(d.box.copy(n.boundingBox),d.boxInitialized=!0):d.boxInitialized=!1,n.boundingSphere!==null?(d.sphere.copy(n.boundingSphere),d.sphereInitialized=!0):d.sphereInitialized=!1;const f=this._drawRanges[e],g=n.getAttribute("position");return f.count=i?a.count:g.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.box,a=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const o=a.index,l=a.attributes.position,c=this._drawRanges[e];for(let d=c.start,f=c.start+c.count;d<f;d++){let g=d;o&&(g=o.getX(g)),s.expandByPoint(v0.fromBufferAttribute(l,g))}i.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.sphere,a=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,Mb),Mb.getCenter(s.center);const o=a.index,l=a.attributes.position,c=this._drawRanges[e];let d=0;for(let f=c.start,g=c.start+c.count;f<g;f++){let y=f;o&&(y=o.getX(y)),v0.fromBufferAttribute(l,y),d=Math.max(d,s.center.distanceToSquared(v0))}s.radius=Math.sqrt(d),i.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,s=this._drawRanges,a=this._geometryCount,o=this.matrixWorld,l=this.geometry;Wi.material=this.material,Wi.geometry.index=l.index,Wi.geometry.attributes=l.attributes,Wi.geometry.boundingBox===null&&(Wi.geometry.boundingBox=new xs),Wi.geometry.boundingSphere===null&&(Wi.geometry.boundingSphere=new Zi);for(let c=0;c<a;c++){if(!r[c]||!i[c])continue;const d=s[c];Wi.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(c,Wi.matrixWorld).premultiply(o),this.getBoundingBoxAt(c,Wi.geometry.boundingBox),this.getBoundingSphereAt(c,Wi.geometry.boundingSphere),Wi.raycast(e,Eb);for(let f=0,g=Eb.length;f<g;f++){const y=Eb[f];y.object=this,y.batchId=c,n.push(y)}Eb.length=0}Wi.material=null,Wi.geometry.index=null,Wi.geometry.attributes={},Wi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,d=this._multiDrawStarts,f=this._multiDrawCounts,g=this._drawRanges,y=this.perObjectFrustumCulled;y&&(bz.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),kT.setFromProjectionMatrix(bz,e.coordinateSystem));let x=0;if(this.sortObjects){xz.copy(this.matrixWorld).invert(),v0.setFromMatrixPosition(r.matrixWorld).applyMatrix4(xz);for(let _=0,E=c.length;_<E;_++)if(c[_]&&l[_]){this.getMatrixAt(_,cu),this.getBoundingSphereAt(_,Wd).applyMatrix4(cu);let M=!1;if(y&&(M=!kT.intersectsSphere(Wd)),!M){const P=v0.distanceTo(Wd.center);OT.push(g[_],P)}}const S=OT.list,b=this.customSort;b===null?S.sort(s.transparent?GSe:WSe):b.call(this,S,r);for(let _=0,E=S.length;_<E;_++){const M=S[_];d[x]=M.start*o,f[x]=M.count,x++}OT.reset()}else for(let S=0,b=c.length;S<b;S++)if(c[S]&&l[S]){let _=!1;if(y&&(this.getMatrixAt(S,cu),this.getBoundingSphereAt(S,Wd).applyMatrix4(cu),_=!kT.intersectsSphere(Wd)),!_){const E=g[S];d[x]=E.start*o,f[x]=E.count,x++}}this._multiDrawCount=x,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class bs extends Ji{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new bt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const wz=new ie,_z=new ie,Sz=new qt,IT=new $m,Ab=new Zi;class Iu extends Tn{constructor(e=new hn,n=new bs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)wz.fromBufferAttribute(n,i-1),_z.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=wz.distanceTo(_z);e.setAttribute("lineDistance",new Tt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Ab.copy(r.boundingSphere),Ab.applyMatrix4(i),Ab.radius+=s,e.ray.intersectsSphere(Ab)===!1)return;Sz.copy(i).invert(),IT.copy(e.ray).applyMatrix4(Sz);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=new ie,d=new ie,f=new ie,g=new ie,y=this.isLineSegments?2:1,x=r.index,b=r.attributes.position;if(x!==null){const _=Math.max(0,a.start),E=Math.min(x.count,a.start+a.count);for(let M=_,P=E-1;M<P;M+=y){const C=x.getX(M),N=x.getX(M+1);if(c.fromBufferAttribute(b,C),d.fromBufferAttribute(b,N),IT.distanceSqToSegment(c,d,g,f)>l)continue;g.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(g);D<e.near||D>e.far||n.push({distance:D,point:f.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,a.start),E=Math.min(b.count,a.start+a.count);for(let M=_,P=E-1;M<P;M+=y){if(c.fromBufferAttribute(b,M),d.fromBufferAttribute(b,M+1),IT.distanceSqToSegment(c,d,g,f)>l)continue;g.applyMatrix4(this.matrixWorld);const N=e.ray.origin.distanceTo(g);N<e.near||N>e.far||n.push({distance:N,point:f.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}const Mz=new ie,Ez=new ie;class al extends Iu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)Mz.fromBufferAttribute(n,i),Ez.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Mz.distanceTo(Ez);e.setAttribute("lineDistance",new Tt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class DW extends Iu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class bO extends Ji{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Az=new qt,VN=new $m,Tb=new Zi,Pb=new ie;class jW extends Tn{constructor(e=new hn,n=new bO){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Tb.copy(r.boundingSphere),Tb.applyMatrix4(i),Tb.radius+=s,e.ray.intersectsSphere(Tb)===!1)return;Az.copy(i).invert(),VN.copy(e.ray).applyMatrix4(Az);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=r.index,f=r.attributes.position;if(c!==null){const g=Math.max(0,a.start),y=Math.min(c.count,a.start+a.count);for(let x=g,S=y;x<S;x++){const b=c.getX(x);Pb.fromBufferAttribute(f,b),Tz(Pb,b,l,i,e,n,this)}}else{const g=Math.max(0,a.start),y=Math.min(f.count,a.start+a.count);for(let x=g,S=y;x<S;x++)Pb.fromBufferAttribute(f,x),Tz(Pb,x,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function Tz(t,e,n,r,i,s,a){const o=VN.distanceSqToPoint(t);if(o<n){const l=new ie;VN.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:a})}}class KSe extends Cr{constructor(e,n,r,i,s,a,o,l,c){super(e,n,r,i,s,a,o,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:xr,this.magFilter=s!==void 0?s:xr,this.generateMipmaps=!1;const d=this;function f(){d.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class ZSe extends Cr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Lr,this.minFilter=Lr,this.generateMipmaps=!1,this.needsUpdate=!0}}class F_ extends Cr{constructor(e,n,r,i,s,a,o,l,c,d,f,g){super(null,a,o,l,c,d,i,s,f,g),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class JSe extends F_{constructor(e,n,r,i,s,a){super(e,n,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Yi}}class QSe extends F_{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,hc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class e2e extends Cr{constructor(e,n,r,i,s,a,o,l,c){super(e,n,r,i,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ao{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let a;n?a=n:a=e*r[s-1];let o=0,l=s-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=r[i]-a,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(s-1);const d=r[i],g=r[i+1]-d,y=(a-d)/g;return(i+y)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),o=this.getPoint(s),l=n||(a.isVector2?new $e:new ie);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new ie,i=[],s=[],a=[],o=new ie,l=new qt;for(let y=0;y<=e;y++){const x=y/e;i[y]=this.getTangentAt(x,new ie)}s[0]=new ie,a[0]=new ie;let c=Number.MAX_VALUE;const d=Math.abs(i[0].x),f=Math.abs(i[0].y),g=Math.abs(i[0].z);d<=c&&(c=d,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),g<=c&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let y=1;y<=e;y++){if(s[y]=s[y-1].clone(),a[y]=a[y-1].clone(),o.crossVectors(i[y-1],i[y]),o.length()>Number.EPSILON){o.normalize();const x=Math.acos(Pr(i[y-1].dot(i[y]),-1,1));s[y].applyMatrix4(l.makeRotationAxis(o,x))}a[y].crossVectors(i[y],s[y])}if(n===!0){let y=Math.acos(Pr(s[0].dot(s[e]),-1,1));y/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(y=-y);for(let x=1;x<=e;x++)s[x].applyMatrix4(l.makeRotationAxis(i[x],y*x)),a[x].crossVectors(i[x],s[x])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class B_ extends Ao{constructor(e=0,n=0,r=1,i=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,n=new $e){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),g=l-this.aX,y=c-this.aY;l=g*d-y*f+this.aX,c=g*f+y*d+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class FW extends B_{constructor(e,n,r,i,s,a){super(e,n,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function wO(){let t=0,e=0,n=0,r=0;function i(s,a,o,l){t=s,e=o,n=-3*s+3*a-2*o-l,r=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,c){i(a,o,c*(o-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,c,d,f){let g=(a-s)/c-(o-s)/(c+d)+(o-a)/d,y=(o-a)/d-(l-a)/(d+f)+(l-o)/f;g*=d,y*=d,i(a,o,g,y)},calc:function(s){const a=s*s,o=a*s;return t+e*s+n*a+r*o}}}const Cb=new ie,LT=new wO,DT=new wO,jT=new wO;class BW extends Ao{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ie){const r=n,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let c,d;this.closed||o>0?c=i[(o-1)%s]:(Cb.subVectors(i[0],i[1]).add(i[0]),c=Cb);const f=i[o%s],g=i[(o+1)%s];if(this.closed||o+2<s?d=i[(o+2)%s]:(Cb.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=Cb),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let x=Math.pow(c.distanceToSquared(f),y),S=Math.pow(f.distanceToSquared(g),y),b=Math.pow(g.distanceToSquared(d),y);S<1e-4&&(S=1),x<1e-4&&(x=S),b<1e-4&&(b=S),LT.initNonuniformCatmullRom(c.x,f.x,g.x,d.x,x,S,b),DT.initNonuniformCatmullRom(c.y,f.y,g.y,d.y,x,S,b),jT.initNonuniformCatmullRom(c.z,f.z,g.z,d.z,x,S,b)}else this.curveType==="catmullrom"&&(LT.initCatmullRom(c.x,f.x,g.x,d.x,this.tension),DT.initCatmullRom(c.y,f.y,g.y,d.y,this.tension),jT.initCatmullRom(c.z,f.z,g.z,d.z,this.tension));return r.set(LT.calc(l),DT.calc(l),jT.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ie().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Pz(t,e,n,r,i){const s=(r-e)*.5,a=(i-n)*.5,o=t*t,l=t*o;return(2*n-2*r+s+a)*l+(-3*n+3*r-2*s-a)*o+s*t+n}function t2e(t,e){const n=1-t;return n*n*e}function n2e(t,e){return 2*(1-t)*t*e}function r2e(t,e){return t*t*e}function W0(t,e,n,r){return t2e(t,e)+n2e(t,n)+r2e(t,r)}function i2e(t,e){const n=1-t;return n*n*n*e}function s2e(t,e){const n=1-t;return 3*n*n*t*e}function a2e(t,e){return 3*(1-t)*t*t*e}function o2e(t,e){return t*t*t*e}function G0(t,e,n,r,i){return i2e(t,e)+s2e(t,n)+a2e(t,r)+o2e(t,i)}class _O extends Ao{constructor(e=new $e,n=new $e,r=new $e,i=new $e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new $e){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(G0(e,i.x,s.x,a.x,o.x),G0(e,i.y,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class UW extends Ao{constructor(e=new ie,n=new ie,r=new ie,i=new ie){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ie){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(G0(e,i.x,s.x,a.x,o.x),G0(e,i.y,s.y,a.y,o.y),G0(e,i.z,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class SO extends Ao{constructor(e=new $e,n=new $e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new $e){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new $e){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zW extends Ao{constructor(e=new ie,n=new ie){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ie){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ie){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MO extends Ao{constructor(e=new $e,n=new $e,r=new $e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new $e){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(W0(e,i.x,s.x,a.x),W0(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EO extends Ao{constructor(e=new ie,n=new ie,r=new ie){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ie){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(W0(e,i.x,s.x,a.x),W0(e,i.y,s.y,a.y),W0(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AO extends Ao{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new $e){const r=n,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,l=i[a===0?a:a-1],c=i[a],d=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(Pz(o,l.x,c.x,d.x,f.x),Pz(o,l.y,c.y,d.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new $e().fromArray(i))}return this}}var Cw=Object.freeze({__proto__:null,ArcCurve:FW,CatmullRomCurve3:BW,CubicBezierCurve:_O,CubicBezierCurve3:UW,EllipseCurve:B_,LineCurve:SO,LineCurve3:zW,QuadraticBezierCurve:MO,QuadraticBezierCurve3:EO,SplineCurve:AO});class VW extends Ao{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Cw[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,o=this.curves[s],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const d=l[c];r&&r.equals(d)||(n.push(d),r=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Cw[i.type]().fromJSON(i))}return this}}class Kv extends VW{constructor(e){super(),this.type="Path",this.currentPoint=new $e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new SO(this.currentPoint.clone(),new $e(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new MO(this.currentPoint.clone(),new $e(e,n),new $e(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,a){const o=new _O(this.currentPoint.clone(),new $e(e,n),new $e(r,i),new $e(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new AO(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,r,i,s,a),this}absarc(e,n,r,i,s,a){return this.absellipse(e,n,r,r,i,s,a),this}ellipse(e,n,r,i,s,a,o,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,n+d,r,i,s,a,o,l),this}absellipse(e,n,r,i,s,a,o,l){const c=new B_(e,n,r,i,s,a,o,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ey extends hn{constructor(e=[new $e(0,-.5),new $e(.5,0),new $e(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Pr(i,0,Math.PI*2);const s=[],a=[],o=[],l=[],c=[],d=1/n,f=new ie,g=new $e,y=new ie,x=new ie,S=new ie;let b=0,_=0;for(let E=0;E<=e.length-1;E++)switch(E){case 0:b=e[E+1].x-e[E].x,_=e[E+1].y-e[E].y,y.x=_*1,y.y=-b,y.z=_*0,S.copy(y),y.normalize(),l.push(y.x,y.y,y.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:b=e[E+1].x-e[E].x,_=e[E+1].y-e[E].y,y.x=_*1,y.y=-b,y.z=_*0,x.copy(y),y.x+=S.x,y.y+=S.y,y.z+=S.z,y.normalize(),l.push(y.x,y.y,y.z),S.copy(x)}for(let E=0;E<=n;E++){const M=r+E*d*i,P=Math.sin(M),C=Math.cos(M);for(let N=0;N<=e.length-1;N++){f.x=e[N].x*P,f.y=e[N].y,f.z=e[N].x*C,a.push(f.x,f.y,f.z),g.x=E/n,g.y=N/(e.length-1),o.push(g.x,g.y);const O=l[3*N+0]*P,D=l[3*N+1],U=l[3*N+0]*C;c.push(O,D,U)}}for(let E=0;E<n;E++)for(let M=0;M<e.length-1;M++){const P=M+E*e.length,C=P,N=P+e.length,O=P+e.length+1,D=P+1;s.push(C,N,D),s.push(O,D,N)}this.setIndex(s),this.setAttribute("position",new Tt(a,3)),this.setAttribute("uv",new Tt(o,2)),this.setAttribute("normal",new Tt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ey(e.points,e.segments,e.phiStart,e.phiLength)}}class U_ extends Ey{constructor(e=1,n=1,r=4,i=8){const s=new Kv;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new U_(e.radius,e.length,e.capSegments,e.radialSegments)}}class z_ extends hn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],a=[],o=[],l=[],c=new ie,d=new $e;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let f=0,g=3;f<=n;f++,g+=3){const y=r+f/n*i;c.x=e*Math.cos(y),c.y=e*Math.sin(y),a.push(c.x,c.y,c.z),o.push(0,0,1),d.x=(a[g]/e+1)/2,d.y=(a[g+1]/e+1)/2,l.push(d.x,d.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Tt(a,3)),this.setAttribute("normal",new Tt(o,3)),this.setAttribute("uv",new Tt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new z_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class qm extends hn{constructor(e=1,n=1,r=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const d=[],f=[],g=[],y=[];let x=0;const S=[],b=r/2;let _=0;E(),a===!1&&(e>0&&M(!0),n>0&&M(!1)),this.setIndex(d),this.setAttribute("position",new Tt(f,3)),this.setAttribute("normal",new Tt(g,3)),this.setAttribute("uv",new Tt(y,2));function E(){const P=new ie,C=new ie;let N=0;const O=(n-e)/r;for(let D=0;D<=s;D++){const U=[],L=D/s,I=L*(n-e)+e;for(let $=0;$<=i;$++){const X=$/i,V=X*l+o,Z=Math.sin(V),ee=Math.cos(V);C.x=I*Z,C.y=-L*r+b,C.z=I*ee,f.push(C.x,C.y,C.z),P.set(Z,O,ee).normalize(),g.push(P.x,P.y,P.z),y.push(X,1-L),U.push(x++)}S.push(U)}for(let D=0;D<i;D++)for(let U=0;U<s;U++){const L=S[U][D],I=S[U+1][D],$=S[U+1][D+1],X=S[U][D+1];d.push(L,I,X),d.push(I,$,X),N+=6}c.addGroup(_,N,0),_+=N}function M(P){const C=x,N=new $e,O=new ie;let D=0;const U=P===!0?e:n,L=P===!0?1:-1;for(let $=1;$<=i;$++)f.push(0,b*L,0),g.push(0,L,0),y.push(.5,.5),x++;const I=x;for(let $=0;$<=i;$++){const V=$/i*l+o,Z=Math.cos(V),ee=Math.sin(V);O.x=U*ee,O.y=b*L,O.z=U*Z,f.push(O.x,O.y,O.z),g.push(0,L,0),N.x=Z*.5+.5,N.y=ee*.5*L+.5,y.push(N.x,N.y),x++}for(let $=0;$<i;$++){const X=C+$,V=I+$;P===!0?d.push(V,V+1,X):d.push(V+1,V,X),D+=3}c.addGroup(_,D,P===!0?1:2),_+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class V_ extends qm{constructor(e=1,n=1,r=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,n,r,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new V_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Gu extends hn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],a=[];o(i),c(r),d(),this.setAttribute("position",new Tt(s,3)),this.setAttribute("normal",new Tt(s.slice(),3)),this.setAttribute("uv",new Tt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(E){const M=new ie,P=new ie,C=new ie;for(let N=0;N<n.length;N+=3)y(n[N+0],M),y(n[N+1],P),y(n[N+2],C),l(M,P,C,E)}function l(E,M,P,C){const N=C+1,O=[];for(let D=0;D<=N;D++){O[D]=[];const U=E.clone().lerp(P,D/N),L=M.clone().lerp(P,D/N),I=N-D;for(let $=0;$<=I;$++)$===0&&D===N?O[D][$]=U:O[D][$]=U.clone().lerp(L,$/I)}for(let D=0;D<N;D++)for(let U=0;U<2*(N-D)-1;U++){const L=Math.floor(U/2);U%2===0?(g(O[D][L+1]),g(O[D+1][L]),g(O[D][L])):(g(O[D][L+1]),g(O[D+1][L+1]),g(O[D+1][L]))}}function c(E){const M=new ie;for(let P=0;P<s.length;P+=3)M.x=s[P+0],M.y=s[P+1],M.z=s[P+2],M.normalize().multiplyScalar(E),s[P+0]=M.x,s[P+1]=M.y,s[P+2]=M.z}function d(){const E=new ie;for(let M=0;M<s.length;M+=3){E.x=s[M+0],E.y=s[M+1],E.z=s[M+2];const P=b(E)/2/Math.PI+.5,C=_(E)/Math.PI+.5;a.push(P,1-C)}x(),f()}function f(){for(let E=0;E<a.length;E+=6){const M=a[E+0],P=a[E+2],C=a[E+4],N=Math.max(M,P,C),O=Math.min(M,P,C);N>.9&&O<.1&&(M<.2&&(a[E+0]+=1),P<.2&&(a[E+2]+=1),C<.2&&(a[E+4]+=1))}}function g(E){s.push(E.x,E.y,E.z)}function y(E,M){const P=E*3;M.x=e[P+0],M.y=e[P+1],M.z=e[P+2]}function x(){const E=new ie,M=new ie,P=new ie,C=new ie,N=new $e,O=new $e,D=new $e;for(let U=0,L=0;U<s.length;U+=9,L+=6){E.set(s[U+0],s[U+1],s[U+2]),M.set(s[U+3],s[U+4],s[U+5]),P.set(s[U+6],s[U+7],s[U+8]),N.set(a[L+0],a[L+1]),O.set(a[L+2],a[L+3]),D.set(a[L+4],a[L+5]),C.copy(E).add(M).add(P).divideScalar(3);const I=b(C);S(N,L+0,E,I),S(O,L+2,M,I),S(D,L+4,P,I)}}function S(E,M,P,C){C<0&&E.x===1&&(a[M]=E.x-1),P.x===0&&P.z===0&&(a[M]=C/2/Math.PI+.5)}function b(E){return Math.atan2(E.z,-E.x)}function _(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gu(e.vertices,e.indices,e.radius,e.details)}}class Ay extends Gu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Ay(e.radius,e.detail)}}const Nb=new ie,Rb=new ie,FT=new ie,kb=new aa;class HW extends hn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Ef*n),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],d=["a","b","c"],f=new Array(3),g={},y=[];for(let x=0;x<l;x+=3){a?(c[0]=a.getX(x),c[1]=a.getX(x+1),c[2]=a.getX(x+2)):(c[0]=x,c[1]=x+1,c[2]=x+2);const{a:S,b,c:_}=kb;if(S.fromBufferAttribute(o,c[0]),b.fromBufferAttribute(o,c[1]),_.fromBufferAttribute(o,c[2]),kb.getNormal(FT),f[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,f[1]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,f[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let E=0;E<3;E++){const M=(E+1)%3,P=f[E],C=f[M],N=kb[d[E]],O=kb[d[M]],D=`${P}_${C}`,U=`${C}_${P}`;U in g&&g[U]?(FT.dot(g[U].normal)<=s&&(y.push(N.x,N.y,N.z),y.push(O.x,O.y,O.z)),g[U]=null):D in g||(g[D]={index0:c[E],index1:c[M],normal:FT.clone()})}}for(const x in g)if(g[x]){const{index0:S,index1:b}=g[x];Nb.fromBufferAttribute(o,S),Rb.fromBufferAttribute(o,b),y.push(Nb.x,Nb.y,Nb.z),y.push(Rb.x,Rb.y,Rb.z)}this.setAttribute("position",new Tt(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Tf extends Kv{constructor(e){super(e),this.uuid=ua(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Kv().fromJSON(i))}return this}}const l2e={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=$W(t,0,i,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c,d,f,g,y;if(r&&(s=h2e(t,e,s,n)),t.length>80*n){o=c=t[0],l=d=t[1];for(let x=n;x<i;x+=n)f=t[x],g=t[x+1],f<o&&(o=f),g<l&&(l=g),f>c&&(c=f),g>d&&(d=g);y=Math.max(c-o,d-l),y=y!==0?32767/y:0}return Zv(s,a,n,o,l,y,0),a}};function $W(t,e,n,r,i){let s,a;if(i===M2e(t,e,n,r)>0)for(s=e;s<n;s+=r)a=Cz(s,t[s],t[s+1],a);else for(s=n-r;s>=e;s-=r)a=Cz(s,t[s],t[s+1],a);return a&&H_(a,a.next)&&(Qv(a),a=a.next),a}function Ff(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(H_(n,n.next)||wr(n.prev,n,n.next)===0)){if(Qv(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Zv(t,e,n,r,i,s,a){if(!t)return;!a&&s&&y2e(t,r,i,s);let o=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?u2e(t,r,i,s):c2e(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Qv(t),t=c.next,o=c.next;continue}if(t=c,t===o){a?a===1?(t=d2e(Ff(t),e,n),Zv(t,e,n,r,i,s,2)):a===2&&f2e(t,e,n,r,i,s):Zv(Ff(t),e,n,r,i,s,1);break}}}function c2e(t){const e=t.prev,n=t,r=t.next;if(wr(e,n,r)>=0)return!1;const i=e.x,s=n.x,a=r.x,o=e.y,l=n.y,c=r.y,d=i<s?i<a?i:a:s<a?s:a,f=o<l?o<c?o:c:l<c?l:c,g=i>s?i>a?i:a:s>a?s:a,y=o>l?o>c?o:c:l>c?l:c;let x=r.next;for(;x!==e;){if(x.x>=d&&x.x<=g&&x.y>=f&&x.y<=y&&Bp(i,o,s,l,a,c,x.x,x.y)&&wr(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function u2e(t,e,n,r){const i=t.prev,s=t,a=t.next;if(wr(i,s,a)>=0)return!1;const o=i.x,l=s.x,c=a.x,d=i.y,f=s.y,g=a.y,y=o<l?o<c?o:c:l<c?l:c,x=d<f?d<g?d:g:f<g?f:g,S=o>l?o>c?o:c:l>c?l:c,b=d>f?d>g?d:g:f>g?f:g,_=HN(y,x,e,n,r),E=HN(S,b,e,n,r);let M=t.prevZ,P=t.nextZ;for(;M&&M.z>=_&&P&&P.z<=E;){if(M.x>=y&&M.x<=S&&M.y>=x&&M.y<=b&&M!==i&&M!==a&&Bp(o,d,l,f,c,g,M.x,M.y)&&wr(M.prev,M,M.next)>=0||(M=M.prevZ,P.x>=y&&P.x<=S&&P.y>=x&&P.y<=b&&P!==i&&P!==a&&Bp(o,d,l,f,c,g,P.x,P.y)&&wr(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;M&&M.z>=_;){if(M.x>=y&&M.x<=S&&M.y>=x&&M.y<=b&&M!==i&&M!==a&&Bp(o,d,l,f,c,g,M.x,M.y)&&wr(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;P&&P.z<=E;){if(P.x>=y&&P.x<=S&&P.y>=x&&P.y<=b&&P!==i&&P!==a&&Bp(o,d,l,f,c,g,P.x,P.y)&&wr(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function d2e(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!H_(i,s)&&WW(i,r,r.next,s)&&Jv(i,s)&&Jv(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Qv(r),Qv(r.next),r=t=s),r=r.next}while(r!==t);return Ff(r)}function f2e(t,e,n,r,i,s){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&w2e(a,o)){let l=GW(a,o);a=Ff(a,a.next),l=Ff(l,l.next),Zv(a,e,n,r,i,s,0),Zv(l,e,n,r,i,s,0);return}o=o.next}a=a.next}while(a!==t)}function h2e(t,e,n,r){const i=[];let s,a,o,l,c;for(s=0,a=e.length;s<a;s++)o=e[s]*r,l=s<a-1?e[s+1]*r:t.length,c=$W(t,o,l,r,!1),c===c.next&&(c.steiner=!0),i.push(b2e(c));for(i.sort(p2e),s=0;s<i.length;s++)n=m2e(i[s],n);return n}function p2e(t,e){return t.x-e.x}function m2e(t,e){const n=g2e(t,e);if(!n)return e;const r=GW(n,t);return Ff(r,r.next),Ff(n,n.next)}function g2e(t,e){let n=e,r=-1/0,i;const s=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const g=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(g<=s&&g>r&&(r=g,i=n.x<n.next.x?n:n.next,g===s))return i}n=n.next}while(n!==e);if(!i)return null;const o=i,l=i.x,c=i.y;let d=1/0,f;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Bp(a<c?s:r,a,l,c,a<c?r:s,a,n.x,n.y)&&(f=Math.abs(a-n.y)/(s-n.x),Jv(n,t)&&(f<d||f===d&&(n.x>i.x||n.x===i.x&&v2e(i,n)))&&(i=n,d=f)),n=n.next;while(n!==o);return i}function v2e(t,e){return wr(t.prev,t,e.prev)<0&&wr(e.next,t,t.next)<0}function y2e(t,e,n,r){let i=t;do i.z===0&&(i.z=HN(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,x2e(i)}function x2e(t){let e,n,r,i,s,a,o,l,c=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,r=n,o=0,e=0;e<c&&(o++,r=r.nextZ,!!r);e++);for(l=c;o>0||l>0&&r;)o!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(a>1);return t}function HN(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function b2e(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Bp(t,e,n,r,i,s,a,o){return(i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(r-o)>=(n-a)*(e-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function w2e(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!_2e(t,e)&&(Jv(t,e)&&Jv(e,t)&&S2e(t,e)&&(wr(t.prev,t,e.prev)||wr(t,e.prev,e))||H_(t,e)&&wr(t.prev,t,t.next)>0&&wr(e.prev,e,e.next)>0)}function wr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function H_(t,e){return t.x===e.x&&t.y===e.y}function WW(t,e,n,r){const i=Ib(wr(t,e,n)),s=Ib(wr(t,e,r)),a=Ib(wr(n,r,t)),o=Ib(wr(n,r,e));return!!(i!==s&&a!==o||i===0&&Ob(t,n,e)||s===0&&Ob(t,r,e)||a===0&&Ob(n,t,r)||o===0&&Ob(n,e,r))}function Ob(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Ib(t){return t>0?1:t<0?-1:0}function _2e(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&WW(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Jv(t,e){return wr(t.prev,t,t.next)<0?wr(t,e,t.next)>=0&&wr(t,t.prev,e)>=0:wr(t,e,t.prev)<0||wr(t,t.next,e)<0}function S2e(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function GW(t,e){const n=new $N(t.i,t.x,t.y),r=new $N(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function Cz(t,e,n,r){const i=new $N(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Qv(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function $N(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function M2e(t,e,n,r){let i=0;for(let s=e,a=n-r;s<n;s+=r)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}class tl{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return tl.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];Nz(e),Rz(r,e);let a=e.length;n.forEach(Nz);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,Rz(r,n[l]);const o=l2e.triangulate(r,i);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function Nz(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Rz(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class $_ extends hn{constructor(e=new Tf([new $e(.5,.5),new $e(-.5,.5),new $e(-.5,-.5),new $e(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new Tt(i,3)),this.setAttribute("uv",new Tt(s,2)),this.computeVertexNormals();function a(o){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let g=n.bevelEnabled!==void 0?n.bevelEnabled:!0,y=n.bevelThickness!==void 0?n.bevelThickness:.2,x=n.bevelSize!==void 0?n.bevelSize:y-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,b=n.bevelSegments!==void 0?n.bevelSegments:3;const _=n.extrudePath,E=n.UVGenerator!==void 0?n.UVGenerator:E2e;let M,P=!1,C,N,O,D;_&&(M=_.getSpacedPoints(d),P=!0,g=!1,C=_.computeFrenetFrames(d,!1),N=new ie,O=new ie,D=new ie),g||(b=0,y=0,x=0,S=0);const U=o.extractPoints(c);let L=U.shape;const I=U.holes;if(!tl.isClockWise(L)){L=L.reverse();for(let Y=0,Ie=I.length;Y<Ie;Y++){const ce=I[Y];tl.isClockWise(ce)&&(I[Y]=ce.reverse())}}const X=tl.triangulateShape(L,I),V=L;for(let Y=0,Ie=I.length;Y<Ie;Y++){const ce=I[Y];L=L.concat(ce)}function Z(Y,Ie,ce){return Ie||console.error("THREE.ExtrudeGeometry: vec does not exist"),Y.clone().addScaledVector(Ie,ce)}const ee=L.length,re=X.length;function H(Y,Ie,ce){let xe,me,Fe;const Be=Y.x-Ie.x,He=Y.y-Ie.y,Ge=ce.x-Y.x,Q=ce.y-Y.y,W=Be*Be+He*He,be=Be*Q-He*Ge;if(Math.abs(be)>Number.EPSILON){const Se=Math.sqrt(W),Oe=Math.sqrt(Ge*Ge+Q*Q),De=Ie.x-He/Se,dt=Ie.y+Be/Se,vt=ce.x-Q/Oe,Ke=ce.y+Ge/Oe,Je=((vt-De)*Q-(Ke-dt)*Ge)/(Be*Q-He*Ge);xe=De+Be*Je-Y.x,me=dt+He*Je-Y.y;const Ot=xe*xe+me*me;if(Ot<=2)return new $e(xe,me);Fe=Math.sqrt(Ot/2)}else{let Se=!1;Be>Number.EPSILON?Ge>Number.EPSILON&&(Se=!0):Be<-Number.EPSILON?Ge<-Number.EPSILON&&(Se=!0):Math.sign(He)===Math.sign(Q)&&(Se=!0),Se?(xe=-He,me=Be,Fe=Math.sqrt(W)):(xe=Be,me=He,Fe=Math.sqrt(W/2))}return new $e(xe/Fe,me/Fe)}const J=[];for(let Y=0,Ie=V.length,ce=Ie-1,xe=Y+1;Y<Ie;Y++,ce++,xe++)ce===Ie&&(ce=0),xe===Ie&&(xe=0),J[Y]=H(V[Y],V[ce],V[xe]);const K=[];let q,ne=J.concat();for(let Y=0,Ie=I.length;Y<Ie;Y++){const ce=I[Y];q=[];for(let xe=0,me=ce.length,Fe=me-1,Be=xe+1;xe<me;xe++,Fe++,Be++)Fe===me&&(Fe=0),Be===me&&(Be=0),q[xe]=H(ce[xe],ce[Fe],ce[Be]);K.push(q),ne=ne.concat(q)}for(let Y=0;Y<b;Y++){const Ie=Y/b,ce=y*Math.cos(Ie*Math.PI/2),xe=x*Math.sin(Ie*Math.PI/2)+S;for(let me=0,Fe=V.length;me<Fe;me++){const Be=Z(V[me],J[me],xe);Ve(Be.x,Be.y,-ce)}for(let me=0,Fe=I.length;me<Fe;me++){const Be=I[me];q=K[me];for(let He=0,Ge=Be.length;He<Ge;He++){const Q=Z(Be[He],q[He],xe);Ve(Q.x,Q.y,-ce)}}}const ve=x+S;for(let Y=0;Y<ee;Y++){const Ie=g?Z(L[Y],ne[Y],ve):L[Y];P?(O.copy(C.normals[0]).multiplyScalar(Ie.x),N.copy(C.binormals[0]).multiplyScalar(Ie.y),D.copy(M[0]).add(O).add(N),Ve(D.x,D.y,D.z)):Ve(Ie.x,Ie.y,0)}for(let Y=1;Y<=d;Y++)for(let Ie=0;Ie<ee;Ie++){const ce=g?Z(L[Ie],ne[Ie],ve):L[Ie];P?(O.copy(C.normals[Y]).multiplyScalar(ce.x),N.copy(C.binormals[Y]).multiplyScalar(ce.y),D.copy(M[Y]).add(O).add(N),Ve(D.x,D.y,D.z)):Ve(ce.x,ce.y,f/d*Y)}for(let Y=b-1;Y>=0;Y--){const Ie=Y/b,ce=y*Math.cos(Ie*Math.PI/2),xe=x*Math.sin(Ie*Math.PI/2)+S;for(let me=0,Fe=V.length;me<Fe;me++){const Be=Z(V[me],J[me],xe);Ve(Be.x,Be.y,f+ce)}for(let me=0,Fe=I.length;me<Fe;me++){const Be=I[me];q=K[me];for(let He=0,Ge=Be.length;He<Ge;He++){const Q=Z(Be[He],q[He],xe);P?Ve(Q.x,Q.y+M[d-1].y,M[d-1].x+ce):Ve(Q.x,Q.y,f+ce)}}}se(),de();function se(){const Y=i.length/3;if(g){let Ie=0,ce=ee*Ie;for(let xe=0;xe<re;xe++){const me=X[xe];Ue(me[2]+ce,me[1]+ce,me[0]+ce)}Ie=d+b*2,ce=ee*Ie;for(let xe=0;xe<re;xe++){const me=X[xe];Ue(me[0]+ce,me[1]+ce,me[2]+ce)}}else{for(let Ie=0;Ie<re;Ie++){const ce=X[Ie];Ue(ce[2],ce[1],ce[0])}for(let Ie=0;Ie<re;Ie++){const ce=X[Ie];Ue(ce[0]+ee*d,ce[1]+ee*d,ce[2]+ee*d)}}r.addGroup(Y,i.length/3-Y,0)}function de(){const Y=i.length/3;let Ie=0;Ee(V,Ie),Ie+=V.length;for(let ce=0,xe=I.length;ce<xe;ce++){const me=I[ce];Ee(me,Ie),Ie+=me.length}r.addGroup(Y,i.length/3-Y,1)}function Ee(Y,Ie){let ce=Y.length;for(;--ce>=0;){const xe=ce;let me=ce-1;me<0&&(me=Y.length-1);for(let Fe=0,Be=d+b*2;Fe<Be;Fe++){const He=ee*Fe,Ge=ee*(Fe+1),Q=Ie+xe+He,W=Ie+me+He,be=Ie+me+Ge,Se=Ie+xe+Ge;ye(Q,W,be,Se)}}}function Ve(Y,Ie,ce){l.push(Y),l.push(Ie),l.push(ce)}function Ue(Y,Ie,ce){We(Y),We(Ie),We(ce);const xe=i.length/3,me=E.generateTopUV(r,i,xe-3,xe-2,xe-1);ze(me[0]),ze(me[1]),ze(me[2])}function ye(Y,Ie,ce,xe){We(Y),We(Ie),We(xe),We(Ie),We(ce),We(xe);const me=i.length/3,Fe=E.generateSideWallUV(r,i,me-6,me-3,me-2,me-1);ze(Fe[0]),ze(Fe[1]),ze(Fe[3]),ze(Fe[1]),ze(Fe[2]),ze(Fe[3])}function We(Y){i.push(l[Y*3+0]),i.push(l[Y*3+1]),i.push(l[Y*3+2])}function ze(Y){s.push(Y.x),s.push(Y.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return A2e(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=n[e.shapes[s]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Cw[i.type]().fromJSON(i)),new $_(r,e.options)}}const E2e={generateTopUV:function(t,e,n,r,i){const s=e[n*3],a=e[n*3+1],o=e[r*3],l=e[r*3+1],c=e[i*3],d=e[i*3+1];return[new $e(s,a),new $e(o,l),new $e(c,d)]},generateSideWallUV:function(t,e,n,r,i,s){const a=e[n*3],o=e[n*3+1],l=e[n*3+2],c=e[r*3],d=e[r*3+1],f=e[r*3+2],g=e[i*3],y=e[i*3+1],x=e[i*3+2],S=e[s*3],b=e[s*3+1],_=e[s*3+2];return Math.abs(o-d)<Math.abs(a-c)?[new $e(a,1-l),new $e(c,1-f),new $e(g,1-x),new $e(S,1-_)]:[new $e(o,1-l),new $e(d,1-f),new $e(y,1-x),new $e(b,1-_)]}};function A2e(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Ty extends Gu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Ty(e.radius,e.detail)}}class Xm extends Gu{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Xm(e.radius,e.detail)}}class W_ extends hn{constructor(e=.5,n=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],c=[],d=[];let f=e;const g=(n-e)/i,y=new ie,x=new $e;for(let S=0;S<=i;S++){for(let b=0;b<=r;b++){const _=s+b/r*a;y.x=f*Math.cos(_),y.y=f*Math.sin(_),l.push(y.x,y.y,y.z),c.push(0,0,1),x.x=(y.x/n+1)/2,x.y=(y.y/n+1)/2,d.push(x.x,x.y)}f+=g}for(let S=0;S<i;S++){const b=S*(r+1);for(let _=0;_<r;_++){const E=_+b,M=E,P=E+r+1,C=E+r+2,N=E+1;o.push(M,P,N),o.push(P,C,N)}}this.setIndex(o),this.setAttribute("position",new Tt(l,3)),this.setAttribute("normal",new Tt(c,3)),this.setAttribute("uv",new Tt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class G_ extends hn{constructor(e=new Tf([new $e(0,.5),new $e(-.5,-.5),new $e(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(o,l,d),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new Tt(i,3)),this.setAttribute("normal",new Tt(s,3)),this.setAttribute("uv",new Tt(a,2));function c(d){const f=i.length/3,g=d.extractPoints(n);let y=g.shape;const x=g.holes;tl.isClockWise(y)===!1&&(y=y.reverse());for(let b=0,_=x.length;b<_;b++){const E=x[b];tl.isClockWise(E)===!0&&(x[b]=E.reverse())}const S=tl.triangulateShape(y,x);for(let b=0,_=x.length;b<_;b++){const E=x[b];y=y.concat(E)}for(let b=0,_=y.length;b<_;b++){const E=y[b];i.push(E.x,E.y,0),s.push(0,0,1),a.push(E.x,E.y)}for(let b=0,_=S.length;b<_;b++){const E=S[b],M=E[0]+f,P=E[1]+f,C=E[2]+f;r.push(M,P,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return T2e(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=n[e.shapes[i]];r.push(a)}return new G_(r,e.curveSegments)}}function T2e(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Py extends hn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+o,Math.PI);let c=0;const d=[],f=new ie,g=new ie,y=[],x=[],S=[],b=[];for(let _=0;_<=r;_++){const E=[],M=_/r;let P=0;_===0&&a===0?P=.5/n:_===r&&l===Math.PI&&(P=-.5/n);for(let C=0;C<=n;C++){const N=C/n;f.x=-e*Math.cos(i+N*s)*Math.sin(a+M*o),f.y=e*Math.cos(a+M*o),f.z=e*Math.sin(i+N*s)*Math.sin(a+M*o),x.push(f.x,f.y,f.z),g.copy(f).normalize(),S.push(g.x,g.y,g.z),b.push(N+P,1-M),E.push(c++)}d.push(E)}for(let _=0;_<r;_++)for(let E=0;E<n;E++){const M=d[_][E+1],P=d[_][E],C=d[_+1][E],N=d[_+1][E+1];(_!==0||a>0)&&y.push(M,P,N),(_!==r-1||l<Math.PI)&&y.push(P,C,N)}this.setIndex(y),this.setAttribute("position",new Tt(x,3)),this.setAttribute("normal",new Tt(S,3)),this.setAttribute("uv",new Tt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Py(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class q_ extends Gu{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new q_(e.radius,e.detail)}}class X_ extends hn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],l=[],c=[],d=new ie,f=new ie,g=new ie;for(let y=0;y<=r;y++)for(let x=0;x<=i;x++){const S=x/i*s,b=y/r*Math.PI*2;f.x=(e+n*Math.cos(b))*Math.cos(S),f.y=(e+n*Math.cos(b))*Math.sin(S),f.z=n*Math.sin(b),o.push(f.x,f.y,f.z),d.x=e*Math.cos(S),d.y=e*Math.sin(S),g.subVectors(f,d).normalize(),l.push(g.x,g.y,g.z),c.push(x/i),c.push(y/r)}for(let y=1;y<=r;y++)for(let x=1;x<=i;x++){const S=(i+1)*y+x-1,b=(i+1)*(y-1)+x-1,_=(i+1)*(y-1)+x,E=(i+1)*y+x;a.push(S,b,E),a.push(b,_,E)}this.setIndex(a),this.setAttribute("position",new Tt(o,3)),this.setAttribute("normal",new Tt(l,3)),this.setAttribute("uv",new Tt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new X_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Y_ extends hn{constructor(e=1,n=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],d=[],f=new ie,g=new ie,y=new ie,x=new ie,S=new ie,b=new ie,_=new ie;for(let M=0;M<=r;++M){const P=M/r*s*Math.PI*2;E(P,s,a,e,y),E(P+.01,s,a,e,x),b.subVectors(x,y),_.addVectors(x,y),S.crossVectors(b,_),_.crossVectors(S,b),S.normalize(),_.normalize();for(let C=0;C<=i;++C){const N=C/i*Math.PI*2,O=-n*Math.cos(N),D=n*Math.sin(N);f.x=y.x+(O*_.x+D*S.x),f.y=y.y+(O*_.y+D*S.y),f.z=y.z+(O*_.z+D*S.z),l.push(f.x,f.y,f.z),g.subVectors(f,y).normalize(),c.push(g.x,g.y,g.z),d.push(M/r),d.push(C/i)}}for(let M=1;M<=r;M++)for(let P=1;P<=i;P++){const C=(i+1)*(M-1)+(P-1),N=(i+1)*M+(P-1),O=(i+1)*M+P,D=(i+1)*(M-1)+P;o.push(C,N,D),o.push(N,O,D)}this.setIndex(o),this.setAttribute("position",new Tt(l,3)),this.setAttribute("normal",new Tt(c,3)),this.setAttribute("uv",new Tt(d,2));function E(M,P,C,N,O){const D=Math.cos(M),U=Math.sin(M),L=C/P*M,I=Math.cos(L);O.x=N*(2+I)*.5*D,O.y=N*(2+I)*U*.5,O.z=N*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Y_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class K_ extends hn{constructor(e=new EO(new ie(-1,-1,0),new ie(-1,1,0),new ie(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(n,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new ie,l=new ie,c=new $e;let d=new ie;const f=[],g=[],y=[],x=[];S(),this.setIndex(x),this.setAttribute("position",new Tt(f,3)),this.setAttribute("normal",new Tt(g,3)),this.setAttribute("uv",new Tt(y,2));function S(){for(let M=0;M<n;M++)b(M);b(s===!1?n:0),E(),_()}function b(M){d=e.getPointAt(M/n,d);const P=a.normals[M],C=a.binormals[M];for(let N=0;N<=i;N++){const O=N/i*Math.PI*2,D=Math.sin(O),U=-Math.cos(O);l.x=U*P.x+D*C.x,l.y=U*P.y+D*C.y,l.z=U*P.z+D*C.z,l.normalize(),g.push(l.x,l.y,l.z),o.x=d.x+r*l.x,o.y=d.y+r*l.y,o.z=d.z+r*l.z,f.push(o.x,o.y,o.z)}}function _(){for(let M=1;M<=n;M++)for(let P=1;P<=i;P++){const C=(i+1)*(M-1)+(P-1),N=(i+1)*M+(P-1),O=(i+1)*M+P,D=(i+1)*(M-1)+P;x.push(C,N,D),x.push(N,O,D)}}function E(){for(let M=0;M<=n;M++)for(let P=0;P<=i;P++)c.x=M/n,c.y=P/i,y.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new K_(new Cw[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class qW extends hn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ie,s=new ie;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const f=l[c],g=f.start,y=f.count;for(let x=g,S=g+y;x<S;x+=3)for(let b=0;b<3;b++){const _=o.getX(x+b),E=o.getX(x+(b+1)%3);i.fromBufferAttribute(a,_),s.fromBufferAttribute(a,E),kz(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const d=3*o+c,f=3*o+(c+1)%3;i.fromBufferAttribute(a,d),s.fromBufferAttribute(a,f),kz(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Tt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function kz(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var Oz=Object.freeze({__proto__:null,BoxGeometry:Xf,CapsuleGeometry:U_,CircleGeometry:z_,ConeGeometry:V_,CylinderGeometry:qm,DodecahedronGeometry:Ay,EdgesGeometry:HW,ExtrudeGeometry:$_,IcosahedronGeometry:Ty,LatheGeometry:Ey,OctahedronGeometry:Xm,PlaneGeometry:Wm,PolyhedronGeometry:Gu,RingGeometry:W_,ShapeGeometry:G_,SphereGeometry:Py,TetrahedronGeometry:q_,TorusGeometry:X_,TorusKnotGeometry:Y_,TubeGeometry:K_,WireframeGeometry:qW});class XW extends Ji{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new bt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class YW extends Mo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class TO extends Ji{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new bt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$u,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fa,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KW extends TO{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Pr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new bt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new bt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new bt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class ZW extends Ji{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new bt(16777215),this.specular=new bt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$u,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fa,this.combine=xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class JW extends Ji{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new bt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$u,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class QW extends Ji{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$u,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class eG extends Ji{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$u,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fa,this.combine=xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tG extends Ji{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$u,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nG extends bs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function xf(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function rG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function iG(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function WN(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,a=0;a!==r;++s){const o=n[s]*e;for(let l=0;l!==e;++l)i[a++]=t[o+l]}return i}function PO(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),n.push.apply(n,a)),s=t[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),n.push(a)),s=t[i++];while(s!==void 0)}function P2e(t,e,n,r,i=30){const s=t.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),f=[],g=[];for(let y=0;y<c.times.length;++y){const x=c.times[y]*i;if(!(x<n||x>=r)){f.push(c.times[y]);for(let S=0;S<d;++S)g.push(c.values[y*d+S])}}f.length!==0&&(c.times=xf(f,c.times.constructor),c.values=xf(g,c.values.constructor),a.push(c))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function C2e(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let a=0;a<i;++a){const o=n.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(_){return _.name===o.name&&_.ValueTypeName===l});if(c===void 0)continue;let d=0;const f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);let g=0;const y=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);const x=o.times.length-1;let S;if(s<=o.times[0]){const _=d,E=f-d;S=o.values.slice(_,E)}else if(s>=o.times[x]){const _=x*f+d,E=_+f-d;S=o.values.slice(_,E)}else{const _=o.createInterpolant(),E=d,M=f-d;_.evaluate(s),S=_.resultBuffer.slice(E,M)}l==="quaternion"&&new js().fromArray(S).normalize().conjugate().toArray(S);const b=c.times.length;for(let _=0;_<b;++_){const E=_*y+g;if(l==="quaternion")js.multiplyQuaternionsFlat(c.values,E,S,0,c.values,E);else{const M=y-g*2;for(let P=0;P<M;++P)c.values[E+P]-=S[P]}}}return t.blendMode=sO,t}const N2e={convertArray:xf,isTypedArray:rG,getKeyframeOrder:iG,sortedArray:WN,flattenJSON:PO,subclip:P2e,makeClipAdditive:C2e};class Cy{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(s=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=s)){const o=n[1];e<o&&(r=2,s=o);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const o=r+a>>>1;e<n[o]?a=o:r=o+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)n[a]=r[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class sG extends Cy{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:gf,endingEnd:gf}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],l=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case vf:s=e,o=2*n-r;break;case Hv:s=i.length-2,o=n+i[s]-i[s+1];break;default:s=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case vf:a=e,l=2*r-n;break;case Hv:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const c=(r-n)*.5,d=this.valueSize;this._weightPrev=c/(n-o),this._weightNext=c/(l-r),this._offsetPrev=s*d,this._offsetNext=a*d}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,d=this._offsetPrev,f=this._offsetNext,g=this._weightPrev,y=this._weightNext,x=(r-n)/(i-n),S=x*x,b=S*x,_=-g*b+2*g*S-g*x,E=(1+g)*b+(-1.5-2*g)*S+(-.5+g)*x+1,M=(-1-y)*b+(1.5+y)*S+.5*x,P=y*b-y*S;for(let C=0;C!==o;++C)s[C]=_*a[d+C]+E*a[c+C]+M*a[l+C]+P*a[f+C];return s}}class CO extends Cy{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,d=(r-n)/(i-n),f=1-d;for(let g=0;g!==o;++g)s[g]=a[c+g]*f+a[l+g]*d;return s}}class aG extends Cy{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class To{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=xf(n,this.TimeBufferType),this.values=xf(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:xf(e.times,Array),values:xf(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new aG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new CO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new sG(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case zv:n=this.InterpolantFactoryMethodDiscrete;break;case Vv:n=this.InterpolantFactoryMethodLinear;break;case l1:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zv;case this.InterpolantFactoryMethodLinear:return Vv;case this.InterpolantFactoryMethodSmooth:return l1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>n;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(i!==void 0&&rG(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===l1,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o],d=e[o+1];if(c!==d&&(o!==1||c!==e[0]))if(i)l=!0;else{const f=o*r,g=f-r,y=f+r;for(let x=0;x!==r;++x){const S=n[f+x];if(S!==n[g+x]||S!==n[y+x]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const f=o*r,g=a*r;for(let y=0;y!==r;++y)n[g+y]=n[f+y]}++a}}if(s>0){e[a]=e[s];for(let o=s*r,l=a*r,c=0;c!==r;++c)n[l+c]=n[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}To.prototype.TimeBufferType=Float32Array;To.prototype.ValueBufferType=Float32Array;To.prototype.DefaultInterpolation=Vv;class Yf extends To{}Yf.prototype.ValueTypeName="bool";Yf.prototype.ValueBufferType=Array;Yf.prototype.DefaultInterpolation=zv;Yf.prototype.InterpolantFactoryMethodLinear=void 0;Yf.prototype.InterpolantFactoryMethodSmooth=void 0;class NO extends To{}NO.prototype.ValueTypeName="color";class ey extends To{}ey.prototype.ValueTypeName="number";class oG extends Cy{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(r-n)/(i-n);let c=e*o;for(let d=c+o;c!==d;c+=4)js.slerpFlat(s,0,a,c-o,a,c,l);return s}}class Ym extends To{InterpolantFactoryMethodLinear(e){return new oG(this.times,this.values,this.getValueSize(),e)}}Ym.prototype.ValueTypeName="quaternion";Ym.prototype.DefaultInterpolation=Vv;Ym.prototype.InterpolantFactoryMethodSmooth=void 0;class Kf extends To{}Kf.prototype.ValueTypeName="string";Kf.prototype.ValueBufferType=Array;Kf.prototype.DefaultInterpolation=zv;Kf.prototype.InterpolantFactoryMethodLinear=void 0;Kf.prototype.InterpolantFactoryMethodSmooth=void 0;class ty extends To{}ty.prototype.ValueTypeName="vector";class ny{constructor(e,n=-1,r,i=N_){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=ua(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)n.push(k2e(r[a]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=r.length;s!==a;++s)n.push(To.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const d=iG(l);l=WN(l,1,d),c=WN(c,1,d),!i&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new ey(".morphTargetInfluences["+n[o].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],d=c.name.match(s);if(d&&d.length>1){const f=d[1];let g=i[f];g||(i[f]=g=[]),g.push(c)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,g,y,x,S){if(y.length!==0){const b=[],_=[];PO(y,b,_,x),b.length!==0&&S.push(new f(g,b,_))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const g=c[f].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const y={};let x;for(x=0;x<g.length;x++)if(g[x].morphTargets)for(let S=0;S<g[x].morphTargets.length;S++)y[g[x].morphTargets[S]]=-1;for(const S in y){const b=[],_=[];for(let E=0;E!==g[x].morphTargets.length;++E){const M=g[x];b.push(M.time),_.push(M.morphTarget===S?1:0)}i.push(new ey(".morphTargetInfluence["+S+"]",b,_))}l=y.length*a}else{const y=".bones["+n[f].name+"]";r(ty,y+".position",g,"pos",i),r(Ym,y+".quaternion",g,"rot",i),r(ty,y+".scale",g,"scl",i)}}return i.length===0?null:new this(s,l,i,o)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function R2e(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ey;case"vector":case"vector2":case"vector3":case"vector4":return ty;case"color":return NO;case"quaternion":return Ym;case"bool":case"boolean":return Yf;case"string":return Kf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function k2e(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=R2e(t.type);if(t.times===void 0){const n=[],r=[];PO(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ec={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class RO{constructor(e,n,r){const i=this;let s=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(d){o++,s===!1&&i.onStart!==void 0&&i.onStart(d,a,o),s=!0},this.itemEnd=function(d){a++,i.onProgress!==void 0&&i.onProgress(d,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,f){return c.push(d,f),this},this.removeHandler=function(d){const f=c.indexOf(d);return f!==-1&&c.splice(f,2),this},this.getHandler=function(d){for(let f=0,g=c.length;f<g;f+=2){const y=c[f],x=c[f+1];if(y.global&&(y.lastIndex=0),y.test(d))return x}return null}}}const lG=new RO;class Bs{constructor(e){this.manager=e!==void 0?e:lG,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Bs.DEFAULT_MATERIAL_NAME="__DEFAULT";const Gl={};class O2e extends Error{constructor(e,n){super(e),this.response=n}}class pc extends Bs{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ec.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Gl[e]!==void 0){Gl[e].push({onLoad:n,onProgress:r,onError:i});return}Gl[e]=[],Gl[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=Gl[e],f=c.body.getReader(),g=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),y=g?parseInt(g):0,x=y!==0;let S=0;const b=new ReadableStream({start(_){E();function E(){f.read().then(({done:M,value:P})=>{if(M)_.close();else{S+=P.byteLength;const C=new ProgressEvent("progress",{lengthComputable:x,loaded:S,total:y});for(let N=0,O=d.length;N<O;N++){const D=d[N];D.onProgress&&D.onProgress(C)}_.enqueue(P),E()}})}}});return new Response(b)}else throw new O2e(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,o));case"json":return c.json();default:if(o===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),g=f&&f[1]?f[1].toLowerCase():void 0,y=new TextDecoder(g);return c.arrayBuffer().then(x=>y.decode(x))}}}).then(c=>{ec.add(e,c);const d=Gl[e];delete Gl[e];for(let f=0,g=d.length;f<g;f++){const y=d[f];y.onLoad&&y.onLoad(c)}}).catch(c=>{const d=Gl[e];if(d===void 0)throw this.manager.itemError(e),c;delete Gl[e];for(let f=0,g=d.length;f<g;f++){const y=d[f];y.onError&&y.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class I2e extends Bs{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new pc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=ny.parse(e[r]);n.push(i)}return n}}class L2e extends Bs{constructor(e){super(e)}load(e,n,r,i){const s=this,a=[],o=new F_,l=new pc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(f){l.load(e[f],function(g){const y=s.parse(g,!0);a[f]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},c+=1,c===6&&(y.mipmapCount===1&&(o.minFilter=xr),o.image=a,o.format=y.format,o.needsUpdate=!0,n&&n(o))},r,i)}if(Array.isArray(e))for(let f=0,g=e.length;f<g;++f)d(f);else l.load(e,function(f){const g=s.parse(f,!0);if(g.isCubemap){const y=g.mipmaps.length/g.mipmapCount;for(let x=0;x<y;x++){a[x]={mipmaps:[]};for(let S=0;S<g.mipmapCount;S++)a[x].mipmaps.push(g.mipmaps[x*g.mipmapCount+S]),a[x].format=g.format,a[x].width=g.width,a[x].height=g.height}o.image=a}else o.image.width=g.width,o.image.height=g.height,o.mipmaps=g.mipmaps;g.mipmapCount===1&&(o.minFilter=xr),o.format=g.format,o.needsUpdate=!0,n&&n(o)},r,i);return o}}class ry extends Bs{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=ec.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const o=Yv("img");function l(){d(),ec.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(f){d(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class D2e extends Bs{constructor(e){super(e)}load(e,n,r,i){const s=new _y;s.colorSpace=Na;const a=new ry(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(d){s.images[c]=d,o++,o===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class j2e extends Bs{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new Cu,o=new pc(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let c;try{c=s.parse(l)}catch(d){if(i!==void 0)i(d);else{console.error(d);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Yi,a.wrapT=c.wrapT!==void 0?c.wrapT:Yi,a.magFilter=c.magFilter!==void 0?c.magFilter:xr,a.minFilter=c.minFilter!==void 0?c.minFilter:xr,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Wo),c.mipmapCount===1&&(a.minFilter=xr),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},r,i),a}}class F2e extends Bs{constructor(e){super(e)}load(e,n,r,i){const s=new Cr,a=new ry(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class qu extends Tn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new bt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class cG extends qu{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Tn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new bt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const BT=new qt,Iz=new ie,Lz=new ie;class kO{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $e(512,512),this.map=null,this.mapPass=null,this.matrix=new qt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Sy,this._frameExtents=new $e(1,1),this._viewportCount=1,this._viewports=[new Bn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;Iz.setFromMatrixPosition(e.matrixWorld),n.position.copy(Iz),Lz.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Lz),n.updateMatrixWorld(),BT.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BT),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(BT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class B2e extends kO{constructor(){super(new yi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Mm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class uG extends qu{constructor(e,n,r=0,i=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Tn.DEFAULT_UP),this.updateMatrix(),this.target=new Tn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new B2e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Dz=new qt,y0=new ie,UT=new ie;class U2e extends kO{constructor(){super(new yi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new $e(4,2),this._viewportCount=6,this._viewports=[new Bn(2,1,1,1),new Bn(0,1,1,1),new Bn(3,1,1,1),new Bn(1,1,1,1),new Bn(3,0,1,1),new Bn(1,0,1,1)],this._cubeDirections=[new ie(1,0,0),new ie(-1,0,0),new ie(0,0,1),new ie(0,0,-1),new ie(0,1,0),new ie(0,-1,0)],this._cubeUps=[new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,0,1),new ie(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),y0.setFromMatrixPosition(e.matrixWorld),r.position.copy(y0),UT.copy(r.position),UT.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(UT),r.updateMatrixWorld(),i.makeTranslation(-y0.x,-y0.y,-y0.z),Dz.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Dz)}}class dG extends qu{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new U2e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class z2e extends kO{constructor(){super(new My(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class fG extends qu{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Tn.DEFAULT_UP),this.updateMatrix(),this.target=new Tn,this.shadow=new z2e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class hG extends qu{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class pG extends qu{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class mG{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ie)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(r*s)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*r*s),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class gG extends qu{constructor(e=new mG,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Z_ extends Bs{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,a=new pc(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=Z_.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new bt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new bt().setHex(a.value);break;case"v2":i.uniforms[s].value=new $e().fromArray(a.value);break;case"v3":i.uniforms[s].value=new ie().fromArray(a.value);break;case"v4":i.uniforms[s].value=new Bn().fromArray(a.value);break;case"m3":i.uniforms[s].value=new on().fromArray(a.value);break;case"m4":i.uniforms[s].value=new qt().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new $e().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new $e().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:XW,SpriteMaterial:yO,RawShaderMaterial:YW,ShaderMaterial:Mo,PointsMaterial:bO,MeshPhysicalMaterial:KW,MeshStandardMaterial:TO,MeshPhongMaterial:ZW,MeshToonMaterial:JW,MeshNormalMaterial:QW,MeshLambertMaterial:eG,MeshDepthMaterial:pO,MeshDistanceMaterial:mO,MeshBasicMaterial:Wu,MeshMatcapMaterial:tG,LineDashedMaterial:nG,LineBasicMaterial:bs,Material:Ji};return new n[e]}}class GN{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class vG extends hn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class yG extends Bs{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new pc(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(y,x){if(n[x]!==void 0)return n[x];const b=y.interleavedBuffers[x],_=s(y,b.buffer),E=Lp(b.type,_),M=new D_(E,b.stride);return M.uuid=b.uuid,n[x]=M,M}function s(y,x){if(r[x]!==void 0)return r[x];const b=y.arrayBuffers[x],_=new Uint32Array(b).buffer;return r[x]=_,_}const a=e.isInstancedBufferGeometry?new vG:new hn,o=e.data.index;if(o!==void 0){const y=Lp(o.type,o.array);a.setIndex(new Gn(y,1))}const l=e.data.attributes;for(const y in l){const x=l[y];let S;if(x.isInterleavedBufferAttribute){const b=i(e.data,x.data);S=new jf(b,x.itemSize,x.offset,x.normalized)}else{const b=Lp(x.type,x.array),_=x.isInstancedBufferAttribute?Am:Gn;S=new _(b,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),x.usage!==void 0&&S.setUsage(x.usage),a.setAttribute(y,S)}const c=e.data.morphAttributes;if(c)for(const y in c){const x=c[y],S=[];for(let b=0,_=x.length;b<_;b++){const E=x[b];let M;if(E.isInterleavedBufferAttribute){const P=i(e.data,E.data);M=new jf(P,E.itemSize,E.offset,E.normalized)}else{const P=Lp(E.type,E.array);M=new Gn(P,E.itemSize,E.normalized)}E.name!==void 0&&(M.name=E.name),S.push(M)}a.morphAttributes[y]=S}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let y=0,x=f.length;y!==x;++y){const S=f[y];a.addGroup(S.start,S.count,S.materialIndex)}const g=e.data.boundingSphere;if(g!==void 0){const y=new ie;g.center!==void 0&&y.fromArray(g.center),a.boundingSphere=new Zi(y,g.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class V2e extends Bs{constructor(e){super(e)}load(e,n,r,i){const s=this,a=this.path===""?GN.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new pc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?GN.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new pc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,n),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,s,l,o,r),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),n!==void 0){let f=!1;for(const g in a)if(a[g].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Tf().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new j_().fromJSON(e[s],i);r[o.uuid]=o}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new yG;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in Oz?o=Oz[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new Z_;s.setTextures(n);for(let a=0,o=e.length;a<o;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=ny.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function a(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(d)}else return l.data?{data:Lp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new RO(n);s=new ry(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const f=e[c],g=f.url;if(Array.isArray(g)){const y=[];for(let x=0,S=g.length;x<S;x++){const b=g[x],_=o(b);_!==null&&(_ instanceof HTMLImageElement?y.push(_):y.push(new Cu(_.data,_.width,_.height)))}i[f.uuid]=new yf(y)}else{const y=o(f.url);i[f.uuid]=new yf(y)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await i.loadAsync(l)}else return a.data?{data:Lp(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new ry(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const d=[];for(let f=0,g=c.length;f<g;f++){const y=c[f],x=await s(y);x!==null&&(x instanceof HTMLImageElement?d.push(x):d.push(new Cu(x.data,x.width,x.height)))}r[l.uuid]=new yf(d)}else{const d=await s(l.url);r[l.uuid]=new yf(d)}}}return r}parseTextures(e,n){function r(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],c=l.data;let d;Array.isArray(c)?(d=new _y,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new Cu:d=new Cr,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=o.uuid,o.name!==void 0&&(d.name=o.name),o.mapping!==void 0&&(d.mapping=r(o.mapping,H2e)),o.channel!==void 0&&(d.channel=o.channel),o.offset!==void 0&&d.offset.fromArray(o.offset),o.repeat!==void 0&&d.repeat.fromArray(o.repeat),o.center!==void 0&&d.center.fromArray(o.center),o.rotation!==void 0&&(d.rotation=o.rotation),o.wrap!==void 0&&(d.wrapS=r(o.wrap[0],jz),d.wrapT=r(o.wrap[1],jz)),o.format!==void 0&&(d.format=o.format),o.internalFormat!==void 0&&(d.internalFormat=o.internalFormat),o.type!==void 0&&(d.type=o.type),o.colorSpace!==void 0&&(d.colorSpace=o.colorSpace),o.minFilter!==void 0&&(d.minFilter=r(o.minFilter,Fz)),o.magFilter!==void 0&&(d.magFilter=r(o.magFilter,Fz)),o.anisotropy!==void 0&&(d.anisotropy=o.anisotropy),o.flipY!==void 0&&(d.flipY=o.flipY),o.generateMipmaps!==void 0&&(d.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(d.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(d.compareFunction=o.compareFunction),o.userData!==void 0&&(d.userData=o.userData),i[o.uuid]=d}return i}parseObject(e,n,r,i,s){let a;function o(g){return n[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),n[g]}function l(g){if(g!==void 0){if(Array.isArray(g)){const y=[];for(let x=0,S=g.length;x<S;x++){const b=g[x];r[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),y.push(r[b])}return y}return r[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),r[g]}}function c(g){return i[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",g),i[g]}let d,f;switch(e.type){case"Scene":a=new vO,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new bt(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new L_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new I_(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new yi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new My(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new hG(e.color,e.intensity);break;case"DirectionalLight":a=new fG(e.color,e.intensity);break;case"PointLight":a=new dG(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new pG(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new uG(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new cG(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new gG().fromJSON(e);break;case"SkinnedMesh":d=o(e.geometry),f=l(e.material),a=new OW(d,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":d=o(e.geometry),f=l(e.material),a=new qr(d,f);break;case"InstancedMesh":d=o(e.geometry),f=l(e.material);const g=e.count,y=e.instanceMatrix,x=e.instanceColor;a=new IW(d,f,g),a.instanceMatrix=new Am(new Float32Array(y.array),16),x!==void 0&&(a.instanceColor=new Am(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":d=o(e.geometry),f=l(e.material),a=new LW(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=d,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(S=>{const b=new xs;b.min.fromArray(S.boxMin),b.max.fromArray(S.boxMax);const _=new Zi;return _.radius=S.sphereRadius,_.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:b,sphereInitialized:S.sphereInitialized,sphere:_}}),a._maxGeometryCount=e.maxGeometryCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":a=new kW;break;case"Line":a=new Iu(o(e.geometry),l(e.material));break;case"LineLoop":a=new DW(o(e.geometry),l(e.material));break;case"LineSegments":a=new al(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new jW(o(e.geometry),l(e.material));break;case"Sprite":a=new RW(l(e.material));break;case"Group":a=new Fp;break;case"Bone":a=new xO;break;default:a=new Tn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const g=e.children;for(let y=0;y<g.length;y++)a.add(this.parseObject(g[y],n,r,i,s))}if(e.animations!==void 0){const g=e.animations;for(let y=0;y<g.length;y++){const x=g[y];a.animations.push(s[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const g=e.levels;for(let y=0;y<g.length;y++){const x=g[y],S=a.getObjectByProperty("uuid",x.object);S!==void 0&&a.addLevel(S,x.distance,x.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const H2e={UVMapping:P_,CubeReflectionMapping:hc,CubeRefractionMapping:Ou,EquirectangularReflectionMapping:jv,EquirectangularRefractionMapping:Fv,CubeUVReflectionMapping:Hm},jz={RepeatWrapping:Bv,ClampToEdgeWrapping:Yi,MirroredRepeatWrapping:Uv},Fz={NearestFilter:Lr,NearestMipmapNearestFilter:Aw,NearestMipmapLinearFilter:af,LinearFilter:xr,LinearMipmapNearestFilter:H0,LinearMipmapLinearFilter:Wo};class $2e extends Bs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=ec.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(c=>{n&&n(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return ec.add(e,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),ec.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});ec.add(e,l),s.manager.itemStart(e)}}let Lb;class OO{static getContext(){return Lb===void 0&&(Lb=new(window.AudioContext||window.webkitAudioContext)),Lb}static setContext(e){Lb=e}}class W2e extends Bs{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new pc(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);OO.getContext().decodeAudioData(c,function(f){n(f)}).catch(o)}catch(c){o(c)}},r,i);function o(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const Bz=new qt,Uz=new qt,Gd=new qt;class G2e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new yi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new yi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Gd.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,a=n.near*Math.tan(Ef*n.fov*.5)/n.zoom;let o,l;Uz.elements[12]=-i,Bz.elements[12]=i,o=-a*n.aspect+s,l=a*n.aspect+s,Gd.elements[0]=2*n.near/(l-o),Gd.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(Gd),o=-a*n.aspect-s,l=a*n.aspect-s,Gd.elements[0]=2*n.near/(l-o),Gd.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(Gd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Uz),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Bz)}}class IO{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=zz(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=zz();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function zz(){return(typeof performance>"u"?Date:performance).now()}const qd=new ie,Vz=new js,q2e=new ie,Xd=new ie;class X2e extends Tn{constructor(){super(),this.type="AudioListener",this.context=OO.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new IO}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(qd,Vz,q2e),Xd.set(0,0,-1).applyQuaternion(Vz),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(qd.x,i),n.positionY.linearRampToValueAtTime(qd.y,i),n.positionZ.linearRampToValueAtTime(qd.z,i),n.forwardX.linearRampToValueAtTime(Xd.x,i),n.forwardY.linearRampToValueAtTime(Xd.y,i),n.forwardZ.linearRampToValueAtTime(Xd.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(qd.x,qd.y,qd.z),n.setOrientation(Xd.x,Xd.y,Xd.z,r.x,r.y,r.z)}}class xG extends Tn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Yd=new ie,Hz=new js,Y2e=new ie,Kd=new ie;class K2e extends xG{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Yd,Hz,Y2e),Kd.set(0,0,1).applyQuaternion(Hz);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Yd.x,r),n.positionY.linearRampToValueAtTime(Yd.y,r),n.positionZ.linearRampToValueAtTime(Yd.z,r),n.orientationX.linearRampToValueAtTime(Kd.x,r),n.orientationY.linearRampToValueAtTime(Kd.y,r),n.orientationZ.linearRampToValueAtTime(Kd.z,r)}else n.setPosition(Yd.x,Yd.y,Yd.z),n.setOrientation(Kd.x,Kd.y,Kd.z)}}class Z2e{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class bG{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,a;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[s+o]=r[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(r,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,a=i;s!==a;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){js.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const a=this._workIndex*s;js.multiplyQuaternionsFlat(e,a,e,n,e,r),js.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,s){const a=1-i;for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]*a+e[r+o]*i}}_lerpAdditive(e,n,r,i,s){for(let a=0;a!==s;++a){const o=n+a;e[o]=e[o]+e[r+a]*i}}}const LO="\\[\\]\\.:\\/",J2e=new RegExp("["+LO+"]","g"),DO="[^"+LO+"]",Q2e="[^"+LO.replace("\\.","")+"]",eMe=/((?:WC+[\/:])*)/.source.replace("WC",DO),tMe=/(WCOD+)?/.source.replace("WCOD",Q2e),nMe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",DO),rMe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",DO),iMe=new RegExp("^"+eMe+tMe+nMe+rMe+"$"),sMe=["material","materials","bones","map"];class aMe{constructor(e,n,r){const i=r||Mn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Mn{constructor(e,n,r){this.path=n,this.parsedPath=r||Mn.parseTrackName(n),this.node=Mn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Mn.Composite(e,n,r):new Mn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(J2e,"")}static parseTrackName(e){const n=iMe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);sMe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===n||o.uuid===n)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Mn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Mn.Composite=aMe;Mn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Mn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Mn.prototype.GetterByBindingType=[Mn.prototype._getValue_direct,Mn.prototype._getValue_array,Mn.prototype._getValue_arrayElement,Mn.prototype._getValue_toArray];Mn.prototype.SetterByBindingTypeAndVersioning=[[Mn.prototype._setValue_direct,Mn.prototype._setValue_direct_setNeedsUpdate,Mn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_array,Mn.prototype._setValue_array_setNeedsUpdate,Mn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_arrayElement,Mn.prototype._setValue_arrayElement_setNeedsUpdate,Mn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_fromArray,Mn.prototype._setValue_fromArray_setNeedsUpdate,Mn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class oMe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ua(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,c=this.nCachedObjects_;for(let d=0,f=arguments.length;d!==f;++d){const g=arguments[d],y=g.uuid;let x=n[y];if(x===void 0){x=l++,n[y]=x,e.push(g);for(let S=0,b=a;S!==b;++S)s[S].push(new Mn(g,r[S],i[S]))}else if(x<c){o=e[x];const S=--c,b=e[S];n[b.uuid]=x,e[x]=b,n[y]=S,e[S]=g;for(let _=0,E=a;_!==E;++_){const M=s[_],P=M[S];let C=M[x];M[x]=P,C===void 0&&(C=new Mn(g,r[_],i[_])),M[S]=C}}else e[x]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,d=n[c];if(d!==void 0&&d>=s){const f=s++,g=e[f];n[g.uuid]=d,e[d]=g,n[c]=f,e[f]=l;for(let y=0,x=i;y!==x;++y){const S=r[y],b=S[f],_=S[d];S[d]=b,S[f]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],d=c.uuid,f=n[d];if(f!==void 0)if(delete n[d],f<s){const g=--s,y=e[g],x=--a,S=e[x];n[y.uuid]=f,e[f]=y,n[S.uuid]=g,e[g]=S,e.pop();for(let b=0,_=i;b!==_;++b){const E=r[b],M=E[g],P=E[x];E[f]=M,E[g]=P,E.pop()}}else{const g=--a,y=e[g];g>0&&(n[y.uuid]=f),e[f]=y,e.pop();for(let x=0,S=i;x!==S;++x){const b=r[x];b[f]=b[g],b.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,a.push(e),o.push(n),s.push(f);for(let g=d,y=l.length;g!==y;++g){const x=l[g];f[g]=new Mn(x,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];n[c]=r,a[r]=l,a.pop(),s[r]=s[o],s.pop(),i[r]=i[o],i.pop()}}}class wG{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,a=s.length,o=new Array(a),l={endingStart:gf,endingEnd:gf};for(let c=0;c!==a;++c){const d=s[c].createInterpolant(null);o[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=eW,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case sO:for(let d=0,f=l.length;d!==f;++d)l[d].evaluate(a),c[d].accumulateAdditive(o);break;case N_:default:for(let d=0,f=l.length;d!==f;++d)l[d].evaluate(a),c[d].accumulate(i,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===tW;if(e===0)return s===-1?i:a&&(s&1)===1?n-i:i;if(r===Q9){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const o=Math.floor(i/n);i-=n*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=vf,i.endingEnd=vf):(e?i.endingStart=this.zeroSlopeAtStart?vf:gf:i.endingStart=Hv,n?i.endingEnd=this.zeroSlopeAtEnd?vf:gf:i.endingEnd=Hv)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=n,o[1]=s+e,l[1]=r,this}}const lMe=new Float32Array(1);class cMe extends wc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let f=0;f!==s;++f){const g=i[f],y=g.name;let x=d[y];if(x!==void 0)++x.referenceCount,a[f]=x;else{if(x=a[f],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,y));continue}const S=n&&n._propertyBindings[f].binding.parsedPath;x=new bG(Mn.create(r,y,S),g.ValueTypeName,g.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,y),a[f]=x}o[f].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const f=o.actionByRoot,g=(e._localRoot||this._root).uuid;delete f[g],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,o=a[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new CO(new Float32Array(2),new Float32Array(2),1,lMe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let a=typeof e=="string"?ny.findByName(i,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=N_),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const d=new wG(this,a,n,r);return this._bindAction(d,c),this._addInactiveAction(d,o,s),d}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?ny.findByName(r,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const d=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=d,n[d]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const o=r[a].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class jO{constructor(e){this.value=e}clone(){return new jO(this.value.clone===void 0?this.value:this.value.clone())}}let uMe=0;class dMe extends wc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:uMe++}),this.name="",this.usage=qv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class fMe extends D_{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class hMe{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const $z=new qt;class _G{constructor(e,n,r=0,i=1/0){this.ray=new $m(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Af,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return $z.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4($z),this}intersectObject(e,n=!0,r=[]){return qN(e,this,r,n),r.sort(Wz),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)qN(e[i],this,r,n);return r.sort(Wz),r}}function Wz(t,e){return t.distance-e.distance}function qN(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,a=i.length;s<a;s++)qN(i[s],e,n,!0)}}class pMe{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Pr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class mMe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const Gz=new $e;class gMe{constructor(e=new $e(1/0,1/0),n=new $e(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Gz.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Gz).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const qz=new ie,Db=new ie;class vMe{constructor(e=new ie,n=new ie){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){qz.subVectors(e,this.start),Db.subVectors(this.end,this.start);const r=Db.dot(Db);let s=Db.dot(qz)/r;return n&&(s=Pr(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Xz=new ie;class yMe extends Tn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new hn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,d=o/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new Tt(i,3));const s=new bs({fog:!1,toneMapped:!1});this.cone=new al(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),Xz.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Xz),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const uu=new ie,jb=new qt,zT=new qt;class xMe extends al{constructor(e){const n=SG(e),r=new hn,i=[],s=[],a=new bt(0,0,1),o=new bt(0,1,0);for(let c=0;c<n.length;c++){const d=n[c];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}r.setAttribute("position",new Tt(i,3)),r.setAttribute("color",new Tt(s,3));const l=new bs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");zT.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const o=n[s];o.parent&&o.parent.isBone&&(jb.multiplyMatrices(zT,o.matrixWorld),uu.setFromMatrixPosition(jb),i.setXYZ(a,uu.x,uu.y,uu.z),jb.multiplyMatrices(zT,o.parent.matrixWorld),uu.setFromMatrixPosition(jb),i.setXYZ(a+1,uu.x,uu.y,uu.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function SG(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,SG(t.children[n]));return e}class bMe extends qr{constructor(e,n,r){const i=new Py(n,4,2),s=new Wu({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const wMe=new ie,Yz=new bt,Kz=new bt;class _Me extends Tn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Xm(n);i.rotateY(Math.PI*.5),this.material=new Wu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new Gn(a,3)),this.add(new qr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");Yz.copy(this.light.color),Kz.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?Yz:Kz;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(wMe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class SMe extends al{constructor(e=10,n=10,r=4473924,i=8947848){r=new bt(r),i=new bt(i);const s=n/2,a=e/n,o=e/2,l=[],c=[];for(let g=0,y=0,x=-o;g<=n;g++,x+=a){l.push(-o,0,x,o,0,x),l.push(x,0,-o,x,0,o);const S=g===s?r:i;S.toArray(c,y),y+=3,S.toArray(c,y),y+=3,S.toArray(c,y),y+=3,S.toArray(c,y),y+=3}const d=new hn;d.setAttribute("position",new Tt(l,3)),d.setAttribute("color",new Tt(c,3));const f=new bs({vertexColors:!0,toneMapped:!1});super(d,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class MMe extends al{constructor(e=10,n=16,r=8,i=64,s=4473924,a=8947848){s=new bt(s),a=new bt(a);const o=[],l=[];if(n>1)for(let f=0;f<n;f++){const g=f/n*(Math.PI*2),y=Math.sin(g)*e,x=Math.cos(g)*e;o.push(0,0,0),o.push(y,0,x);const S=f&1?s:a;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let f=0;f<r;f++){const g=f&1?s:a,y=e-e/r*f;for(let x=0;x<i;x++){let S=x/i*(Math.PI*2),b=Math.sin(S)*y,_=Math.cos(S)*y;o.push(b,0,_),l.push(g.r,g.g,g.b),S=(x+1)/i*(Math.PI*2),b=Math.sin(S)*y,_=Math.cos(S)*y,o.push(b,0,_),l.push(g.r,g.g,g.b)}}const c=new hn;c.setAttribute("position",new Tt(o,3)),c.setAttribute("color",new Tt(l,3));const d=new bs({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Zz=new ie,Fb=new ie,Jz=new ie;class EMe extends Tn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new hn;i.setAttribute("position",new Tt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new bs({fog:!1,toneMapped:!1});this.lightPlane=new Iu(i,s),this.add(this.lightPlane),i=new hn,i.setAttribute("position",new Tt([0,0,0,0,0,1],3)),this.targetLine=new Iu(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Zz.setFromMatrixPosition(this.light.matrixWorld),Fb.setFromMatrixPosition(this.light.target.matrixWorld),Jz.subVectors(Fb,Zz),this.lightPlane.lookAt(Fb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Fb),this.targetLine.scale.z=Jz.length()}}const Bb=new ie,Er=new wy;class AMe extends al{constructor(e){const n=new hn,r=new bs({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(x,S){l(x),l(S)}function l(x){i.push(0,0,0),s.push(0,0,0),a[x]===void 0&&(a[x]=[]),a[x].push(i.length/3-1)}n.setAttribute("position",new Tt(i,3)),n.setAttribute("color",new Tt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new bt(16755200),d=new bt(16711680),f=new bt(43775),g=new bt(16777215),y=new bt(3355443);this.setColors(c,d,f,g,y)}setColors(e,n,r,i,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Er.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Or("c",n,e,Er,0,0,-1),Or("t",n,e,Er,0,0,1),Or("n1",n,e,Er,-1,-1,-1),Or("n2",n,e,Er,r,-1,-1),Or("n3",n,e,Er,-1,i,-1),Or("n4",n,e,Er,r,i,-1),Or("f1",n,e,Er,-1,-1,1),Or("f2",n,e,Er,r,-1,1),Or("f3",n,e,Er,-1,i,1),Or("f4",n,e,Er,r,i,1),Or("u1",n,e,Er,r*.7,i*1.1,-1),Or("u2",n,e,Er,-1*.7,i*1.1,-1),Or("u3",n,e,Er,0,i*2,-1),Or("cf1",n,e,Er,-1,0,1),Or("cf2",n,e,Er,r,0,1),Or("cf3",n,e,Er,0,-1,1),Or("cf4",n,e,Er,0,i,1),Or("cn1",n,e,Er,-1,0,-1),Or("cn2",n,e,Er,r,0,-1),Or("cn3",n,e,Er,0,-1,-1),Or("cn4",n,e,Er,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Or(t,e,n,r,i,s,a){Bb.set(i,s,a).unproject(r);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let c=0,d=o.length;c<d;c++)l.setXYZ(o[c],Bb.x,Bb.y,Bb.z)}}const Ub=new xs;class TMe extends al{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new hn;s.setIndex(new Gn(r,1)),s.setAttribute("position",new Gn(i,3)),super(s,new bs({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ub.setFromObject(this.object),Ub.isEmpty())return;const n=Ub.min,r=Ub.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class PMe extends al{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new hn;s.setIndex(new Gn(r,1)),s.setAttribute("position",new Tt(i,3)),super(s,new bs({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class CMe extends Iu{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new hn;a.setAttribute("position",new Tt(s,3)),a.computeBoundingSphere(),super(a,new bs({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new hn;l.setAttribute("position",new Tt(o,3)),l.computeBoundingSphere(),this.add(new qr(l,new Wu({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Qz=new ie;let zb,VT;class NMe extends Tn{constructor(e=new ie(0,0,1),n=new ie(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",zb===void 0&&(zb=new hn,zb.setAttribute("position",new Tt([0,0,0,0,1,0],3)),VT=new qm(0,.5,1,5,1),VT.translate(0,-.5,0)),this.position.copy(n),this.line=new Iu(zb,new bs({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new qr(VT,new Wu({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Qz.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(Qz,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class RMe extends al{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new hn;i.setAttribute("position",new Tt(n,3)),i.setAttribute("color",new Tt(r,3));const s=new bs({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new bt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class kMe{constructor(){this.type="ShapePath",this.color=new bt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Kv,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,a){return this.currentPath.bezierCurveTo(e,n,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(_){const E=[];for(let M=0,P=_.length;M<P;M++){const C=_[M],N=new Tf;N.curves=C.curves,E.push(N)}return E}function r(_,E){const M=E.length;let P=!1;for(let C=M-1,N=0;N<M;C=N++){let O=E[C],D=E[N],U=D.x-O.x,L=D.y-O.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(O=E[N],U=-U,D=E[C],L=-L),_.y<O.y||_.y>D.y)continue;if(_.y===O.y){if(_.x===O.x)return!0}else{const I=L*(_.x-O.x)-U*(_.y-O.y);if(I===0)return!0;if(I<0)continue;P=!P}}else{if(_.y!==O.y)continue;if(D.x<=_.x&&_.x<=O.x||O.x<=_.x&&_.x<=D.x)return!0}}return P}const i=tl.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const c=[];if(s.length===1)return o=s[0],l=new Tf,l.curves=o.curves,c.push(l),c;let d=!i(s[0].getPoints());d=e?!d:d;const f=[],g=[];let y=[],x=0,S;g[x]=void 0,y[x]=[];for(let _=0,E=s.length;_<E;_++)o=s[_],S=o.getPoints(),a=i(S),a=e?!a:a,a?(!d&&g[x]&&x++,g[x]={s:new Tf,p:S},g[x].s.curves=o.curves,d&&x++,y[x]=[]):y[x].push({h:o,p:S[0]});if(!g[0])return n(s);if(g.length>1){let _=!1,E=0;for(let M=0,P=g.length;M<P;M++)f[M]=[];for(let M=0,P=g.length;M<P;M++){const C=y[M];for(let N=0;N<C.length;N++){const O=C[N];let D=!0;for(let U=0;U<g.length;U++)r(O.p,g[U].p)&&(M!==U&&E++,D?(D=!1,f[U].push(O)):_=!0);D&&f[M].push(O)}}E>0&&_===!1&&(y=f)}let b;for(let _=0,E=g.length;_<E;_++){l=g[_].s,c.push(l),b=y[_];for(let M=0,P=b.length;M<P;M++)l.holes.push(b[M].h)}return c}}class OMe extends So{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:A_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=A_);const IMe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Kk,AddEquation:yu,AddOperation:F9,AdditiveAnimationBlendMode:sO,AdditiveBlending:aN,AgXToneMapping:H9,AlphaFormat:X9,AlwaysCompare:dW,AlwaysDepth:R9,AlwaysStencilFunc:jN,AmbientLight:hG,AnimationAction:wG,AnimationClip:ny,AnimationLoader:I2e,AnimationMixer:cMe,AnimationObjectGroup:oMe,AnimationUtils:N2e,ArcCurve:FW,ArrayCamera:PW,ArrowHelper:NMe,AttachedBindMode:dN,Audio:xG,AudioAnalyser:Z2e,AudioContext:OO,AudioListener:X2e,AudioLoader:W2e,AxesHelper:RMe,BackSide:ys,BasicDepthPacking:nW,BasicShadowMap:h9,BatchedMesh:LW,Bone:xO,BooleanKeyframeTrack:Yf,Box2:gMe,Box3:xs,Box3Helper:PMe,BoxGeometry:Xf,BoxHelper:TMe,BufferAttribute:Gn,BufferGeometry:hn,BufferGeometryLoader:yG,ByteType:G9,Cache:ec,Camera:wy,CameraHelper:AMe,CanvasTexture:e2e,CapsuleGeometry:U_,CatmullRomCurve3:BW,CineonToneMapping:z9,CircleGeometry:z_,ClampToEdgeWrapping:Yi,Clock:IO,Color:bt,ColorKeyframeTrack:NO,ColorManagement:Fn,CompressedArrayTexture:JSe,CompressedCubeTexture:QSe,CompressedTexture:F_,CompressedTextureLoader:L2e,ConeGeometry:V_,ConstantAlphaFactor:P9,ConstantColorFactor:A9,CubeCamera:xW,CubeReflectionMapping:hc,CubeRefractionMapping:Ou,CubeTexture:_y,CubeTextureLoader:D2e,CubeUVReflectionMapping:Hm,CubicBezierCurve:_O,CubicBezierCurve3:UW,CubicInterpolant:sG,CullFaceBack:sN,CullFaceFront:f9,CullFaceFrontBack:Fye,CullFaceNone:d9,Curve:Ao,CurvePath:VW,CustomBlending:p9,CustomToneMapping:V9,CylinderGeometry:qm,Cylindrical:mMe,Data3DTexture:cO,DataArrayTexture:k_,DataTexture:Cu,DataTextureLoader:j2e,DataUtils:Gxe,DecrementStencilOp:Yye,DecrementWrapStencilOp:Zye,DefaultLoadingManager:lG,DepthFormat:Pu,DepthStencilFormat:Df,DepthTexture:hO,DetachedBindMode:W9,DirectionalLight:fG,DirectionalLightHelper:EMe,DiscreteInterpolant:aG,DisplayP3ColorSpace:R_,DodecahedronGeometry:Ay,DoubleSide:bo,DstAlphaFactor:w9,DstColorFactor:S9,DynamicCopyUsage:fxe,DynamicDrawUsage:axe,DynamicReadUsage:cxe,EdgesGeometry:HW,EllipseCurve:B_,EqualCompare:oW,EqualDepth:O9,EqualStencilFunc:txe,EquirectangularReflectionMapping:jv,EquirectangularRefractionMapping:Fv,Euler:fa,EventDispatcher:wc,ExtrudeGeometry:$_,FileLoader:pc,Float16BufferAttribute:Jxe,Float32BufferAttribute:Tt,FloatType:sa,Fog:L_,FogExp2:I_,FramebufferTexture:ZSe,FrontSide:fc,Frustum:Sy,GLBufferAttribute:hMe,GLSL1:pxe,GLSL3:FN,GreaterCompare:lW,GreaterDepth:L9,GreaterEqualCompare:uW,GreaterEqualDepth:I9,GreaterEqualStencilFunc:sxe,GreaterStencilFunc:rxe,GridHelper:SMe,Group:Fp,HalfFloatType:Sm,HemisphereLight:cG,HemisphereLightHelper:_Me,IcosahedronGeometry:Ty,ImageBitmapLoader:$2e,ImageLoader:ry,ImageUtils:lO,IncrementStencilOp:Xye,IncrementWrapStencilOp:Kye,InstancedBufferAttribute:Am,InstancedBufferGeometry:vG,InstancedInterleavedBuffer:fMe,InstancedMesh:IW,Int16BufferAttribute:Kxe,Int32BufferAttribute:Zxe,Int8BufferAttribute:qxe,IntType:Zk,InterleavedBuffer:D_,InterleavedBufferAttribute:jf,Interpolant:Cy,InterpolateDiscrete:zv,InterpolateLinear:Vv,InterpolateSmooth:l1,InvertStencilOp:Jye,KeepStencilOp:nf,KeyframeTrack:To,LOD:kW,LatheGeometry:Ey,Layers:Af,LessCompare:aW,LessDepth:k9,LessEqualCompare:aO,LessEqualDepth:Dv,LessEqualStencilFunc:nxe,LessStencilFunc:exe,Light:qu,LightProbe:gG,Line:Iu,Line3:vMe,LineBasicMaterial:bs,LineCurve:SO,LineCurve3:zW,LineDashedMaterial:nG,LineLoop:DW,LineSegments:al,LinearDisplayP3ColorSpace:by,LinearFilter:xr,LinearInterpolant:CO,LinearMipMapLinearFilter:Vye,LinearMipMapNearestFilter:zye,LinearMipmapLinearFilter:Wo,LinearMipmapNearestFilter:H0,LinearSRGBColorSpace:bc,LinearToneMapping:B9,LinearTransfer:$v,Loader:Bs,LoaderUtils:GN,LoadingManager:RO,LoopOnce:Q9,LoopPingPong:tW,LoopRepeat:eW,LuminanceAlphaFormat:K9,LuminanceFormat:Y9,MOUSE:Dye,Material:Ji,MaterialLoader:Z_,MathUtils:Cxe,Matrix3:on,Matrix4:qt,MaxEquation:uN,Mesh:qr,MeshBasicMaterial:Wu,MeshDepthMaterial:pO,MeshDistanceMaterial:mO,MeshLambertMaterial:eG,MeshMatcapMaterial:tG,MeshNormalMaterial:QW,MeshPhongMaterial:ZW,MeshPhysicalMaterial:KW,MeshStandardMaterial:TO,MeshToonMaterial:JW,MinEquation:cN,MirroredRepeatWrapping:Uv,MixOperation:j9,MultiplyBlending:lN,MultiplyOperation:xy,NearestFilter:Lr,NearestMipMapLinearFilter:Uye,NearestMipMapNearestFilter:Bye,NearestMipmapLinearFilter:af,NearestMipmapNearestFilter:Aw,NeutralToneMapping:$9,NeverCompare:sW,NeverDepth:N9,NeverStencilFunc:Qye,NoBlending:sc,NoColorSpace:Xl,NoToneMapping:Qo,NormalAnimationBlendMode:N_,NormalBlending:Mf,NotEqualCompare:cW,NotEqualDepth:D9,NotEqualStencilFunc:ixe,NumberKeyframeTrack:ey,Object3D:Tn,ObjectLoader:V2e,ObjectSpaceNormalMap:iW,OctahedronGeometry:Xm,OneFactor:y9,OneMinusConstantAlphaFactor:C9,OneMinusConstantColorFactor:T9,OneMinusDstAlphaFactor:_9,OneMinusDstColorFactor:M9,OneMinusSrcAlphaFactor:Ew,OneMinusSrcColorFactor:b9,OrthographicCamera:My,P3Primaries:Gv,PCFShadowMap:T_,PCFSoftShadowMap:V0,PMREMGenerator:UN,Path:Kv,PerspectiveCamera:yi,Plane:mu,PlaneGeometry:Wm,PlaneHelper:CMe,PointLight:dG,PointLightHelper:bMe,Points:jW,PointsMaterial:bO,PolarGridHelper:MMe,PolyhedronGeometry:Gu,PositionalAudio:K2e,PropertyBinding:Mn,PropertyMixer:bG,QuadraticBezierCurve:MO,QuadraticBezierCurve3:EO,Quaternion:js,QuaternionKeyframeTrack:Ym,QuaternionLinearInterpolant:oG,RED_GREEN_RGTC2_Format:LN,RED_RGTC1_Format:J9,REVISION:A_,RGBADepthPacking:rW,RGBAFormat:hs,RGBAIntegerFormat:rO,RGBA_ASTC_10x10_Format:CN,RGBA_ASTC_10x5_Format:AN,RGBA_ASTC_10x6_Format:TN,RGBA_ASTC_10x8_Format:PN,RGBA_ASTC_12x10_Format:NN,RGBA_ASTC_12x12_Format:RN,RGBA_ASTC_4x4_Format:yN,RGBA_ASTC_5x4_Format:xN,RGBA_ASTC_5x5_Format:bN,RGBA_ASTC_6x5_Format:wN,RGBA_ASTC_6x6_Format:_N,RGBA_ASTC_8x5_Format:SN,RGBA_ASTC_8x6_Format:MN,RGBA_ASTC_8x8_Format:EN,RGBA_BPTC_Format:o1,RGBA_ETC2_EAC_Format:vN,RGBA_PVRTC_2BPPV1_Format:mN,RGBA_PVRTC_4BPPV1_Format:pN,RGBA_S3TC_DXT1_Format:i1,RGBA_S3TC_DXT3_Format:s1,RGBA_S3TC_DXT5_Format:a1,RGB_BPTC_SIGNED_Format:kN,RGB_BPTC_UNSIGNED_Format:ON,RGB_ETC1_Format:iO,RGB_ETC2_Format:gN,RGB_PVRTC_2BPPV1_Format:hN,RGB_PVRTC_4BPPV1_Format:fN,RGB_S3TC_DXT1_Format:r1,RGFormat:Z9,RGIntegerFormat:nO,RawShaderMaterial:YW,Ray:$m,Raycaster:_G,Rec709Primaries:Wv,RectAreaLight:pG,RedFormat:eO,RedIntegerFormat:tO,ReinhardToneMapping:U9,RenderTarget:mW,RepeatWrapping:Bv,ReplaceStencilOp:qye,ReverseSubtractEquation:g9,RingGeometry:W_,SIGNED_RED_GREEN_RGTC2_Format:DN,SIGNED_RED_RGTC1_Format:IN,SRGBColorSpace:Na,SRGBTransfer:Qn,Scene:vO,ShaderChunk:fn,ShaderLib:yo,ShaderMaterial:Mo,ShadowMaterial:XW,Shape:Tf,ShapeGeometry:G_,ShapePath:kMe,ShapeUtils:tl,ShortType:q9,Skeleton:j_,SkeletonHelper:xMe,SkinnedMesh:OW,Source:yf,Sphere:Zi,SphereGeometry:Py,Spherical:pMe,SphericalHarmonics3:mG,SplineCurve:AO,SpotLight:uG,SpotLightHelper:yMe,Sprite:RW,SpriteMaterial:yO,SrcAlphaFactor:Mw,SrcAlphaSaturateFactor:E9,SrcColorFactor:x9,StaticCopyUsage:dxe,StaticDrawUsage:qv,StaticReadUsage:lxe,StereoCamera:G2e,StreamCopyUsage:hxe,StreamDrawUsage:oxe,StreamReadUsage:uxe,StringKeyframeTrack:Kf,SubtractEquation:m9,SubtractiveBlending:oN,TOUCH:jye,TangentSpaceNormalMap:$u,TetrahedronGeometry:q_,Texture:Cr,TextureLoader:F2e,TorusGeometry:X_,TorusKnotGeometry:Y_,Triangle:aa,TriangleFanDrawMode:Wye,TriangleStripDrawMode:$ye,TrianglesDrawMode:Hye,TubeGeometry:K_,UVMapping:P_,Uint16BufferAttribute:uO,Uint32BufferAttribute:dO,Uint8BufferAttribute:Xxe,Uint8ClampedBufferAttribute:Yxe,Uniform:jO,UniformsGroup:dMe,UniformsLib:ct,UniformsUtils:yW,UnsignedByteType:el,UnsignedInt248Type:Tu,UnsignedIntType:Ql,UnsignedShort4444Type:Jk,UnsignedShort5551Type:Qk,UnsignedShortType:C_,VSMShadowMap:po,Vector2:$e,Vector3:ie,Vector4:Bn,VectorKeyframeTrack:ty,VideoTexture:KSe,WebGL1Renderer:CW,WebGL3DRenderTarget:Lxe,WebGLArrayRenderTarget:Ixe,WebGLCoordinateSystem:Go,WebGLCubeRenderTarget:bW,WebGLMultipleRenderTargets:OMe,WebGLRenderTarget:So,WebGLRenderer:gO,WebGLUtils:TW,WebGPUCoordinateSystem:Xv,WireframeGeometry:qW,WrapAroundEnding:Hv,ZeroCurvatureEnding:gf,ZeroFactor:v9,ZeroSlopeEnding:vf,ZeroStencilOp:Gye,_SRGBAFormat:Tw,createCanvasElement:hW},Symbol.toStringTag,{value:"Module"}));var HT={exports:{}},du={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e6;function LMe(){return e6||(e6=1,du.ConcurrentRoot=1,du.ContinuousEventPriority=4,du.DefaultEventPriority=16,du.DiscreteEventPriority=1,du.IdleEventPriority=536870912,du.LegacyRoot=0),du}var t6;function DMe(){return t6||(t6=1,HT.exports=LMe()),HT.exports}var Up=DMe();function jMe(t){let e;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const g=e;e=d?f:Object.assign({},e,f),n.forEach(y=>y(e,g))}},i=()=>e,s=(c,d=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let g=d(e);function y(){const x=d(e);if(!f(g,x)){const S=g;c(g=x,S)}}return n.add(y),()=>n.delete(y)},l={setState:r,getState:i,subscribe:(c,d,f)=>d||f?s(c,d,f):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const FMe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),n6=FMe?B.useEffect:B.useLayoutEffect;function BMe(t){const e=typeof t=="function"?jMe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=B.useReducer(b=>b+1,0),a=e.getState(),o=B.useRef(a),l=B.useRef(r),c=B.useRef(i),d=B.useRef(!1),f=B.useRef();f.current===void 0&&(f.current=r(a));let g,y=!1;(o.current!==a||l.current!==r||c.current!==i||d.current)&&(g=r(a),y=!i(f.current,g)),n6(()=>{y&&(f.current=g),o.current=a,l.current=r,c.current=i,d.current=!1});const x=B.useRef(a);n6(()=>{const b=()=>{try{const E=e.getState(),M=l.current(E);c.current(f.current,M)||(o.current=E,f.current=M,s())}catch{d.current=!0,s()}},_=e.subscribe(b);return e.getState()!==x.current&&b(),_},[]);const S=y?g:f.current;return B.useDebugValue(S),S};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var $T={exports:{}},WT={exports:{}},GT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r6;function UMe(){return r6||(r6=1,function(t){function e(H,J){var K=H.length;H.push(J);e:for(;0<K;){var q=K-1>>>1,ne=H[q];if(0<i(ne,J))H[q]=J,H[K]=ne,K=q;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],K=H.pop();if(K!==J){H[0]=K;e:for(var q=0,ne=H.length,ve=ne>>>1;q<ve;){var se=2*(q+1)-1,de=H[se],Ee=se+1,Ve=H[Ee];if(0>i(de,K))Ee<ne&&0>i(Ve,de)?(H[q]=Ve,H[Ee]=K,q=Ee):(H[q]=de,H[se]=K,q=se);else if(Ee<ne&&0>i(Ve,K))H[q]=Ve,H[Ee]=K,q=Ee;else break e}}return J}function i(H,J){var K=H.sortIndex-J.sortIndex;return K!==0?K:H.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,g=3,y=!1,x=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(H){for(var J=n(c);J!==null;){if(J.callback===null)r(c);else if(J.startTime<=H)r(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(c)}}function P(H){if(S=!1,M(H),!x)if(n(l)!==null)x=!0,ee(C);else{var J=n(c);J!==null&&re(P,J.startTime-H)}}function C(H,J){x=!1,S&&(S=!1,_(D),D=-1),y=!0;var K=g;try{for(M(J),f=n(l);f!==null&&(!(f.expirationTime>J)||H&&!I());){var q=f.callback;if(typeof q=="function"){f.callback=null,g=f.priorityLevel;var ne=q(f.expirationTime<=J);J=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),M(J)}else r(l);f=n(l)}if(f!==null)var ve=!0;else{var se=n(c);se!==null&&re(P,se.startTime-J),ve=!1}return ve}finally{f=null,g=K,y=!1}}var N=!1,O=null,D=-1,U=5,L=-1;function I(){return!(t.unstable_now()-L<U)}function $(){if(O!==null){var H=t.unstable_now();L=H;var J=!0;try{J=O(!0,H)}finally{J?X():(N=!1,O=null)}}else N=!1}var X;if(typeof E=="function")X=function(){E($)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Z=V.port2;V.port1.onmessage=$,X=function(){Z.postMessage(null)}}else X=function(){b($,0)};function ee(H){O=H,N||(N=!0,X())}function re(H,J){D=b(function(){H(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,ee(C))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var K=g;g=J;try{return H()}finally{g=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=g;g=H;try{return J()}finally{g=K}},t.unstable_scheduleCallback=function(H,J,K){var q=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?q+K:q):K=q,H){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=K+ne,H={id:d++,callback:J,priorityLevel:H,startTime:K,expirationTime:ne,sortIndex:-1},K>q?(H.sortIndex=K,e(c,H),n(l)===null&&H===n(c)&&(S?(_(D),D=-1):S=!0,re(P,K-q))):(H.sortIndex=ne,e(l,H),x||y||(x=!0,ee(C))),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var J=g;return function(){var K=g;g=J;try{return H.apply(this,arguments)}finally{g=K}}}}(GT)),GT}var i6;function MG(){return i6||(i6=1,WT.exports=UMe()),WT.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT,s6;function zMe(){return s6||(s6=1,qT=function(e){var n={},r=Rw(),i=MG(),s=Object.assign;function a(m){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+m,A=1;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),C=Symbol.iterator;function N(m){return m===null||typeof m!="object"?null:(m=C&&m[C]||m["@@iterator"],typeof m=="function"?m:null)}function O(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case d:return"Fragment";case c:return"Portal";case g:return"Profiler";case f:return"StrictMode";case b:return"Suspense";case _:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case x:return(m.displayName||"Context")+".Consumer";case y:return(m._context.displayName||"Context")+".Provider";case S:var v=m.render;return m=m.displayName,m||(m=v.displayName||v.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case E:return v=m.displayName||null,v!==null?v:O(m.type)||"Memo";case M:v=m._payload,m=m._init;try{return O(m(v))}catch{}}return null}function D(m){var v=m.type;switch(m.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=v.render,m=m.displayName||m.name||"",v.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(v);case 8:return v===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function U(m){var v=m,A=m;if(m.alternate)for(;v.return;)v=v.return;else{m=v;do v=m,(v.flags&4098)!==0&&(A=v.return),m=v.return;while(m)}return v.tag===3?A:null}function L(m){if(U(m)!==m)throw Error(a(188))}function I(m){var v=m.alternate;if(!v){if(v=U(m),v===null)throw Error(a(188));return v!==m?null:m}for(var A=m,R=v;;){var j=A.return;if(j===null)break;var z=j.alternate;if(z===null){if(R=j.return,R!==null){A=R;continue}break}if(j.child===z.child){for(z=j.child;z;){if(z===A)return L(j),m;if(z===R)return L(j),v;z=z.sibling}throw Error(a(188))}if(A.return!==R.return)A=j,R=z;else{for(var ae=!1,pe=j.child;pe;){if(pe===A){ae=!0,A=j,R=z;break}if(pe===R){ae=!0,R=j,A=z;break}pe=pe.sibling}if(!ae){for(pe=z.child;pe;){if(pe===A){ae=!0,A=z,R=j;break}if(pe===R){ae=!0,R=z,A=j;break}pe=pe.sibling}if(!ae)throw Error(a(189))}}if(A.alternate!==R)throw Error(a(190))}if(A.tag!==3)throw Error(a(188));return A.stateNode.current===A?m:v}function $(m){return m=I(m),m!==null?X(m):null}function X(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var v=X(m);if(v!==null)return v;m=m.sibling}return null}function V(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){if(m.tag!==4){var v=V(m);if(v!==null)return v}m=m.sibling}return null}var Z=Array.isArray,ee=e.getPublicInstance,re=e.getRootHostContext,H=e.getChildHostContext,J=e.prepareForCommit,K=e.resetAfterCommit,q=e.createInstance,ne=e.appendInitialChild,ve=e.finalizeInitialChildren,se=e.prepareUpdate,de=e.shouldSetTextContent,Ee=e.createTextInstance,Ve=e.scheduleTimeout,Ue=e.cancelTimeout,ye=e.noTimeout,We=e.isPrimaryRenderer,ze=e.supportsMutation,Y=e.supportsPersistence,Ie=e.supportsHydration,ce=e.getInstanceFromNode,xe=e.preparePortalMount,me=e.getCurrentEventPriority,Fe=e.detachDeletedInstance,Be=e.supportsMicrotasks,He=e.scheduleMicrotask,Ge=e.supportsTestSelectors,Q=e.findFiberRoot,W=e.getBoundingRect,be=e.getTextContent,Se=e.isHiddenSubtree,Oe=e.matchAccessibilityRole,De=e.setFocusIfFocusable,dt=e.setupIntersectionObserver,vt=e.appendChild,Ke=e.appendChildToContainer,Je=e.commitTextUpdate,Ot=e.commitMount,Qe=e.commitUpdate,Cn=e.insertBefore,Ut=e.insertInContainerBefore,It=e.removeChild,Mt=e.removeChildFromContainer,St=e.resetTextContent,tn=e.hideInstance,zt=e.hideTextInstance,En=e.unhideInstance,fe=e.unhideTextInstance,it=e.clearContainer,Pe=e.cloneInstance,nt=e.createContainerChildSet,lt=e.appendChildToContainerChildSet,nn=e.finalizeContainerChildren,vn=e.replaceContainerChildren,Ye=e.cloneHiddenInstance,st=e.cloneHiddenTextInstance,at=e.canHydrateInstance,Vt=e.canHydrateTextInstance,un=e.canHydrateSuspenseInstance,bi=e.isSuspenseInstancePending,Dt=e.isSuspenseInstanceFallback,Dn=e.registerSuspenseInstanceRetry,pr=e.getNextHydratableSibling,wi=e.getFirstHydratableChild,_i=e.getFirstHydratableChildWithinContainer,_c=e.getFirstHydratableChildWithinSuspenseInstance,Jm=e.hydrateInstance,ja=e.hydrateTextInstance,Zf=e.hydrateSuspenseInstance,te=e.getNextHydratableInstanceAfterSuspenseInstance,we=e.commitHydratedContainer,Ne=e.commitHydratedSuspenseInstance,Re=e.clearSuspenseBoundary,Te=e.clearSuspenseBoundaryFromContainer,ht=e.shouldDeleteUnhydratedTailInstances,Rt=e.didNotMatchHydratedContainerTextInstance,jt=e.didNotMatchHydratedTextInstance,pt;function Yt(m){if(pt===void 0)try{throw Error()}catch(A){var v=A.stack.trim().match(/\n( *(at )?)/);pt=v&&v[1]||""}return`
`+pt+m}var Ht=!1;function Xt(m,v){if(!m||Ht)return"";Ht=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(tt){var R=tt}Reflect.construct(m,[],v)}else{try{v.call()}catch(tt){R=tt}m.call(v.prototype)}else{try{throw Error()}catch(tt){R=tt}m()}}catch(tt){if(tt&&R&&typeof tt.stack=="string"){for(var j=tt.stack.split(`
`),z=R.stack.split(`
`),ae=j.length-1,pe=z.length-1;1<=ae&&0<=pe&&j[ae]!==z[pe];)pe--;for(;1<=ae&&0<=pe;ae--,pe--)if(j[ae]!==z[pe]){if(ae!==1||pe!==1)do if(ae--,pe--,0>pe||j[ae]!==z[pe]){var Le=`
`+j[ae].replace(" at new "," at ");return m.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",m.displayName)),Le}while(1<=ae&&0<=pe);break}}}finally{Ht=!1,Error.prepareStackTrace=A}return(m=m?m.displayName||m.name:"")?Yt(m):""}var Un=Object.prototype.hasOwnProperty,Yr=[],zn=-1;function mr(m){return{current:m}}function Ct(m){0>zn||(m.current=Yr[zn],Yr[zn]=null,zn--)}function yt(m,v){zn++,Yr[zn]=m.current,m.current=v}var lr={},rn=mr(lr),cr=mr(!1),ha=lr;function Si(m,v){var A=m.type.contextTypes;if(!A)return lr;var R=m.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===v)return R.__reactInternalMemoizedMaskedChildContext;var j={},z;for(z in A)j[z]=v[z];return R&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=v,m.__reactInternalMemoizedMaskedChildContext=j),j}function gr(m){return m=m.childContextTypes,m!=null}function qn(){Ct(cr),Ct(rn)}function Qi(m,v,A){if(rn.current!==lr)throw Error(a(168));yt(rn,v),yt(cr,A)}function Sc(m,v,A){var R=m.stateNode;if(v=v.childContextTypes,typeof R.getChildContext!="function")return A;R=R.getChildContext();for(var j in R)if(!(j in v))throw Error(a(108,D(m)||"Unknown",j));return s({},A,R)}function Kr(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||lr,ha=rn.current,yt(rn,m),yt(cr,cr.current),!0}function Po(m,v,A){var R=m.stateNode;if(!R)throw Error(a(169));A?(m=Sc(m,v,ha),R.__reactInternalMemoizedMergedChildContext=m,Ct(cr),Ct(rn),yt(rn,m)):Ct(cr),yt(cr,A)}var Li=Math.clz32?Math.clz32:J_,Mc=Math.log,Xu=Math.LN2;function J_(m){return m>>>=0,m===0?32:31-(Mc(m)/Xu|0)|0}var Ec=64,bn=4194304;function Ac(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function Yu(m,v){var A=m.pendingLanes;if(A===0)return 0;var R=0,j=m.suspendedLanes,z=m.pingedLanes,ae=A&268435455;if(ae!==0){var pe=ae&~j;pe!==0?R=Ac(pe):(z&=ae,z!==0&&(R=Ac(z)))}else ae=A&~j,ae!==0?R=Ac(ae):z!==0&&(R=Ac(z));if(R===0)return 0;if(v!==0&&v!==R&&(v&j)===0&&(j=R&-R,z=v&-v,j>=z||j===16&&(z&4194240)!==0))return v;if((R&4)!==0&&(R|=A&16),v=m.entangledLanes,v!==0)for(m=m.entanglements,v&=R;0<v;)A=31-Li(v),j=1<<A,R|=m[A],v&=~j;return R}function Qm(m,v){switch(m){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ry(m,v){for(var A=m.suspendedLanes,R=m.pingedLanes,j=m.expirationTimes,z=m.pendingLanes;0<z;){var ae=31-Li(z),pe=1<<ae,Le=j[ae];Le===-1?((pe&A)===0||(pe&R)!==0)&&(j[ae]=Qm(pe,v)):Le<=v&&(m.expiredLanes|=pe),z&=~pe}}function Jf(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function Qf(m){for(var v=[],A=0;31>A;A++)v.push(m);return v}function ol(m,v,A){m.pendingLanes|=v,v!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,v=31-Li(v),m[v]=A}function eh(m,v){var A=m.pendingLanes&~v;m.pendingLanes=v,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=v,m.mutableReadLanes&=v,m.entangledLanes&=v,v=m.entanglements;var R=m.eventTimes;for(m=m.expirationTimes;0<A;){var j=31-Li(A),z=1<<j;v[j]=0,R[j]=-1,m[j]=-1,A&=~z}}function pa(m,v){var A=m.entangledLanes|=v;for(m=m.entanglements;A;){var R=31-Li(A),j=1<<R;j&v|m[R]&v&&(m[R]|=v),A&=~j}}var dn=0;function Fa(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var ll=i.unstable_scheduleCallback,Tc=i.unstable_cancelCallback,Co=i.unstable_shouldYield,Q_=i.unstable_requestPaint,Nr=i.unstable_now,cl=i.unstable_ImmediatePriority,eS=i.unstable_UserBlockingPriority,th=i.unstable_NormalPriority,nh=i.unstable_IdlePriority,Ku=null,ma=null;function Zu(m){if(ma&&typeof ma.onCommitFiberRoot=="function")try{ma.onCommitFiberRoot(Ku,m,void 0,(m.current.flags&128)===128)}catch{}}function Ju(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var Mi=typeof Object.is=="function"?Object.is:Ju,ws=null,rh=!1,eg=!1;function ih(m){ws===null?ws=[m]:ws.push(m)}function sh(m){rh=!0,ih(m)}function _s(){if(!eg&&ws!==null){eg=!0;var m=0,v=dn;try{var A=ws;for(dn=1;m<A.length;m++){var R=A[m];do R=R(!0);while(R!==null)}ws=null,rh=!1}catch(j){throw ws!==null&&(ws=ws.slice(m+1)),ll(cl,_s),j}finally{dn=v,eg=!1}}return null}var ky=o.ReactCurrentBatchConfig;function Us(m,v){if(Mi(m,v))return!0;if(typeof m!="object"||m===null||typeof v!="object"||v===null)return!1;var A=Object.keys(m),R=Object.keys(v);if(A.length!==R.length)return!1;for(R=0;R<A.length;R++){var j=A[R];if(!Un.call(v,j)||!Mi(m[j],v[j]))return!1}return!0}function tg(m){switch(m.tag){case 5:return Yt(m.type);case 16:return Yt("Lazy");case 13:return Yt("Suspense");case 19:return Yt("SuspenseList");case 0:case 2:case 15:return m=Xt(m.type,!1),m;case 11:return m=Xt(m.type.render,!1),m;case 1:return m=Xt(m.type,!0),m;default:return""}}function Di(m,v){if(m&&m.defaultProps){v=s({},v),m=m.defaultProps;for(var A in m)v[A]===void 0&&(v[A]=m[A]);return v}return v}var Qu=mr(null),ul=null,Ba=null,ah=null;function Ei(){ah=Ba=ul=null}function dl(m,v,A){We?(yt(Qu,v._currentValue),v._currentValue=A):(yt(Qu,v._currentValue2),v._currentValue2=A)}function ed(m){var v=Qu.current;Ct(Qu),We?m._currentValue=v:m._currentValue2=v}function fl(m,v,A){for(;m!==null;){var R=m.alternate;if((m.childLanes&v)!==v?(m.childLanes|=v,R!==null&&(R.childLanes|=v)):R!==null&&(R.childLanes&v)!==v&&(R.childLanes|=v),m===A)break;m=m.return}}function Pc(m,v){ul=m,ah=Ba=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&v)!==0&&(zr=!0),m.firstContext=null)}function ji(m){var v=We?m._currentValue:m._currentValue2;if(ah!==m)if(m={context:m,memoizedValue:v,next:null},Ba===null){if(ul===null)throw Error(a(308));Ba=m,ul.dependencies={lanes:0,firstContext:m}}else Ba=Ba.next=m;return v}var Ss=null,Ms=!1;function Cc(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ng(m,v){m=m.updateQueue,v.updateQueue===m&&(v.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function Ua(m,v){return{eventTime:m,lane:v,tag:0,payload:null,callback:null,next:null}}function No(m,v){var A=m.updateQueue;A!==null&&(A=A.shared,yr!==null&&(m.mode&1)!==0&&(sn&2)===0?(m=A.interleaved,m===null?(v.next=v,Ss===null?Ss=[A]:Ss.push(A)):(v.next=m.next,m.next=v),A.interleaved=v):(m=A.pending,m===null?v.next=v:(v.next=m.next,m.next=v),A.pending=v))}function oh(m,v,A){if(v=v.updateQueue,v!==null&&(v=v.shared,(A&4194240)!==0)){var R=v.lanes;R&=m.pendingLanes,A|=R,v.lanes=A,pa(m,A)}}function lh(m,v){var A=m.updateQueue,R=m.alternate;if(R!==null&&(R=R.updateQueue,A===R)){var j=null,z=null;if(A=A.firstBaseUpdate,A!==null){do{var ae={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};z===null?j=z=ae:z=z.next=ae,A=A.next}while(A!==null);z===null?j=z=v:z=z.next=v}else j=z=v;A={baseState:R.baseState,firstBaseUpdate:j,lastBaseUpdate:z,shared:R.shared,effects:R.effects},m.updateQueue=A;return}m=A.lastBaseUpdate,m===null?A.firstBaseUpdate=v:m.next=v,A.lastBaseUpdate=v}function ch(m,v,A,R){var j=m.updateQueue;Ms=!1;var z=j.firstBaseUpdate,ae=j.lastBaseUpdate,pe=j.shared.pending;if(pe!==null){j.shared.pending=null;var Le=pe,tt=Le.next;Le.next=null,ae===null?z=tt:ae.next=tt,ae=Le;var xt=m.alternate;xt!==null&&(xt=xt.updateQueue,pe=xt.lastBaseUpdate,pe!==ae&&(pe===null?xt.firstBaseUpdate=tt:pe.next=tt,xt.lastBaseUpdate=Le))}if(z!==null){var Zt=j.baseState;ae=0,xt=tt=Le=null,pe=z;do{var Lt=pe.lane,an=pe.eventTime;if((R&Lt)===Lt){xt!==null&&(xt=xt.next={eventTime:an,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var ft=m,ni=pe;switch(Lt=v,an=A,ni.tag){case 1:if(ft=ni.payload,typeof ft=="function"){Zt=ft.call(an,Zt,Lt);break e}Zt=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=ni.payload,Lt=typeof ft=="function"?ft.call(an,Zt,Lt):ft,Lt==null)break e;Zt=s({},Zt,Lt);break e;case 2:Ms=!0}}pe.callback!==null&&pe.lane!==0&&(m.flags|=64,Lt=j.effects,Lt===null?j.effects=[pe]:Lt.push(pe))}else an={eventTime:an,lane:Lt,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},xt===null?(tt=xt=an,Le=Zt):xt=xt.next=an,ae|=Lt;if(pe=pe.next,pe===null){if(pe=j.shared.pending,pe===null)break;Lt=pe,pe=Lt.next,Lt.next=null,j.lastBaseUpdate=Lt,j.shared.pending=null}}while(!0);if(xt===null&&(Le=Zt),j.baseState=Le,j.firstBaseUpdate=tt,j.lastBaseUpdate=xt,v=j.shared.interleaved,v!==null){j=v;do ae|=j.lane,j=j.next;while(j!==v)}else z===null&&(j.shared.lanes=0);xa|=ae,m.lanes=ae,m.memoizedState=Zt}}function Oy(m,v,A){if(m=v.effects,v.effects=null,m!==null)for(v=0;v<m.length;v++){var R=m[v],j=R.callback;if(j!==null){if(R.callback=null,R=A,typeof j!="function")throw Error(a(191,j));j.call(R)}}}var Iy=new r.Component().refs;function rg(m,v,A,R){v=m.memoizedState,A=A(R,v),A=A==null?v:s({},v,A),m.memoizedState=A,m.lanes===0&&(m.updateQueue.baseState=A)}var uh={isMounted:function(m){return(m=m._reactInternals)?U(m)===m:!1},enqueueSetState:function(m,v,A){m=m._reactInternals;var R=wn(),j=qs(m),z=Ua(R,j);z.payload=v,A!=null&&(z.callback=A),No(m,z),v=fi(m,j,R),v!==null&&oh(v,m,j)},enqueueReplaceState:function(m,v,A){m=m._reactInternals;var R=wn(),j=qs(m),z=Ua(R,j);z.tag=1,z.payload=v,A!=null&&(z.callback=A),No(m,z),v=fi(m,j,R),v!==null&&oh(v,m,j)},enqueueForceUpdate:function(m,v){m=m._reactInternals;var A=wn(),R=qs(m),j=Ua(A,R);j.tag=2,v!=null&&(j.callback=v),No(m,j),v=fi(m,R,A),v!==null&&oh(v,m,R)}};function ig(m,v,A,R,j,z,ae){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(R,z,ae):v.prototype&&v.prototype.isPureReactComponent?!Us(A,R)||!Us(j,z):!0}function Ly(m,v,A){var R=!1,j=lr,z=v.contextType;return typeof z=="object"&&z!==null?z=ji(z):(j=gr(v)?ha:rn.current,R=v.contextTypes,z=(R=R!=null)?Si(m,j):lr),v=new v(A,z),m.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=uh,m.stateNode=v,v._reactInternals=m,R&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=j,m.__reactInternalMemoizedMaskedChildContext=z),v}function Dy(m,v,A,R){m=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(A,R),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(A,R),v.state!==m&&uh.enqueueReplaceState(v,v.state,null)}function sg(m,v,A,R){var j=m.stateNode;j.props=A,j.state=m.memoizedState,j.refs=Iy,Cc(m);var z=v.contextType;typeof z=="object"&&z!==null?j.context=ji(z):(z=gr(v)?ha:rn.current,j.context=Si(m,z)),j.state=m.memoizedState,z=v.getDerivedStateFromProps,typeof z=="function"&&(rg(m,v,z,A),j.state=m.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(v=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),v!==j.state&&uh.enqueueReplaceState(j,j.state,null),ch(m,A,j,R),j.state=m.memoizedState),typeof j.componentDidMount=="function"&&(m.flags|=4194308)}var Nc=[],Ro=0,dh=null,fh=0,Es=[],es=0,hl=null,za=1,Va="";function pl(m,v){Nc[Ro++]=fh,Nc[Ro++]=dh,dh=m,fh=v}function jy(m,v,A){Es[es++]=za,Es[es++]=Va,Es[es++]=hl,hl=m;var R=za;m=Va;var j=32-Li(R)-1;R&=~(1<<j),A+=1;var z=32-Li(v)+j;if(30<z){var ae=j-j%5;z=(R&(1<<ae)-1).toString(32),R>>=ae,j-=ae,za=1<<32-Li(v)+j|A<<j|R,Va=z+m}else za=1<<z|A<<j|R,Va=m}function ag(m){m.return!==null&&(pl(m,1),jy(m,1,0))}function og(m){for(;m===dh;)dh=Nc[--Ro],Nc[Ro]=null,fh=Nc[--Ro],Nc[Ro]=null;for(;m===hl;)hl=Es[--es],Es[es]=null,Va=Es[--es],Es[es]=null,za=Es[--es],Es[es]=null}var Ai=null,Zr=null,Zn=!1,Rc=!1,As=null;function lg(m,v){var A=os(5,null,null,0);A.elementType="DELETED",A.stateNode=v,A.return=m,v=m.deletions,v===null?(m.deletions=[A],m.flags|=16):v.push(A)}function cg(m,v){switch(m.tag){case 5:return v=at(v,m.type,m.pendingProps),v!==null?(m.stateNode=v,Ai=m,Zr=wi(v),!0):!1;case 6:return v=Vt(v,m.pendingProps),v!==null?(m.stateNode=v,Ai=m,Zr=null,!0):!1;case 13:if(v=un(v),v!==null){var A=hl!==null?{id:za,overflow:Va}:null;return m.memoizedState={dehydrated:v,treeContext:A,retryLane:1073741824},A=os(18,null,null,0),A.stateNode=v,A.return=m,m.child=A,Ai=m,Zr=null,!0}return!1;default:return!1}}function hh(m){return(m.mode&1)!==0&&(m.flags&128)===0}function ko(m){if(Zn){var v=Zr;if(v){var A=v;if(!cg(m,v)){if(hh(m))throw Error(a(418));v=pr(A);var R=Ai;v&&cg(m,v)?lg(R,A):(m.flags=m.flags&-4097|2,Zn=!1,Ai=m)}}else{if(hh(m))throw Error(a(418));m.flags=m.flags&-4097|2,Zn=!1,Ai=m}}}function Fy(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;Ai=m}function td(m){if(!Ie||m!==Ai)return!1;if(!Zn)return Fy(m),Zn=!0,!1;if(m.tag!==3&&(m.tag!==5||ht(m.type)&&!de(m.type,m.memoizedProps))){var v=Zr;if(v){if(hh(m)){for(m=Zr;m;)m=pr(m);throw Error(a(418))}for(;v;)lg(m,v),v=pr(v)}}if(Fy(m),m.tag===13){if(!Ie)throw Error(a(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));Zr=te(m)}else Zr=Ai?pr(m.stateNode):null;return!0}function kc(){Ie&&(Zr=Ai=null,Rc=Zn=!1)}function ph(m){As===null?As=[m]:As.push(m)}function Oc(m,v,A){if(m=A.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(a(309));var R=A.stateNode}if(!R)throw Error(a(147,m));var j=R,z=""+m;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===z?v.ref:(v=function(ae){var pe=j.refs;pe===Iy&&(pe=j.refs={}),ae===null?delete pe[z]:pe[z]=ae},v._stringRef=z,v)}if(typeof m!="string")throw Error(a(284));if(!A._owner)throw Error(a(290,m))}return m}function Oo(m,v){throw m=Object.prototype.toString.call(v),Error(a(31,m==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":m))}function Ic(m){var v=m._init;return v(m._payload)}function By(m){function v(Ae,ge){if(m){var ke=Ae.deletions;ke===null?(Ae.deletions=[ge],Ae.flags|=16):ke.push(ge)}}function A(Ae,ge){if(!m)return null;for(;ge!==null;)v(Ae,ge),ge=ge.sibling;return null}function R(Ae,ge){for(Ae=new Map;ge!==null;)ge.key!==null?Ae.set(ge.key,ge):Ae.set(ge.index,ge),ge=ge.sibling;return Ae}function j(Ae,ge){return Ae=no(Ae,ge),Ae.index=0,Ae.sibling=null,Ae}function z(Ae,ge,ke){return Ae.index=ke,m?(ke=Ae.alternate,ke!==null?(ke=ke.index,ke<ge?(Ae.flags|=2,ge):ke):(Ae.flags|=2,ge)):(Ae.flags|=1048576,ge)}function ae(Ae){return m&&Ae.alternate===null&&(Ae.flags|=2),Ae}function pe(Ae,ge,ke,ut){return ge===null||ge.tag!==6?(ge=zh(ke,Ae.mode,ut),ge.return=Ae,ge):(ge=j(ge,ke),ge.return=Ae,ge)}function Le(Ae,ge,ke,ut){var Pt=ke.type;return Pt===d?xt(Ae,ge,ke.props.children,ut,ke.key):ge!==null&&(ge.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===M&&Ic(Pt)===ge.type)?(ut=j(ge,ke.props),ut.ref=Oc(Ae,ge,ke),ut.return=Ae,ut):(ut=Uh(ke.type,ke.key,ke.props,null,Ae.mode,ut),ut.ref=Oc(Ae,ge,ke),ut.return=Ae,ut)}function tt(Ae,ge,ke,ut){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==ke.containerInfo||ge.stateNode.implementation!==ke.implementation?(ge=Vh(ke,Ae.mode,ut),ge.return=Ae,ge):(ge=j(ge,ke.children||[]),ge.return=Ae,ge)}function xt(Ae,ge,ke,ut,Pt){return ge===null||ge.tag!==7?(ge=Dl(ke,Ae.mode,ut,Pt),ge.return=Ae,ge):(ge=j(ge,ke),ge.return=Ae,ge)}function Zt(Ae,ge,ke){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=zh(""+ge,Ae.mode,ke),ge.return=Ae,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:return ke=Uh(ge.type,ge.key,ge.props,null,Ae.mode,ke),ke.ref=Oc(Ae,null,ge),ke.return=Ae,ke;case c:return ge=Vh(ge,Ae.mode,ke),ge.return=Ae,ge;case M:var ut=ge._init;return Zt(Ae,ut(ge._payload),ke)}if(Z(ge)||N(ge))return ge=Dl(ge,Ae.mode,ke,null),ge.return=Ae,ge;Oo(Ae,ge)}return null}function Lt(Ae,ge,ke,ut){var Pt=ge!==null?ge.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return Pt!==null?null:pe(Ae,ge,""+ke,ut);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case l:return ke.key===Pt?Le(Ae,ge,ke,ut):null;case c:return ke.key===Pt?tt(Ae,ge,ke,ut):null;case M:return Pt=ke._init,Lt(Ae,ge,Pt(ke._payload),ut)}if(Z(ke)||N(ke))return Pt!==null?null:xt(Ae,ge,ke,ut,null);Oo(Ae,ke)}return null}function an(Ae,ge,ke,ut,Pt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return Ae=Ae.get(ke)||null,pe(ge,Ae,""+ut,Pt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case l:return Ae=Ae.get(ut.key===null?ke:ut.key)||null,Le(ge,Ae,ut,Pt);case c:return Ae=Ae.get(ut.key===null?ke:ut.key)||null,tt(ge,Ae,ut,Pt);case M:var en=ut._init;return an(Ae,ge,ke,en(ut._payload),Pt)}if(Z(ut)||N(ut))return Ae=Ae.get(ke)||null,xt(ge,Ae,ut,Pt,null);Oo(ge,ut)}return null}function ft(Ae,ge,ke,ut){for(var Pt=null,en=null,Jt=ge,yn=ge=0,Sr=null;Jt!==null&&yn<ke.length;yn++){Jt.index>yn?(Sr=Jt,Jt=null):Sr=Jt.sibling;var gn=Lt(Ae,Jt,ke[yn],ut);if(gn===null){Jt===null&&(Jt=Sr);break}m&&Jt&&gn.alternate===null&&v(Ae,Jt),ge=z(gn,ge,yn),en===null?Pt=gn:en.sibling=gn,en=gn,Jt=Sr}if(yn===ke.length)return A(Ae,Jt),Zn&&pl(Ae,yn),Pt;if(Jt===null){for(;yn<ke.length;yn++)Jt=Zt(Ae,ke[yn],ut),Jt!==null&&(ge=z(Jt,ge,yn),en===null?Pt=Jt:en.sibling=Jt,en=Jt);return Zn&&pl(Ae,yn),Pt}for(Jt=R(Ae,Jt);yn<ke.length;yn++)Sr=an(Jt,Ae,yn,ke[yn],ut),Sr!==null&&(m&&Sr.alternate!==null&&Jt.delete(Sr.key===null?yn:Sr.key),ge=z(Sr,ge,yn),en===null?Pt=Sr:en.sibling=Sr,en=Sr);return m&&Jt.forEach(function(ro){return v(Ae,ro)}),Zn&&pl(Ae,yn),Pt}function ni(Ae,ge,ke,ut){var Pt=N(ke);if(typeof Pt!="function")throw Error(a(150));if(ke=Pt.call(ke),ke==null)throw Error(a(151));for(var en=Pt=null,Jt=ge,yn=ge=0,Sr=null,gn=ke.next();Jt!==null&&!gn.done;yn++,gn=ke.next()){Jt.index>yn?(Sr=Jt,Jt=null):Sr=Jt.sibling;var ro=Lt(Ae,Jt,gn.value,ut);if(ro===null){Jt===null&&(Jt=Sr);break}m&&Jt&&ro.alternate===null&&v(Ae,Jt),ge=z(ro,ge,yn),en===null?Pt=ro:en.sibling=ro,en=ro,Jt=Sr}if(gn.done)return A(Ae,Jt),Zn&&pl(Ae,yn),Pt;if(Jt===null){for(;!gn.done;yn++,gn=ke.next())gn=Zt(Ae,gn.value,ut),gn!==null&&(ge=z(gn,ge,yn),en===null?Pt=gn:en.sibling=gn,en=gn);return Zn&&pl(Ae,yn),Pt}for(Jt=R(Ae,Jt);!gn.done;yn++,gn=ke.next())gn=an(Jt,Ae,yn,gn.value,ut),gn!==null&&(m&&gn.alternate!==null&&Jt.delete(gn.key===null?yn:gn.key),ge=z(gn,ge,yn),en===null?Pt=gn:en.sibling=gn,en=gn);return m&&Jt.forEach(function(Ug){return v(Ae,Ug)}),Zn&&pl(Ae,yn),Pt}function ls(Ae,ge,ke,ut){if(typeof ke=="object"&&ke!==null&&ke.type===d&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case l:e:{for(var Pt=ke.key,en=ge;en!==null;){if(en.key===Pt){if(Pt=ke.type,Pt===d){if(en.tag===7){A(Ae,en.sibling),ge=j(en,ke.props.children),ge.return=Ae,Ae=ge;break e}}else if(en.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===M&&Ic(Pt)===en.type){A(Ae,en.sibling),ge=j(en,ke.props),ge.ref=Oc(Ae,en,ke),ge.return=Ae,Ae=ge;break e}A(Ae,en);break}else v(Ae,en);en=en.sibling}ke.type===d?(ge=Dl(ke.props.children,Ae.mode,ut,ke.key),ge.return=Ae,Ae=ge):(ut=Uh(ke.type,ke.key,ke.props,null,Ae.mode,ut),ut.ref=Oc(Ae,ge,ke),ut.return=Ae,Ae=ut)}return ae(Ae);case c:e:{for(en=ke.key;ge!==null;){if(ge.key===en)if(ge.tag===4&&ge.stateNode.containerInfo===ke.containerInfo&&ge.stateNode.implementation===ke.implementation){A(Ae,ge.sibling),ge=j(ge,ke.children||[]),ge.return=Ae,Ae=ge;break e}else{A(Ae,ge);break}else v(Ae,ge);ge=ge.sibling}ge=Vh(ke,Ae.mode,ut),ge.return=Ae,Ae=ge}return ae(Ae);case M:return en=ke._init,ls(Ae,ge,en(ke._payload),ut)}if(Z(ke))return ft(Ae,ge,ke,ut);if(N(ke))return ni(Ae,ge,ke,ut);Oo(Ae,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,ge!==null&&ge.tag===6?(A(Ae,ge.sibling),ge=j(ge,ke),ge.return=Ae,Ae=ge):(A(Ae,ge),ge=zh(ke,Ae.mode,ut),ge.return=Ae,Ae=ge),ae(Ae)):A(Ae,ge)}return ls}var Ha=By(!0),Uy=By(!1),Lc={},Fi=mr(Lc),ml=mr(Lc),gl=mr(Lc);function zs(m){if(m===Lc)throw Error(a(174));return m}function mh(m,v){yt(gl,v),yt(ml,m),yt(Fi,Lc),m=re(v),Ct(Fi),yt(Fi,m)}function Dc(){Ct(Fi),Ct(ml),Ct(gl)}function zy(m){var v=zs(gl.current),A=zs(Fi.current);v=H(A,m.type,v),A!==v&&(yt(ml,m),yt(Fi,v))}function ug(m){ml.current===m&&(Ct(Fi),Ct(ml))}var rr=mr(0);function gh(m){for(var v=m;v!==null;){if(v.tag===13){var A=v.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||bi(A)||Dt(A)))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===m)break;for(;v.sibling===null;){if(v.return===null||v.return===m)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var ts=[];function vl(){for(var m=0;m<ts.length;m++){var v=ts[m];We?v._workInProgressVersionPrimary=null:v._workInProgressVersionSecondary=null}ts.length=0}var nd=o.ReactCurrentDispatcher,ns=o.ReactCurrentBatchConfig,yl=0,ir=null,Fr=null,Br=null,vh=!1,ga=!1,xl=0,rd=0;function Ur(){throw Error(a(321))}function yh(m,v){if(v===null)return!1;for(var A=0;A<v.length&&A<m.length;A++)if(!Mi(m[A],v[A]))return!1;return!0}function jc(m,v,A,R,j,z){if(yl=z,ir=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,nd.current=m===null||m.memoizedState===null?gg:vg,m=A(R,j),ga){z=0;do{if(ga=!1,xl=0,25<=z)throw Error(a(301));z+=1,Br=Fr=null,v.updateQueue=null,nd.current=yg,m=A(R,j)}while(ga)}if(nd.current=zc,v=Fr!==null&&Fr.next!==null,yl=0,Br=Fr=ir=null,vh=!1,v)throw Error(a(300));return m}function Io(){var m=xl!==0;return xl=0,m}function Vs(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?ir.memoizedState=Br=m:Br=Br.next=m,Br}function Hs(){if(Fr===null){var m=ir.alternate;m=m!==null?m.memoizedState:null}else m=Fr.next;var v=Br===null?ir.memoizedState:Br.next;if(v!==null)Br=v,Fr=m;else{if(m===null)throw Error(a(310));Fr=m,m={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},Br===null?ir.memoizedState=Br=m:Br=Br.next=m}return Br}function va(m,v){return typeof v=="function"?v(m):v}function id(m){var v=Hs(),A=v.queue;if(A===null)throw Error(a(311));A.lastRenderedReducer=m;var R=Fr,j=R.baseQueue,z=A.pending;if(z!==null){if(j!==null){var ae=j.next;j.next=z.next,z.next=ae}R.baseQueue=j=z,A.pending=null}if(j!==null){z=j.next,R=R.baseState;var pe=ae=null,Le=null,tt=z;do{var xt=tt.lane;if((yl&xt)===xt)Le!==null&&(Le=Le.next={lane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),R=tt.hasEagerState?tt.eagerState:m(R,tt.action);else{var Zt={lane:xt,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null};Le===null?(pe=Le=Zt,ae=R):Le=Le.next=Zt,ir.lanes|=xt,xa|=xt}tt=tt.next}while(tt!==null&&tt!==z);Le===null?ae=R:Le.next=pe,Mi(R,v.memoizedState)||(zr=!0),v.memoizedState=R,v.baseState=ae,v.baseQueue=Le,A.lastRenderedState=R}if(m=A.interleaved,m!==null){j=m;do z=j.lane,ir.lanes|=z,xa|=z,j=j.next;while(j!==m)}else j===null&&(A.lanes=0);return[v.memoizedState,A.dispatch]}function sd(m){var v=Hs(),A=v.queue;if(A===null)throw Error(a(311));A.lastRenderedReducer=m;var R=A.dispatch,j=A.pending,z=v.memoizedState;if(j!==null){A.pending=null;var ae=j=j.next;do z=m(z,ae.action),ae=ae.next;while(ae!==j);Mi(z,v.memoizedState)||(zr=!0),v.memoizedState=z,v.baseQueue===null&&(v.baseState=z),A.lastRenderedState=z}return[z,R]}function dg(){}function fg(m,v){var A=ir,R=Hs(),j=v(),z=!Mi(R.memoizedState,j);if(z&&(R.memoizedState=j,zr=!0),R=R.queue,Fc($a.bind(null,A,R,m),[m]),R.getSnapshot!==v||z||Br!==null&&Br.memoizedState.tag&1){if(A.flags|=2048,od(9,pg.bind(null,A,R,j,v),void 0,null),yr===null)throw Error(a(349));(yl&30)!==0||hg(A,v,j)}return j}function hg(m,v,A){m.flags|=16384,m={getSnapshot:v,value:A},v=ir.updateQueue,v===null?(v={lastEffect:null,stores:null},ir.updateQueue=v,v.stores=[m]):(A=v.stores,A===null?v.stores=[m]:A.push(m))}function pg(m,v,A,R){v.value=A,v.getSnapshot=R,xh(v)&&fi(m,1,-1)}function $a(m,v,A){return A(function(){xh(v)&&fi(m,1,-1)})}function xh(m){var v=m.getSnapshot;m=m.value;try{var A=v();return!Mi(m,A)}catch{return!0}}function ad(m){var v=Vs();return typeof m=="function"&&(m=m()),v.memoizedState=v.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:m},v.queue=m,m=m.dispatch=tS.bind(null,ir,m),[v.memoizedState,m]}function od(m,v,A,R){return m={tag:m,create:v,destroy:A,deps:R,next:null},v=ir.updateQueue,v===null?(v={lastEffect:null,stores:null},ir.updateQueue=v,v.lastEffect=m.next=m):(A=v.lastEffect,A===null?v.lastEffect=m.next=m:(R=A.next,A.next=m,m.next=R,v.lastEffect=m)),m}function Vy(){return Hs().memoizedState}function Lo(m,v,A,R){var j=Vs();ir.flags|=m,j.memoizedState=od(1|v,A,void 0,R===void 0?null:R)}function bh(m,v,A,R){var j=Hs();R=R===void 0?null:R;var z=void 0;if(Fr!==null){var ae=Fr.memoizedState;if(z=ae.destroy,R!==null&&yh(R,ae.deps)){j.memoizedState=od(v,A,z,R);return}}ir.flags|=m,j.memoizedState=od(1|v,A,z,R)}function wh(m,v){return Lo(8390656,8,m,v)}function Fc(m,v){return bh(2048,8,m,v)}function Vn(m,v){return bh(4,2,m,v)}function _h(m,v){return bh(4,4,m,v)}function ld(m,v){if(typeof v=="function")return m=m(),v(m),function(){v(null)};if(v!=null)return m=m(),v.current=m,function(){v.current=null}}function Bc(m,v,A){return A=A!=null?A.concat([m]):null,bh(4,4,ld.bind(null,v,m),A)}function Sh(){}function Mh(m,v){var A=Hs();v=v===void 0?null:v;var R=A.memoizedState;return R!==null&&v!==null&&yh(v,R[1])?R[0]:(A.memoizedState=[m,v],m)}function Uc(m,v){var A=Hs();v=v===void 0?null:v;var R=A.memoizedState;return R!==null&&v!==null&&yh(v,R[1])?R[0]:(m=m(),A.memoizedState=[m,v],m)}function Eh(m,v){var A=dn;dn=A!==0&&4>A?A:4,m(!0);var R=ns.transition;ns.transition={};try{m(!1),v()}finally{dn=A,ns.transition=R}}function bl(){return Hs().memoizedState}function Hy(m,v,A){var R=qs(m);A={lane:R,action:A,hasEagerState:!1,eagerState:null,next:null},$y(m)?mg(v,A):(cd(m,v,A),A=wn(),m=fi(m,R,A),m!==null&&ud(m,v,R))}function tS(m,v,A){var R=qs(m),j={lane:R,action:A,hasEagerState:!1,eagerState:null,next:null};if($y(m))mg(v,j);else{cd(m,v,j);var z=m.alternate;if(m.lanes===0&&(z===null||z.lanes===0)&&(z=v.lastRenderedReducer,z!==null))try{var ae=v.lastRenderedState,pe=z(ae,A);if(j.hasEagerState=!0,j.eagerState=pe,Mi(pe,ae))return}catch{}finally{}A=wn(),m=fi(m,R,A),m!==null&&ud(m,v,R)}}function $y(m){var v=m.alternate;return m===ir||v!==null&&v===ir}function mg(m,v){ga=vh=!0;var A=m.pending;A===null?v.next=v:(v.next=A.next,A.next=v),m.pending=v}function cd(m,v,A){yr!==null&&(m.mode&1)!==0&&(sn&2)===0?(m=v.interleaved,m===null?(A.next=A,Ss===null?Ss=[v]:Ss.push(v)):(A.next=m.next,m.next=A),v.interleaved=A):(m=v.pending,m===null?A.next=A:(A.next=m.next,m.next=A),v.pending=A)}function ud(m,v,A){if((A&4194240)!==0){var R=v.lanes;R&=m.pendingLanes,A|=R,v.lanes=A,pa(m,A)}}var zc={readContext:ji,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useInsertionEffect:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useSyncExternalStore:Ur,useId:Ur,unstable_isNewReconciler:!1},gg={readContext:ji,useCallback:function(m,v){return Vs().memoizedState=[m,v===void 0?null:v],m},useContext:ji,useEffect:wh,useImperativeHandle:function(m,v,A){return A=A!=null?A.concat([m]):null,Lo(4194308,4,ld.bind(null,v,m),A)},useLayoutEffect:function(m,v){return Lo(4194308,4,m,v)},useInsertionEffect:function(m,v){return Lo(4,2,m,v)},useMemo:function(m,v){var A=Vs();return v=v===void 0?null:v,m=m(),A.memoizedState=[m,v],m},useReducer:function(m,v,A){var R=Vs();return v=A!==void 0?A(v):v,R.memoizedState=R.baseState=v,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:v},R.queue=m,m=m.dispatch=Hy.bind(null,ir,m),[R.memoizedState,m]},useRef:function(m){var v=Vs();return m={current:m},v.memoizedState=m},useState:ad,useDebugValue:Sh,useDeferredValue:function(m){var v=ad(m),A=v[0],R=v[1];return wh(function(){var j=ns.transition;ns.transition={};try{R(m)}finally{ns.transition=j}},[m]),A},useTransition:function(){var m=ad(!1),v=m[0];return m=Eh.bind(null,m[1]),Vs().memoizedState=m,[v,m]},useMutableSource:function(){},useSyncExternalStore:function(m,v,A){var R=ir,j=Vs();if(Zn){if(A===void 0)throw Error(a(407));A=A()}else{if(A=v(),yr===null)throw Error(a(349));(yl&30)!==0||hg(R,v,A)}j.memoizedState=A;var z={value:A,getSnapshot:v};return j.queue=z,wh($a.bind(null,R,z,m),[m]),R.flags|=2048,od(9,pg.bind(null,R,z,A,v),void 0,null),A},useId:function(){var m=Vs(),v=yr.identifierPrefix;if(Zn){var A=Va,R=za;A=(R&~(1<<32-Li(R)-1)).toString(32)+A,v=":"+v+"R"+A,A=xl++,0<A&&(v+="H"+A.toString(32)),v+=":"}else A=rd++,v=":"+v+"r"+A.toString(32)+":";return m.memoizedState=v},unstable_isNewReconciler:!1},vg={readContext:ji,useCallback:Mh,useContext:ji,useEffect:Fc,useImperativeHandle:Bc,useInsertionEffect:Vn,useLayoutEffect:_h,useMemo:Uc,useReducer:id,useRef:Vy,useState:function(){return id(va)},useDebugValue:Sh,useDeferredValue:function(m){var v=id(va),A=v[0],R=v[1];return Fc(function(){var j=ns.transition;ns.transition={};try{R(m)}finally{ns.transition=j}},[m]),A},useTransition:function(){var m=id(va)[0],v=Hs().memoizedState;return[m,v]},useMutableSource:dg,useSyncExternalStore:fg,useId:bl,unstable_isNewReconciler:!1},yg={readContext:ji,useCallback:Mh,useContext:ji,useEffect:Fc,useImperativeHandle:Bc,useInsertionEffect:Vn,useLayoutEffect:_h,useMemo:Uc,useReducer:sd,useRef:Vy,useState:function(){return sd(va)},useDebugValue:Sh,useDeferredValue:function(m){var v=sd(va),A=v[0],R=v[1];return Fc(function(){var j=ns.transition;ns.transition={};try{R(m)}finally{ns.transition=j}},[m]),A},useTransition:function(){var m=sd(va)[0],v=Hs().memoizedState;return[m,v]},useMutableSource:dg,useSyncExternalStore:fg,useId:bl,unstable_isNewReconciler:!1};function xg(m,v){try{var A="",R=v;do A+=tg(R),R=R.return;while(R);var j=A}catch(z){j=`
Error generating stack: `+z.message+`
`+z.stack}return{value:m,source:v,stack:j}}function Ah(m,v){try{console.error(v.value)}catch(A){setTimeout(function(){throw A})}}var nS=typeof WeakMap=="function"?WeakMap:Map;function Wy(m,v,A){A=Ua(-1,A),A.tag=3,A.payload={element:null};var R=v.value;return A.callback=function(){qc||(qc=!0,Yn=R),Ah(m,v)},A}function Th(m,v,A){A=Ua(-1,A),A.tag=3;var R=m.type.getDerivedStateFromError;if(typeof R=="function"){var j=v.value;A.payload=function(){return R(j)},A.callback=function(){Ah(m,v)}}var z=m.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(A.callback=function(){Ah(m,v),typeof R!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var ae=v.stack;this.componentDidCatch(v.value,{componentStack:ae!==null?ae:""})}),A}function Wa(m,v,A){var R=m.pingCache;if(R===null){R=m.pingCache=new nS;var j=new Set;R.set(v,j)}else j=R.get(v),j===void 0&&(j=new Set,R.set(v,j));j.has(A)||(j.add(A),m=jg.bind(null,m,v,A),v.then(m,m))}function bg(m){do{var v;if((v=m.tag===13)&&(v=m.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return m;m=m.return}while(m!==null);return null}function wl(m,v,A,R,j){return(m.mode&1)===0?(m===v?m.flags|=65536:(m.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(v=Ua(-1,1),v.tag=2,No(A,v))),A.lanes|=1),m):(m.flags|=65536,m.lanes=j,m)}function Rr(m){m.flags|=4}function Vc(m,v){if(m!==null&&m.child===v.child)return!0;if((v.flags&16)!==0)return!1;for(m=v.child;m!==null;){if((m.flags&12854)!==0||(m.subtreeFlags&12854)!==0)return!1;m=m.sibling}return!0}var rs,_l,Ph,Ch;if(ze)rs=function(m,v){for(var A=v.child;A!==null;){if(A.tag===5||A.tag===6)ne(m,A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===v)break;for(;A.sibling===null;){if(A.return===null||A.return===v)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},_l=function(){},Ph=function(m,v,A,R,j){if(m=m.memoizedProps,m!==R){var z=v.stateNode,ae=zs(Fi.current);A=se(z,A,m,R,j,ae),(v.updateQueue=A)&&Rr(v)}},Ch=function(m,v,A,R){A!==R&&Rr(v)};else if(Y){rs=function(m,v,A,R){for(var j=v.child;j!==null;){if(j.tag===5){var z=j.stateNode;A&&R&&(z=Ye(z,j.type,j.memoizedProps,j)),ne(m,z)}else if(j.tag===6)z=j.stateNode,A&&R&&(z=st(z,j.memoizedProps,j)),ne(m,z);else if(j.tag!==4){if(j.tag===22&&j.memoizedState!==null)z=j.child,z!==null&&(z.return=j),rs(m,j,!0,!0);else if(j.child!==null){j.child.return=j,j=j.child;continue}}if(j===v)break;for(;j.sibling===null;){if(j.return===null||j.return===v)return;j=j.return}j.sibling.return=j.return,j=j.sibling}};var Do=function(m,v,A,R){for(var j=v.child;j!==null;){if(j.tag===5){var z=j.stateNode;A&&R&&(z=Ye(z,j.type,j.memoizedProps,j)),lt(m,z)}else if(j.tag===6)z=j.stateNode,A&&R&&(z=st(z,j.memoizedProps,j)),lt(m,z);else if(j.tag!==4){if(j.tag===22&&j.memoizedState!==null)z=j.child,z!==null&&(z.return=j),Do(m,j,!0,!0);else if(j.child!==null){j.child.return=j,j=j.child;continue}}if(j===v)break;for(;j.sibling===null;){if(j.return===null||j.return===v)return;j=j.return}j.sibling.return=j.return,j=j.sibling}};_l=function(m,v){var A=v.stateNode;if(!Vc(m,v)){m=A.containerInfo;var R=nt(m);Do(R,v,!1,!1),A.pendingChildren=R,Rr(v),nn(m,R)}},Ph=function(m,v,A,R,j){var z=m.stateNode,ae=m.memoizedProps;if((m=Vc(m,v))&&ae===R)v.stateNode=z;else{var pe=v.stateNode,Le=zs(Fi.current),tt=null;ae!==R&&(tt=se(pe,A,ae,R,j,Le)),m&&tt===null?v.stateNode=z:(z=Pe(z,tt,A,ae,R,v,m,pe),ve(z,A,R,j,Le)&&Rr(v),v.stateNode=z,m?Rr(v):rs(z,v,!1,!1))}},Ch=function(m,v,A,R){A!==R?(m=zs(gl.current),A=zs(Fi.current),v.stateNode=Ee(R,m,A,v),Rr(v)):v.stateNode=m.stateNode}}else _l=function(){},Ph=function(){},Ch=function(){};function Ga(m,v){if(!Zn)switch(m.tailMode){case"hidden":v=m.tail;for(var A=null;v!==null;)v.alternate!==null&&(A=v),v=v.sibling;A===null?m.tail=null:A.sibling=null;break;case"collapsed":A=m.tail;for(var R=null;A!==null;)A.alternate!==null&&(R=A),A=A.sibling;R===null?v||m.tail===null?m.tail=null:m.tail.sibling=null:R.sibling=null}}function vr(m){var v=m.alternate!==null&&m.alternate.child===m.child,A=0,R=0;if(v)for(var j=m.child;j!==null;)A|=j.lanes|j.childLanes,R|=j.subtreeFlags&14680064,R|=j.flags&14680064,j.return=m,j=j.sibling;else for(j=m.child;j!==null;)A|=j.lanes|j.childLanes,R|=j.subtreeFlags,R|=j.flags,j.return=m,j=j.sibling;return m.subtreeFlags|=R,m.childLanes=A,v}function Nh(m,v,A){var R=v.pendingProps;switch(og(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(v),null;case 1:return gr(v.type)&&qn(),vr(v),null;case 3:return R=v.stateNode,Dc(),Ct(cr),Ct(rn),vl(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(m===null||m.child===null)&&(td(v)?Rr(v):m===null||m.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,As!==null&&(Sd(As),As=null))),_l(m,v),vr(v),null;case 5:ug(v),A=zs(gl.current);var j=v.type;if(m!==null&&v.stateNode!=null)Ph(m,v,j,R,A),m.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!R){if(v.stateNode===null)throw Error(a(166));return vr(v),null}if(m=zs(Fi.current),td(v)){if(!Ie)throw Error(a(175));m=Jm(v.stateNode,v.type,v.memoizedProps,A,m,v,!Rc),v.updateQueue=m,m!==null&&Rr(v)}else{var z=q(j,R,A,m,v);rs(z,v,!1,!1),v.stateNode=z,ve(z,j,R,A,m)&&Rr(v)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return vr(v),null;case 6:if(m&&v.stateNode!=null)Ch(m,v,m.memoizedProps,R);else{if(typeof R!="string"&&v.stateNode===null)throw Error(a(166));if(m=zs(gl.current),A=zs(Fi.current),td(v)){if(!Ie)throw Error(a(176));if(m=v.stateNode,R=v.memoizedProps,(A=ja(m,R,v,!Rc))&&(j=Ai,j!==null))switch(z=(j.mode&1)!==0,j.tag){case 3:Rt(j.stateNode.containerInfo,m,R,z);break;case 5:jt(j.type,j.memoizedProps,j.stateNode,m,R,z)}A&&Rr(v)}else v.stateNode=Ee(R,m,A,v)}return vr(v),null;case 13:if(Ct(rr),R=v.memoizedState,Zn&&Zr!==null&&(v.mode&1)!==0&&(v.flags&128)===0){for(m=Zr;m;)m=pr(m);return kc(),v.flags|=98560,v}if(R!==null&&R.dehydrated!==null){if(R=td(v),m===null){if(!R)throw Error(a(318));if(!Ie)throw Error(a(344));if(m=v.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));Zf(m,v)}else kc(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;return vr(v),null}return As!==null&&(Sd(As),As=null),(v.flags&128)!==0?(v.lanes=A,v):(R=R!==null,A=!1,m===null?td(v):A=m.memoizedState!==null,R&&!A&&(v.child.flags|=8192,(v.mode&1)!==0&&(m===null||(rr.current&1)!==0?dr===0&&(dr=3):jh())),v.updateQueue!==null&&(v.flags|=4),vr(v),null);case 4:return Dc(),_l(m,v),m===null&&xe(v.stateNode.containerInfo),vr(v),null;case 10:return ed(v.type._context),vr(v),null;case 17:return gr(v.type)&&qn(),vr(v),null;case 19:if(Ct(rr),j=v.memoizedState,j===null)return vr(v),null;if(R=(v.flags&128)!==0,z=j.rendering,z===null)if(R)Ga(j,!1);else{if(dr!==0||m!==null&&(m.flags&128)!==0)for(m=v.child;m!==null;){if(z=gh(m),z!==null){for(v.flags|=128,Ga(j,!1),m=z.updateQueue,m!==null&&(v.updateQueue=m,v.flags|=4),v.subtreeFlags=0,m=A,R=v.child;R!==null;)A=R,j=m,A.flags&=14680066,z=A.alternate,z===null?(A.childLanes=0,A.lanes=j,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=z.childLanes,A.lanes=z.lanes,A.child=z.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=z.memoizedProps,A.memoizedState=z.memoizedState,A.updateQueue=z.updateQueue,A.type=z.type,j=z.dependencies,A.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext}),R=R.sibling;return yt(rr,rr.current&1|2),v.child}m=m.sibling}j.tail!==null&&Nr()>Bo&&(v.flags|=128,R=!0,Ga(j,!1),v.lanes=4194304)}else{if(!R)if(m=gh(z),m!==null){if(v.flags|=128,R=!0,m=m.updateQueue,m!==null&&(v.updateQueue=m,v.flags|=4),Ga(j,!0),j.tail===null&&j.tailMode==="hidden"&&!z.alternate&&!Zn)return vr(v),null}else 2*Nr()-j.renderingStartTime>Bo&&A!==1073741824&&(v.flags|=128,R=!0,Ga(j,!1),v.lanes=4194304);j.isBackwards?(z.sibling=v.child,v.child=z):(m=j.last,m!==null?m.sibling=z:v.child=z,j.last=z)}return j.tail!==null?(v=j.tail,j.rendering=v,j.tail=v.sibling,j.renderingStartTime=Nr(),v.sibling=null,m=rr.current,yt(rr,R?m&1|2:m&1),v):(vr(v),null);case 22:case 23:return Md(),R=v.memoizedState!==null,m!==null&&m.memoizedState!==null!==R&&(v.flags|=8192),R&&(v.mode&1)!==0?(di&1073741824)!==0&&(vr(v),ze&&v.subtreeFlags&6&&(v.flags|=8192)):vr(v),null;case 24:return null;case 25:return null}throw Error(a(156,v.tag))}var wg=o.ReactCurrentOwner,zr=!1;function ur(m,v,A,R){v.child=m===null?Uy(v,null,A,R):Ha(v,m.child,A,R)}function Hn(m,v,A,R,j){A=A.render;var z=v.ref;return Pc(v,j),R=jc(m,v,A,R,z,j),A=Io(),m!==null&&!zr?(v.updateQueue=m.updateQueue,v.flags&=-2053,m.lanes&=~j,Bi(m,v,j)):(Zn&&A&&ag(v),v.flags|=1,ur(m,v,R,j),v.child)}function jn(m,v,A,R,j){if(m===null){var z=A.type;return typeof z=="function"&&!Bh(z)&&z.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(v.tag=15,v.type=z,qa(m,v,z,R,j)):(m=Uh(A.type,null,R,v,v.mode,j),m.ref=v.ref,m.return=v,v.child=m)}if(z=m.child,(m.lanes&j)===0){var ae=z.memoizedProps;if(A=A.compare,A=A!==null?A:Us,A(ae,R)&&m.ref===v.ref)return Bi(m,v,j)}return v.flags|=1,m=no(z,R),m.ref=v.ref,m.return=v,v.child=m}function qa(m,v,A,R,j){if(m!==null&&Us(m.memoizedProps,R)&&m.ref===v.ref)if(zr=!1,(m.lanes&j)!==0)(m.flags&131072)!==0&&(zr=!0);else return v.lanes=m.lanes,Bi(m,v,j);return Xa(m,v,A,R,j)}function Jr(m,v,A){var R=v.pendingProps,j=R.children,z=m!==null?m.memoizedState:null;if(R.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null},yt(Rl,di),di|=A;else if((A&1073741824)!==0)v.memoizedState={baseLanes:0,cachePool:null},R=z!==null?z.baseLanes:A,yt(Rl,di),di|=R;else return m=z!==null?z.baseLanes|A:A,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:m,cachePool:null},v.updateQueue=null,yt(Rl,di),di|=m,null;else z!==null?(R=z.baseLanes|A,v.memoizedState=null):R=A,yt(Rl,di),di|=R;return ur(m,v,j,A),v.child}function Ti(m,v){var A=v.ref;(m===null&&A!==null||m!==null&&m.ref!==A)&&(v.flags|=512,v.flags|=2097152)}function Xa(m,v,A,R,j){var z=gr(A)?ha:rn.current;return z=Si(v,z),Pc(v,j),A=jc(m,v,A,R,z,j),R=Io(),m!==null&&!zr?(v.updateQueue=m.updateQueue,v.flags&=-2053,m.lanes&=~j,Bi(m,v,j)):(Zn&&R&&ag(v),v.flags|=1,ur(m,v,A,j),v.child)}function Sl(m,v,A,R,j){if(gr(A)){var z=!0;Kr(v)}else z=!1;if(Pc(v,j),v.stateNode===null)m!==null&&(m.alternate=null,v.alternate=null,v.flags|=2),Ly(v,A,R),sg(v,A,R,j),R=!0;else if(m===null){var ae=v.stateNode,pe=v.memoizedProps;ae.props=pe;var Le=ae.context,tt=A.contextType;typeof tt=="object"&&tt!==null?tt=ji(tt):(tt=gr(A)?ha:rn.current,tt=Si(v,tt));var xt=A.getDerivedStateFromProps,Zt=typeof xt=="function"||typeof ae.getSnapshotBeforeUpdate=="function";Zt||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(pe!==R||Le!==tt)&&Dy(v,ae,R,tt),Ms=!1;var Lt=v.memoizedState;ae.state=Lt,ch(v,R,ae,j),Le=v.memoizedState,pe!==R||Lt!==Le||cr.current||Ms?(typeof xt=="function"&&(rg(v,A,xt,R),Le=v.memoizedState),(pe=Ms||ig(v,A,pe,R,Lt,Le,tt))?(Zt||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(v.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=R,v.memoizedState=Le),ae.props=R,ae.state=Le,ae.context=tt,R=pe):(typeof ae.componentDidMount=="function"&&(v.flags|=4194308),R=!1)}else{ae=v.stateNode,ng(m,v),pe=v.memoizedProps,tt=v.type===v.elementType?pe:Di(v.type,pe),ae.props=tt,Zt=v.pendingProps,Lt=ae.context,Le=A.contextType,typeof Le=="object"&&Le!==null?Le=ji(Le):(Le=gr(A)?ha:rn.current,Le=Si(v,Le));var an=A.getDerivedStateFromProps;(xt=typeof an=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(pe!==Zt||Lt!==Le)&&Dy(v,ae,R,Le),Ms=!1,Lt=v.memoizedState,ae.state=Lt,ch(v,R,ae,j);var ft=v.memoizedState;pe!==Zt||Lt!==ft||cr.current||Ms?(typeof an=="function"&&(rg(v,A,an,R),ft=v.memoizedState),(tt=Ms||ig(v,A,tt,R,Lt,ft,Le)||!1)?(xt||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(R,ft,Le),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(R,ft,Le)),typeof ae.componentDidUpdate=="function"&&(v.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof ae.componentDidUpdate!="function"||pe===m.memoizedProps&&Lt===m.memoizedState||(v.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||pe===m.memoizedProps&&Lt===m.memoizedState||(v.flags|=1024),v.memoizedProps=R,v.memoizedState=ft),ae.props=R,ae.state=ft,ae.context=Le,R=tt):(typeof ae.componentDidUpdate!="function"||pe===m.memoizedProps&&Lt===m.memoizedState||(v.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||pe===m.memoizedProps&&Lt===m.memoizedState||(v.flags|=1024),R=!1)}return ui(m,v,A,R,z,j)}function ui(m,v,A,R,j,z){Ti(m,v);var ae=(v.flags&128)!==0;if(!R&&!ae)return j&&Po(v,A,!1),Bi(m,v,z);R=v.stateNode,wg.current=v;var pe=ae&&typeof A.getDerivedStateFromError!="function"?null:R.render();return v.flags|=1,m!==null&&ae?(v.child=Ha(v,m.child,null,z),v.child=Ha(v,null,pe,z)):ur(m,v,pe,z),v.memoizedState=R.state,j&&Po(v,A,!0),v.child}function dd(m){var v=m.stateNode;v.pendingContext?Qi(m,v.pendingContext,v.pendingContext!==v.context):v.context&&Qi(m,v.context,!1),mh(m,v.containerInfo)}function _g(m,v,A,R,j){return kc(),ph(j),v.flags|=256,ur(m,v,A,R),v.child}var fd={dehydrated:null,treeContext:null,retryLane:0};function Ml(m){return{baseLanes:m,cachePool:null}}function Sg(m,v,A){var R=v.pendingProps,j=rr.current,z=!1,ae=(v.flags&128)!==0,pe;if((pe=ae)||(pe=m!==null&&m.memoizedState===null?!1:(j&2)!==0),pe?(z=!0,v.flags&=-129):(m===null||m.memoizedState!==null)&&(j|=1),yt(rr,j&1),m===null)return ko(v),m=v.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((v.mode&1)===0?v.lanes=1:Dt(m)?v.lanes=8:v.lanes=1073741824,null):(j=R.children,m=R.fallback,z?(R=v.mode,z=v.child,j={mode:"hidden",children:j},(R&1)===0&&z!==null?(z.childLanes=0,z.pendingProps=j):z=Td(j,R,0,null),m=Dl(m,R,A,null),z.return=v,m.return=v,z.sibling=m,v.child=z,v.child.memoizedState=Ml(A),v.memoizedState=fd,m):$s(v,j));if(j=m.memoizedState,j!==null){if(pe=j.dehydrated,pe!==null){if(ae)return v.flags&256?(v.flags&=-257,pd(m,v,A,Error(a(422)))):v.memoizedState!==null?(v.child=m.child,v.flags|=128,null):(z=R.fallback,j=v.mode,R=Td({mode:"visible",children:R.children},j,0,null),z=Dl(z,j,A,null),z.flags|=2,R.return=v,z.return=v,R.sibling=z,v.child=R,(v.mode&1)!==0&&Ha(v,m.child,null,A),v.child.memoizedState=Ml(A),v.memoizedState=fd,z);if((v.mode&1)===0)v=pd(m,v,A,null);else if(Dt(pe))v=pd(m,v,A,Error(a(419)));else if(R=(A&m.childLanes)!==0,zr||R){if(R=yr,R!==null){switch(A&-A){case 4:z=2;break;case 16:z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:z=32;break;case 536870912:z=268435456;break;default:z=0}R=(z&(R.suspendedLanes|A))!==0?0:z,R!==0&&R!==j.retryLane&&(j.retryLane=R,fi(m,R,-1))}jh(),v=pd(m,v,A,Error(a(421)))}else bi(pe)?(v.flags|=128,v.child=m.child,v=Ky.bind(null,m),Dn(pe,v),v=null):(A=j.treeContext,Ie&&(Zr=_c(pe),Ai=v,Zn=!0,As=null,Rc=!1,A!==null&&(Es[es++]=za,Es[es++]=Va,Es[es++]=hl,za=A.id,Va=A.overflow,hl=v)),v=$s(v,v.pendingProps.children),v.flags|=4096);return v}return z?(R=Rh(m,v,R.children,R.fallback,A),z=v.child,j=m.child.memoizedState,z.memoizedState=j===null?Ml(A):{baseLanes:j.baseLanes|A,cachePool:null},z.childLanes=m.childLanes&~A,v.memoizedState=fd,R):(A=hd(m,v,R.children,A),v.memoizedState=null,A)}return z?(R=Rh(m,v,R.children,R.fallback,A),z=v.child,j=m.child.memoizedState,z.memoizedState=j===null?Ml(A):{baseLanes:j.baseLanes|A,cachePool:null},z.childLanes=m.childLanes&~A,v.memoizedState=fd,R):(A=hd(m,v,R.children,A),v.memoizedState=null,A)}function $s(m,v){return v=Td({mode:"visible",children:v},m.mode,0,null),v.return=m,m.child=v}function hd(m,v,A,R){var j=m.child;return m=j.sibling,A=no(j,{mode:"visible",children:A}),(v.mode&1)===0&&(A.lanes=R),A.return=v,A.sibling=null,m!==null&&(R=v.deletions,R===null?(v.deletions=[m],v.flags|=16):R.push(m)),v.child=A}function Rh(m,v,A,R,j){var z=v.mode;m=m.child;var ae=m.sibling,pe={mode:"hidden",children:A};return(z&1)===0&&v.child!==m?(A=v.child,A.childLanes=0,A.pendingProps=pe,v.deletions=null):(A=no(m,pe),A.subtreeFlags=m.subtreeFlags&14680064),ae!==null?R=no(ae,R):(R=Dl(R,z,j,null),R.flags|=2),R.return=v,A.return=v,A.sibling=R,v.child=A,R}function pd(m,v,A,R){return R!==null&&ph(R),Ha(v,m.child,null,A),m=$s(v,v.pendingProps.children),m.flags|=2,v.memoizedState=null,m}function Gy(m,v,A){m.lanes|=v;var R=m.alternate;R!==null&&(R.lanes|=v),fl(m.return,v,A)}function ya(m,v,A,R,j){var z=m.memoizedState;z===null?m.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:R,tail:A,tailMode:j}:(z.isBackwards=v,z.rendering=null,z.renderingStartTime=0,z.last=R,z.tail=A,z.tailMode=j)}function El(m,v,A){var R=v.pendingProps,j=R.revealOrder,z=R.tail;if(ur(m,v,R.children,A),R=rr.current,(R&2)!==0)R=R&1|2,v.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=v.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&Gy(m,A,v);else if(m.tag===19)Gy(m,A,v);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===v)break e;for(;m.sibling===null;){if(m.return===null||m.return===v)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}R&=1}if(yt(rr,R),(v.mode&1)===0)v.memoizedState=null;else switch(j){case"forwards":for(A=v.child,j=null;A!==null;)m=A.alternate,m!==null&&gh(m)===null&&(j=A),A=A.sibling;A=j,A===null?(j=v.child,v.child=null):(j=A.sibling,A.sibling=null),ya(v,!1,j,A,z);break;case"backwards":for(A=null,j=v.child,v.child=null;j!==null;){if(m=j.alternate,m!==null&&gh(m)===null){v.child=j;break}m=j.sibling,j.sibling=A,A=j,j=m}ya(v,!0,A,null,z);break;case"together":ya(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function Bi(m,v,A){if(m!==null&&(v.dependencies=m.dependencies),xa|=v.lanes,(A&v.childLanes)===0)return null;if(m!==null&&v.child!==m.child)throw Error(a(153));if(v.child!==null){for(m=v.child,A=no(m,m.pendingProps),v.child=A,A.return=v;m.sibling!==null;)m=m.sibling,A=A.sibling=no(m,m.pendingProps),A.return=v;A.sibling=null}return v.child}function kh(m,v,A){switch(v.tag){case 3:dd(v),kc();break;case 5:zy(v);break;case 1:gr(v.type)&&Kr(v);break;case 4:mh(v,v.stateNode.containerInfo);break;case 10:dl(v,v.type._context,v.memoizedProps.value);break;case 13:var R=v.memoizedState;if(R!==null)return R.dehydrated!==null?(yt(rr,rr.current&1),v.flags|=128,null):(A&v.child.childLanes)!==0?Sg(m,v,A):(yt(rr,rr.current&1),m=Bi(m,v,A),m!==null?m.sibling:null);yt(rr,rr.current&1);break;case 19:if(R=(A&v.childLanes)!==0,(m.flags&128)!==0){if(R)return El(m,v,A);v.flags|=128}var j=v.memoizedState;if(j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),yt(rr,rr.current),R)break;return null;case 22:case 23:return v.lanes=0,Jr(m,v,A)}return Bi(m,v,A)}function Oh(m,v){switch(og(v),v.tag){case 1:return gr(v.type)&&qn(),m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 3:return Dc(),Ct(cr),Ct(rn),vl(),m=v.flags,(m&65536)!==0&&(m&128)===0?(v.flags=m&-65537|128,v):null;case 5:return ug(v),null;case 13:if(Ct(rr),m=v.memoizedState,m!==null&&m.dehydrated!==null){if(v.alternate===null)throw Error(a(340));kc()}return m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 19:return Ct(rr),null;case 4:return Dc(),null;case 10:return ed(v.type._context),null;case 22:case 23:return Md(),null;case 24:return null;default:return null}}var Pi=!1,Vr=!1,Al=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Ts(m,v){var A=m.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(R){Ni(m,v,R)}else A.current=null}function Ya(m,v,A){try{A()}catch(R){Ni(m,v,R)}}var Mg=!1;function Eg(m,v){for(J(m.containerInfo),ot=v;ot!==null;)if(m=ot,v=m.child,(m.subtreeFlags&1028)!==0&&v!==null)v.return=m,ot=v;else for(;ot!==null;){m=ot;try{var A=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var R=A.memoizedProps,j=A.memoizedState,z=m.stateNode,ae=z.getSnapshotBeforeUpdate(m.elementType===m.type?R:Di(m.type,R),j);z.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:ze&&it(m.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(pe){Ni(m,m.return,pe)}if(v=m.sibling,v!==null){v.return=m.return,ot=v;break}ot=m.return}return A=Mg,Mg=!1,A}function Ka(m,v,A){var R=v.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var j=R=R.next;do{if((j.tag&m)===m){var z=j.destroy;j.destroy=void 0,z!==void 0&&Ya(v,A,z)}j=j.next}while(j!==R)}}function Qr(m,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var A=v=v.next;do{if((A.tag&m)===m){var R=A.create;A.destroy=R()}A=A.next}while(A!==v)}}function Ci(m){var v=m.ref;if(v!==null){var A=m.stateNode;switch(m.tag){case 5:m=ee(A);break;default:m=A}typeof v=="function"?v(m):v.current=m}}function Xn(m,v,A){if(ma&&typeof ma.onCommitFiberUnmount=="function")try{ma.onCommitFiberUnmount(Ku,v)}catch{}switch(v.tag){case 0:case 11:case 14:case 15:if(m=v.updateQueue,m!==null&&(m=m.lastEffect,m!==null)){var R=m=m.next;do{var j=R,z=j.destroy;j=j.tag,z!==void 0&&((j&2)!==0||(j&4)!==0)&&Ya(v,A,z),R=R.next}while(R!==m)}break;case 1:if(Ts(v,A),m=v.stateNode,typeof m.componentWillUnmount=="function")try{m.props=v.memoizedProps,m.state=v.memoizedState,m.componentWillUnmount()}catch(ae){Ni(v,A,ae)}break;case 5:Ts(v,A);break;case 4:ze?Pg(m,v,A):Y&&Y&&(v=v.stateNode.containerInfo,A=nt(v),vn(v,A))}}function Ps(m,v,A){for(var R=v;;)if(Xn(m,R,A),R.child===null||ze&&R.tag===4){if(R===v)break;for(;R.sibling===null;){if(R.return===null||R.return===v)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else R.child.return=R,R=R.child}function Ag(m){var v=m.alternate;v!==null&&(m.alternate=null,Ag(v)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(v=m.stateNode,v!==null&&Fe(v)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function Tg(m){return m.tag===5||m.tag===3||m.tag===4}function Ih(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||Tg(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function Lh(m){if(ze){e:{for(var v=m.return;v!==null;){if(Tg(v))break e;v=v.return}throw Error(a(160))}var A=v;switch(A.tag){case 5:v=A.stateNode,A.flags&32&&(St(v),A.flags&=-33),A=Ih(m),Hc(m,A,v);break;case 3:case 4:v=A.stateNode.containerInfo,A=Ih(m),Dh(m,A,v);break;default:throw Error(a(161))}}}function Dh(m,v,A){var R=m.tag;if(R===5||R===6)m=m.stateNode,v?Ut(A,m,v):Ke(A,m);else if(R!==4&&(m=m.child,m!==null))for(Dh(m,v,A),m=m.sibling;m!==null;)Dh(m,v,A),m=m.sibling}function Hc(m,v,A){var R=m.tag;if(R===5||R===6)m=m.stateNode,v?Cn(A,m,v):vt(A,m);else if(R!==4&&(m=m.child,m!==null))for(Hc(m,v,A),m=m.sibling;m!==null;)Hc(m,v,A),m=m.sibling}function Pg(m,v,A){for(var R=v,j=!1,z,ae;;){if(!j){j=R.return;e:for(;;){if(j===null)throw Error(a(160));switch(z=j.stateNode,j.tag){case 5:ae=!1;break e;case 3:z=z.containerInfo,ae=!0;break e;case 4:z=z.containerInfo,ae=!0;break e}j=j.return}j=!0}if(R.tag===5||R.tag===6)Ps(m,R,A),ae?Mt(z,R.stateNode):It(z,R.stateNode);else if(R.tag===18)ae?Te(z,R.stateNode):Re(z,R.stateNode);else if(R.tag===4){if(R.child!==null){z=R.stateNode.containerInfo,ae=!0,R.child.return=R,R=R.child;continue}}else if(Xn(m,R,A),R.child!==null){R.child.return=R,R=R.child;continue}if(R===v)break;for(;R.sibling===null;){if(R.return===null||R.return===v)return;R=R.return,R.tag===4&&(j=!1)}R.sibling.return=R.return,R=R.sibling}}function jo(m,v){if(ze){switch(v.tag){case 0:case 11:case 14:case 15:Ka(3,v,v.return),Qr(3,v),Ka(5,v,v.return);return;case 1:return;case 5:var A=v.stateNode;if(A!=null){var R=v.memoizedProps;m=m!==null?m.memoizedProps:R;var j=v.type,z=v.updateQueue;v.updateQueue=null,z!==null&&Qe(A,z,j,m,R,v)}return;case 6:if(v.stateNode===null)throw Error(a(162));A=v.memoizedProps,Je(v.stateNode,m!==null?m.memoizedProps:A,A);return;case 3:Ie&&m!==null&&m.memoizedState.isDehydrated&&we(v.stateNode.containerInfo);return;case 12:return;case 13:$c(v);return;case 19:$c(v);return;case 17:return}throw Error(a(163))}switch(v.tag){case 0:case 11:case 14:case 15:Ka(3,v,v.return),Qr(3,v),Ka(5,v,v.return);return;case 12:return;case 13:$c(v);return;case 19:$c(v);return;case 3:Ie&&m!==null&&m.memoizedState.isDehydrated&&we(v.stateNode.containerInfo);break;case 22:case 23:return}e:if(Y){switch(v.tag){case 1:case 5:case 6:break e;case 3:case 4:v=v.stateNode,vn(v.containerInfo,v.pendingChildren);break e}throw Error(a(163))}}function $c(m){var v=m.updateQueue;if(v!==null){m.updateQueue=null;var A=m.stateNode;A===null&&(A=m.stateNode=new Al),v.forEach(function(R){var j=Zy.bind(null,m,R);A.has(R)||(A.add(R),R.then(j,j))})}}function rS(m,v){for(ot=v;ot!==null;){v=ot;var A=v.deletions;if(A!==null)for(var R=0;R<A.length;R++){var j=A[R];try{var z=m;ze?Pg(z,j,v):Ps(z,j,v);var ae=j.alternate;ae!==null&&(ae.return=null),j.return=null}catch(Pt){Ni(j,v,Pt)}}if(A=v.child,(v.subtreeFlags&12854)!==0&&A!==null)A.return=v,ot=A;else for(;ot!==null;){v=ot;try{var pe=v.flags;if(pe&32&&ze&&St(v.stateNode),pe&512){var Le=v.alternate;if(Le!==null){var tt=Le.ref;tt!==null&&(typeof tt=="function"?tt(null):tt.current=null)}}if(pe&8192)switch(v.tag){case 13:if(v.memoizedState!==null){var xt=v.alternate;(xt===null||xt.memoizedState===null)&&(wd=Nr())}break;case 22:var Zt=v.memoizedState!==null,Lt=v.alternate,an=Lt!==null&&Lt.memoizedState!==null;if(A=v,ze){e:if(R=A,j=Zt,z=null,ze)for(var ft=R;;){if(ft.tag===5){if(z===null){z=ft;var ni=ft.stateNode;j?tn(ni):En(ft.stateNode,ft.memoizedProps)}}else if(ft.tag===6){if(z===null){var ls=ft.stateNode;j?zt(ls):fe(ls,ft.memoizedProps)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===R)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===R)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===R)break e;z===ft&&(z=null),ft=ft.return}z===ft&&(z=null),ft.sibling.return=ft.return,ft=ft.sibling}}if(Zt&&!an&&(A.mode&1)!==0){ot=A;for(var Ae=A.child;Ae!==null;){for(A=ot=Ae;ot!==null;){R=ot;var ge=R.child;switch(R.tag){case 0:case 11:case 14:case 15:Ka(4,R,R.return);break;case 1:Ts(R,R.return);var ke=R.stateNode;if(typeof ke.componentWillUnmount=="function"){var ut=R.return;try{ke.props=R.memoizedProps,ke.state=R.memoizedState,ke.componentWillUnmount()}catch(Pt){Ni(R,ut,Pt)}}break;case 5:Ts(R,R.return);break;case 22:if(R.memoizedState!==null){Ng(A);continue}}ge!==null?(ge.return=R,ot=ge):Ng(A)}Ae=Ae.sibling}}}switch(pe&4102){case 2:Lh(v),v.flags&=-3;break;case 6:Lh(v),v.flags&=-3,jo(v.alternate,v);break;case 4096:v.flags&=-4097;break;case 4100:v.flags&=-4097,jo(v.alternate,v);break;case 4:jo(v.alternate,v)}}catch(Pt){Ni(v,v.return,Pt)}if(A=v.sibling,A!==null){A.return=v.return,ot=A;break}ot=v.return}}}function md(m,v,A){ot=m,gd(m)}function gd(m,v,A){for(var R=(m.mode&1)!==0;ot!==null;){var j=ot,z=j.child;if(j.tag===22&&R){var ae=j.memoizedState!==null||Pi;if(!ae){var pe=j.alternate,Le=pe!==null&&pe.memoizedState!==null||Vr;pe=Pi;var tt=Vr;if(Pi=ae,(Vr=Le)&&!tt)for(ot=j;ot!==null;)ae=ot,Le=ae.child,ae.tag===22&&ae.memoizedState!==null?Tl(j):Le!==null?(Le.return=ae,ot=Le):Tl(j);for(;z!==null;)ot=z,gd(z),z=z.sibling;ot=j,Pi=pe,Vr=tt}Cg(m)}else(j.subtreeFlags&8772)!==0&&z!==null?(z.return=j,ot=z):Cg(m)}}function Cg(m){for(;ot!==null;){var v=ot;if((v.flags&8772)!==0){var A=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:Vr||Qr(5,v);break;case 1:var R=v.stateNode;if(v.flags&4&&!Vr)if(A===null)R.componentDidMount();else{var j=v.elementType===v.type?A.memoizedProps:Di(v.type,A.memoizedProps);R.componentDidUpdate(j,A.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var z=v.updateQueue;z!==null&&Oy(v,z,R);break;case 3:var ae=v.updateQueue;if(ae!==null){if(A=null,v.child!==null)switch(v.child.tag){case 5:A=ee(v.child.stateNode);break;case 1:A=v.child.stateNode}Oy(v,ae,A)}break;case 5:var pe=v.stateNode;A===null&&v.flags&4&&Ot(pe,v.type,v.memoizedProps,v);break;case 6:break;case 4:break;case 12:break;case 13:if(Ie&&v.memoizedState===null){var Le=v.alternate;if(Le!==null){var tt=Le.memoizedState;if(tt!==null){var xt=tt.dehydrated;xt!==null&&Ne(xt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}Vr||v.flags&512&&Ci(v)}catch(Zt){Ni(v,v.return,Zt)}}if(v===m){ot=null;break}if(A=v.sibling,A!==null){A.return=v.return,ot=A;break}ot=v.return}}function Ng(m){for(;ot!==null;){var v=ot;if(v===m){ot=null;break}var A=v.sibling;if(A!==null){A.return=v.return,ot=A;break}ot=v.return}}function Tl(m){for(;ot!==null;){var v=ot;try{switch(v.tag){case 0:case 11:case 15:var A=v.return;try{Qr(4,v)}catch(Le){Ni(v,A,Le)}break;case 1:var R=v.stateNode;if(typeof R.componentDidMount=="function"){var j=v.return;try{R.componentDidMount()}catch(Le){Ni(v,j,Le)}}var z=v.return;try{Ci(v)}catch(Le){Ni(v,z,Le)}break;case 5:var ae=v.return;try{Ci(v)}catch(Le){Ni(v,ae,Le)}}}catch(Le){Ni(v,v.return,Le)}if(v===m){ot=null;break}var pe=v.sibling;if(pe!==null){pe.return=v.return,ot=pe;break}ot=v.return}}var vd=0,Pl=1,Cl=2,Za=3,Wc=4;if(typeof Symbol=="function"&&Symbol.for){var Nl=Symbol.for;vd=Nl("selector.component"),Pl=Nl("selector.has_pseudo_class"),Cl=Nl("selector.role"),Za=Nl("selector.test_id"),Wc=Nl("selector.text")}function yd(m){var v=ce(m);if(v!=null){if(typeof v.memoizedProps["data-testname"]!="string")throw Error(a(364));return v}if(m=Q(m),m===null)throw Error(a(362));return m.stateNode.current}function xd(m,v){switch(v.$$typeof){case vd:if(m.type===v.value)return!0;break;case Pl:e:{v=v.value,m=[m,0];for(var A=0;A<m.length;){var R=m[A++],j=m[A++],z=v[j];if(R.tag!==5||!Se(R)){for(;z!=null&&xd(R,z);)j++,z=v[j];if(j===v.length){v=!0;break e}else for(R=R.child;R!==null;)m.push(R,j),R=R.sibling}}v=!1}return v;case Cl:if(m.tag===5&&Oe(m.stateNode,v.value))return!0;break;case Wc:if((m.tag===5||m.tag===6)&&(m=be(m),m!==null&&0<=m.indexOf(v.value)))return!0;break;case Za:if(m.tag===5&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===v.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Fo(m){switch(m.$$typeof){case vd:return"<"+(O(m.value)||"Unknown")+">";case Pl:return":has("+(Fo(m)||"")+")";case Cl:return'[role="'+m.value+'"]';case Wc:return'"'+m.value+'"';case Za:return'[data-testname="'+m.value+'"]';default:throw Error(a(365))}}function is(m,v){var A=[];m=[m,0];for(var R=0;R<m.length;){var j=m[R++],z=m[R++],ae=v[z];if(j.tag!==5||!Se(j)){for(;ae!=null&&xd(j,ae);)z++,ae=v[z];if(z===v.length)A.push(j);else for(j=j.child;j!==null;)m.push(j,z),j=j.sibling}}return A}function Ja(m,v){if(!Ge)throw Error(a(363));m=yd(m),m=is(m,v),v=[],m=Array.from(m);for(var A=0;A<m.length;){var R=m[A++];if(R.tag===5)Se(R)||v.push(R.stateNode);else for(R=R.child;R!==null;)m.push(R),R=R.sibling}return v}var Rg=Math.ceil,bd=o.ReactCurrentDispatcher,Ws=o.ReactCurrentOwner,kn=o.ReactCurrentBatchConfig,sn=0,yr=null,On=null,Jn=0,di=0,Rl=mr(0),dr=0,Gc=null,xa=0,ss=0,kl=0,Qa=null,_r=null,wd=0,Bo=1/0;function Ol(){Bo=Nr()+500}var qc=!1,Yn=null,Gs=null,Xc=!1,ba=null,Il=0,Ll=0,eo=null,$n=-1,fr=0;function wn(){return(sn&6)!==0?Nr():$n!==-1?$n:$n=Nr()}function qs(m){return(m.mode&1)===0?1:(sn&2)!==0&&Jn!==0?Jn&-Jn:ky.transition!==null?(fr===0&&(m=Ec,Ec<<=1,(Ec&4194240)===0&&(Ec=64),fr=m),fr):(m=dn,m!==0?m:me())}function fi(m,v,A){if(50<Ll)throw Ll=0,eo=null,Error(a(185));var R=Uo(m,v);return R===null?null:(ol(R,v,A),((sn&2)===0||R!==yr)&&(R===yr&&((sn&2)===0&&(ss|=v),dr===4&&ti(R,Jn)),Ui(R,A),v===1&&sn===0&&(m.mode&1)===0&&(Ol(),rh&&_s())),R)}function Uo(m,v){m.lanes|=v;var A=m.alternate;for(A!==null&&(A.lanes|=v),A=m,m=m.return;m!==null;)m.childLanes|=v,A=m.alternate,A!==null&&(A.childLanes|=v),A=m,m=m.return;return A.tag===3?A.stateNode:null}function Ui(m,v){var A=m.callbackNode;Ry(m,v);var R=Yu(m,m===yr?Jn:0);if(R===0)A!==null&&Tc(A),m.callbackNode=null,m.callbackPriority=0;else if(v=R&-R,m.callbackPriority!==v){if(A!=null&&Tc(A),v===1)m.tag===0?sh(as.bind(null,m)):ih(as.bind(null,m)),Be?He(function(){sn===0&&_s()}):ll(cl,_s),A=null;else{switch(Fa(R)){case 1:A=cl;break;case 4:A=eS;break;case 16:A=th;break;case 536870912:A=nh;break;default:A=th}A=Fh(A,ei.bind(null,m))}m.callbackPriority=v,m.callbackNode=A}}function ei(m,v){if($n=-1,fr=0,(sn&6)!==0)throw Error(a(327));var A=m.callbackNode;if(wa()&&m.callbackNode!==A)return null;var R=Yu(m,m===yr?Jn:0);if(R===0)return null;if((R&30)!==0||(R&m.expiredLanes)!==0||v)v=Ed(m,R);else{v=R;var j=sn;sn|=2;var z=Ig();(yr!==m||Jn!==v)&&(Ol(),to(m,v));do try{Xy();break}catch(pe){Og(m,pe)}while(!0);Ei(),bd.current=z,sn=j,On!==null?v=0:(yr=null,Jn=0,v=dr)}if(v!==0){if(v===2&&(j=Jf(m),j!==0&&(R=j,v=_d(m,j))),v===1)throw A=Gc,to(m,0),ti(m,R),Ui(m,Nr()),A;if(v===6)ti(m,R);else{if(j=m.current.alternate,(R&30)===0&&!kg(j)&&(v=Ed(m,R),v===2&&(z=Jf(m),z!==0&&(R=z,v=_d(m,z))),v===1))throw A=Gc,to(m,0),ti(m,R),Ui(m,Nr()),A;switch(m.finishedWork=j,m.finishedLanes=R,v){case 0:case 1:throw Error(a(345));case 2:Xs(m,_r);break;case 3:if(ti(m,R),(R&130023424)===R&&(v=wd+500-Nr(),10<v)){if(Yu(m,0)!==0)break;if(j=m.suspendedLanes,(j&R)!==R){wn(),m.pingedLanes|=m.suspendedLanes&j;break}m.timeoutHandle=Ve(Xs.bind(null,m,_r),v);break}Xs(m,_r);break;case 4:if(ti(m,R),(R&4194240)===R)break;for(v=m.eventTimes,j=-1;0<R;){var ae=31-Li(R);z=1<<ae,ae=v[ae],ae>j&&(j=ae),R&=~z}if(R=j,R=Nr()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*Rg(R/1960))-R,10<R){m.timeoutHandle=Ve(Xs.bind(null,m,_r),R);break}Xs(m,_r);break;case 5:Xs(m,_r);break;default:throw Error(a(329))}}}return Ui(m,Nr()),m.callbackNode===A?ei.bind(null,m):null}function _d(m,v){var A=Qa;return m.current.memoizedState.isDehydrated&&(to(m,v).flags|=256),m=Ed(m,v),m!==2&&(v=_r,_r=A,v!==null&&Sd(v)),m}function Sd(m){_r===null?_r=m:_r.push.apply(_r,m)}function kg(m){for(var v=m;;){if(v.flags&16384){var A=v.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var R=0;R<A.length;R++){var j=A[R],z=j.getSnapshot;j=j.value;try{if(!Mi(z(),j))return!1}catch{return!1}}}if(A=v.child,v.subtreeFlags&16384&&A!==null)A.return=v,v=A;else{if(v===m)break;for(;v.sibling===null;){if(v.return===null||v.return===m)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function ti(m,v){for(v&=~kl,v&=~ss,m.suspendedLanes|=v,m.pingedLanes&=~v,m=m.expirationTimes;0<v;){var A=31-Li(v),R=1<<A;m[A]=-1,v&=~R}}function as(m){if((sn&6)!==0)throw Error(a(327));wa();var v=Yu(m,0);if((v&1)===0)return Ui(m,Nr()),null;var A=Ed(m,v);if(m.tag!==0&&A===2){var R=Jf(m);R!==0&&(v=R,A=_d(m,R))}if(A===1)throw A=Gc,to(m,0),ti(m,v),Ui(m,Nr()),A;if(A===6)throw Error(a(345));return m.finishedWork=m.current.alternate,m.finishedLanes=v,Xs(m,_r),Ui(m,Nr()),null}function Yc(m){ba!==null&&ba.tag===0&&(sn&6)===0&&wa();var v=sn;sn|=1;var A=kn.transition,R=dn;try{if(kn.transition=null,dn=1,m)return m()}finally{dn=R,kn.transition=A,sn=v,(sn&6)===0&&_s()}}function Md(){di=Rl.current,Ct(Rl)}function to(m,v){m.finishedWork=null,m.finishedLanes=0;var A=m.timeoutHandle;if(A!==ye&&(m.timeoutHandle=ye,Ue(A)),On!==null)for(A=On.return;A!==null;){var R=A;switch(og(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&qn();break;case 3:Dc(),Ct(cr),Ct(rn),vl();break;case 5:ug(R);break;case 4:Dc();break;case 13:Ct(rr);break;case 19:Ct(rr);break;case 10:ed(R.type._context);break;case 22:case 23:Md()}A=A.return}if(yr=m,On=m=no(m.current,null),Jn=di=v,dr=0,Gc=null,kl=ss=xa=0,_r=Qa=null,Ss!==null){for(v=0;v<Ss.length;v++)if(A=Ss[v],R=A.interleaved,R!==null){A.interleaved=null;var j=R.next,z=A.pending;if(z!==null){var ae=z.next;z.next=j,R.next=ae}A.pending=R}Ss=null}return m}function Og(m,v){do{var A=On;try{if(Ei(),nd.current=zc,vh){for(var R=ir.memoizedState;R!==null;){var j=R.queue;j!==null&&(j.pending=null),R=R.next}vh=!1}if(yl=0,Br=Fr=ir=null,ga=!1,xl=0,Ws.current=null,A===null||A.return===null){dr=1,Gc=v,On=null;break}e:{var z=m,ae=A.return,pe=A,Le=v;if(v=Jn,pe.flags|=32768,Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var tt=Le,xt=pe,Zt=xt.tag;if((xt.mode&1)===0&&(Zt===0||Zt===11||Zt===15)){var Lt=xt.alternate;Lt?(xt.updateQueue=Lt.updateQueue,xt.memoizedState=Lt.memoizedState,xt.lanes=Lt.lanes):(xt.updateQueue=null,xt.memoizedState=null)}var an=bg(ae);if(an!==null){an.flags&=-257,wl(an,ae,pe,z,v),an.mode&1&&Wa(z,tt,v),v=an,Le=tt;var ft=v.updateQueue;if(ft===null){var ni=new Set;ni.add(Le),v.updateQueue=ni}else ft.add(Le);break e}else{if((v&1)===0){Wa(z,tt,v),jh();break e}Le=Error(a(426))}}else if(Zn&&pe.mode&1){var ls=bg(ae);if(ls!==null){(ls.flags&65536)===0&&(ls.flags|=256),wl(ls,ae,pe,z,v),ph(Le);break e}}z=Le,dr!==4&&(dr=2),Qa===null?Qa=[z]:Qa.push(z),Le=xg(Le,pe),pe=ae;do{switch(pe.tag){case 3:pe.flags|=65536,v&=-v,pe.lanes|=v;var Ae=Wy(pe,Le,v);lh(pe,Ae);break e;case 1:z=Le;var ge=pe.type,ke=pe.stateNode;if((pe.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(Gs===null||!Gs.has(ke)))){pe.flags|=65536,v&=-v,pe.lanes|=v;var ut=Th(pe,z,v);lh(pe,ut);break e}}pe=pe.return}while(pe!==null)}Dg(A)}catch(Pt){v=Pt,On===A&&A!==null&&(On=A=A.return);continue}break}while(!0)}function Ig(){var m=bd.current;return bd.current=zc,m===null?zc:m}function jh(){(dr===0||dr===3||dr===2)&&(dr=4),yr===null||(xa&268435455)===0&&(ss&268435455)===0||ti(yr,Jn)}function Ed(m,v){var A=sn;sn|=2;var R=Ig();yr===m&&Jn===v||to(m,v);do try{qy();break}catch(j){Og(m,j)}while(!0);if(Ei(),sn=A,bd.current=R,On!==null)throw Error(a(261));return yr=null,Jn=0,dr}function qy(){for(;On!==null;)Lg(On)}function Xy(){for(;On!==null&&!Co();)Lg(On)}function Lg(m){var v=Bg(m.alternate,m,di);m.memoizedProps=m.pendingProps,v===null?Dg(m):On=v,Ws.current=null}function Dg(m){var v=m;do{var A=v.alternate;if(m=v.return,(v.flags&32768)===0){if(A=Nh(A,v,di),A!==null){On=A;return}}else{if(A=Oh(A,v),A!==null){A.flags&=32767,On=A;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{dr=6,On=null;return}}if(v=v.sibling,v!==null){On=v;return}On=v=m}while(v!==null);dr===0&&(dr=5)}function Xs(m,v){var A=dn,R=kn.transition;try{kn.transition=null,dn=1,Yy(m,v,A)}finally{kn.transition=R,dn=A}return null}function Yy(m,v,A){do wa();while(ba!==null);if((sn&6)!==0)throw Error(a(327));var R=m.finishedWork,j=m.finishedLanes;if(R===null)return null;if(m.finishedWork=null,m.finishedLanes=0,R===m.current)throw Error(a(177));m.callbackNode=null,m.callbackPriority=0;var z=R.lanes|R.childLanes;if(eh(m,z),m===yr&&(On=yr=null,Jn=0),(R.subtreeFlags&2064)===0&&(R.flags&2064)===0||Xc||(Xc=!0,Fh(th,function(){return wa(),null})),z=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||z){z=kn.transition,kn.transition=null;var ae=dn;dn=1;var pe=sn;sn|=4,Ws.current=null,Eg(m,R),rS(m,R),K(m.containerInfo),m.current=R,md(R),Q_(),sn=pe,dn=ae,kn.transition=z}else m.current=R;if(Xc&&(Xc=!1,ba=m,Il=j),z=m.pendingLanes,z===0&&(Gs=null),Zu(R.stateNode),Ui(m,Nr()),v!==null)for(A=m.onRecoverableError,R=0;R<v.length;R++)A(v[R]);if(qc)throw qc=!1,m=Yn,Yn=null,m;return(Il&1)!==0&&m.tag!==0&&wa(),z=m.pendingLanes,(z&1)!==0?m===eo?Ll++:(Ll=0,eo=m):Ll=0,_s(),null}function wa(){if(ba!==null){var m=Fa(Il),v=kn.transition,A=dn;try{if(kn.transition=null,dn=16>m?16:m,ba===null)var R=!1;else{if(m=ba,ba=null,Il=0,(sn&6)!==0)throw Error(a(331));var j=sn;for(sn|=4,ot=m.current;ot!==null;){var z=ot,ae=z.child;if((ot.flags&16)!==0){var pe=z.deletions;if(pe!==null){for(var Le=0;Le<pe.length;Le++){var tt=pe[Le];for(ot=tt;ot!==null;){var xt=ot;switch(xt.tag){case 0:case 11:case 15:Ka(8,xt,z)}var Zt=xt.child;if(Zt!==null)Zt.return=xt,ot=Zt;else for(;ot!==null;){xt=ot;var Lt=xt.sibling,an=xt.return;if(Ag(xt),xt===tt){ot=null;break}if(Lt!==null){Lt.return=an,ot=Lt;break}ot=an}}}var ft=z.alternate;if(ft!==null){var ni=ft.child;if(ni!==null){ft.child=null;do{var ls=ni.sibling;ni.sibling=null,ni=ls}while(ni!==null)}}ot=z}}if((z.subtreeFlags&2064)!==0&&ae!==null)ae.return=z,ot=ae;else e:for(;ot!==null;){if(z=ot,(z.flags&2048)!==0)switch(z.tag){case 0:case 11:case 15:Ka(9,z,z.return)}var Ae=z.sibling;if(Ae!==null){Ae.return=z.return,ot=Ae;break e}ot=z.return}}var ge=m.current;for(ot=ge;ot!==null;){ae=ot;var ke=ae.child;if((ae.subtreeFlags&2064)!==0&&ke!==null)ke.return=ae,ot=ke;else e:for(ae=ge;ot!==null;){if(pe=ot,(pe.flags&2048)!==0)try{switch(pe.tag){case 0:case 11:case 15:Qr(9,pe)}}catch(Pt){Ni(pe,pe.return,Pt)}if(pe===ae){ot=null;break e}var ut=pe.sibling;if(ut!==null){ut.return=pe.return,ot=ut;break e}ot=pe.return}}if(sn=j,_s(),ma&&typeof ma.onPostCommitFiberRoot=="function")try{ma.onPostCommitFiberRoot(Ku,m)}catch{}R=!0}return R}finally{dn=A,kn.transition=v}}return!1}function Ad(m,v,A){v=xg(A,v),v=Wy(m,v,1),No(m,v),v=wn(),m=Uo(m,1),m!==null&&(ol(m,1,v),Ui(m,v))}function Ni(m,v,A){if(m.tag===3)Ad(m,m,A);else for(;v!==null;){if(v.tag===3){Ad(v,m,A);break}else if(v.tag===1){var R=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Gs===null||!Gs.has(R))){m=xg(A,m),m=Th(v,m,1),No(v,m),m=wn(),v=Uo(v,1),v!==null&&(ol(v,1,m),Ui(v,m));break}}v=v.return}}function jg(m,v,A){var R=m.pingCache;R!==null&&R.delete(v),v=wn(),m.pingedLanes|=m.suspendedLanes&A,yr===m&&(Jn&A)===A&&(dr===4||dr===3&&(Jn&130023424)===Jn&&500>Nr()-wd?to(m,0):kl|=A),Ui(m,v)}function Fg(m,v){v===0&&((m.mode&1)===0?v=1:(v=bn,bn<<=1,(bn&130023424)===0&&(bn=4194304)));var A=wn();m=Uo(m,v),m!==null&&(ol(m,v,A),Ui(m,A))}function Ky(m){var v=m.memoizedState,A=0;v!==null&&(A=v.retryLane),Fg(m,A)}function Zy(m,v){var A=0;switch(m.tag){case 13:var R=m.stateNode,j=m.memoizedState;j!==null&&(A=j.retryLane);break;case 19:R=m.stateNode;break;default:throw Error(a(314))}R!==null&&R.delete(v),Fg(m,A)}var Bg;Bg=function(m,v,A){if(m!==null)if(m.memoizedProps!==v.pendingProps||cr.current)zr=!0;else{if((m.lanes&A)===0&&(v.flags&128)===0)return zr=!1,kh(m,v,A);zr=(m.flags&131072)!==0}else zr=!1,Zn&&(v.flags&1048576)!==0&&jy(v,fh,v.index);switch(v.lanes=0,v.tag){case 2:var R=v.type;m!==null&&(m.alternate=null,v.alternate=null,v.flags|=2),m=v.pendingProps;var j=Si(v,rn.current);Pc(v,A),j=jc(null,v,R,m,j,A);var z=Io();return v.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,gr(R)?(z=!0,Kr(v)):z=!1,v.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,Cc(v),j.updater=uh,v.stateNode=j,j._reactInternals=v,sg(v,R,m,A),v=ui(null,v,R,!0,z,A)):(v.tag=0,Zn&&z&&ag(v),ur(null,v,j,A),v=v.child),v;case 16:R=v.elementType;e:{switch(m!==null&&(m.alternate=null,v.alternate=null,v.flags|=2),m=v.pendingProps,j=R._init,R=j(R._payload),v.type=R,j=v.tag=iS(R),m=Di(R,m),j){case 0:v=Xa(null,v,R,m,A);break e;case 1:v=Sl(null,v,R,m,A);break e;case 11:v=Hn(null,v,R,m,A);break e;case 14:v=jn(null,v,R,Di(R.type,m),A);break e}throw Error(a(306,R,""))}return v;case 0:return R=v.type,j=v.pendingProps,j=v.elementType===R?j:Di(R,j),Xa(m,v,R,j,A);case 1:return R=v.type,j=v.pendingProps,j=v.elementType===R?j:Di(R,j),Sl(m,v,R,j,A);case 3:e:{if(dd(v),m===null)throw Error(a(387));R=v.pendingProps,z=v.memoizedState,j=z.element,ng(m,v),ch(v,R,null,A);var ae=v.memoizedState;if(R=ae.element,Ie&&z.isDehydrated)if(z={element:R,isDehydrated:!1,cache:ae.cache,transitions:ae.transitions},v.updateQueue.baseState=z,v.memoizedState=z,v.flags&256){j=Error(a(423)),v=_g(m,v,R,A,j);break e}else if(R!==j){j=Error(a(424)),v=_g(m,v,R,A,j);break e}else for(Ie&&(Zr=_i(v.stateNode.containerInfo),Ai=v,Zn=!0,As=null,Rc=!1),A=Uy(v,null,R,A),v.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(kc(),R===j){v=Bi(m,v,A);break e}ur(m,v,R,A)}v=v.child}return v;case 5:return zy(v),m===null&&ko(v),R=v.type,j=v.pendingProps,z=m!==null?m.memoizedProps:null,ae=j.children,de(R,j)?ae=null:z!==null&&de(R,z)&&(v.flags|=32),Ti(m,v),ur(m,v,ae,A),v.child;case 6:return m===null&&ko(v),null;case 13:return Sg(m,v,A);case 4:return mh(v,v.stateNode.containerInfo),R=v.pendingProps,m===null?v.child=Ha(v,null,R,A):ur(m,v,R,A),v.child;case 11:return R=v.type,j=v.pendingProps,j=v.elementType===R?j:Di(R,j),Hn(m,v,R,j,A);case 7:return ur(m,v,v.pendingProps,A),v.child;case 8:return ur(m,v,v.pendingProps.children,A),v.child;case 12:return ur(m,v,v.pendingProps.children,A),v.child;case 10:e:{if(R=v.type._context,j=v.pendingProps,z=v.memoizedProps,ae=j.value,dl(v,R,ae),z!==null)if(Mi(z.value,ae)){if(z.children===j.children&&!cr.current){v=Bi(m,v,A);break e}}else for(z=v.child,z!==null&&(z.return=v);z!==null;){var pe=z.dependencies;if(pe!==null){ae=z.child;for(var Le=pe.firstContext;Le!==null;){if(Le.context===R){if(z.tag===1){Le=Ua(-1,A&-A),Le.tag=2;var tt=z.updateQueue;if(tt!==null){tt=tt.shared;var xt=tt.pending;xt===null?Le.next=Le:(Le.next=xt.next,xt.next=Le),tt.pending=Le}}z.lanes|=A,Le=z.alternate,Le!==null&&(Le.lanes|=A),fl(z.return,A,v),pe.lanes|=A;break}Le=Le.next}}else if(z.tag===10)ae=z.type===v.type?null:z.child;else if(z.tag===18){if(ae=z.return,ae===null)throw Error(a(341));ae.lanes|=A,pe=ae.alternate,pe!==null&&(pe.lanes|=A),fl(ae,A,v),ae=z.sibling}else ae=z.child;if(ae!==null)ae.return=z;else for(ae=z;ae!==null;){if(ae===v){ae=null;break}if(z=ae.sibling,z!==null){z.return=ae.return,ae=z;break}ae=ae.return}z=ae}ur(m,v,j.children,A),v=v.child}return v;case 9:return j=v.type,R=v.pendingProps.children,Pc(v,A),j=ji(j),R=R(j),v.flags|=1,ur(m,v,R,A),v.child;case 14:return R=v.type,j=Di(R,v.pendingProps),j=Di(R.type,j),jn(m,v,R,j,A);case 15:return qa(m,v,v.type,v.pendingProps,A);case 17:return R=v.type,j=v.pendingProps,j=v.elementType===R?j:Di(R,j),m!==null&&(m.alternate=null,v.alternate=null,v.flags|=2),v.tag=1,gr(R)?(m=!0,Kr(v)):m=!1,Pc(v,A),Ly(v,R,j),sg(v,R,j,A),ui(null,v,R,!0,m,A);case 19:return El(m,v,A);case 22:return Jr(m,v,A)}throw Error(a(156,v.tag))};function Fh(m,v){return ll(m,v)}function Jy(m,v,A,R){this.tag=m,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function os(m,v,A,R){return new Jy(m,v,A,R)}function Bh(m){return m=m.prototype,!(!m||!m.isReactComponent)}function iS(m){if(typeof m=="function")return Bh(m)?1:0;if(m!=null){if(m=m.$$typeof,m===S)return 11;if(m===E)return 14}return 2}function no(m,v){var A=m.alternate;return A===null?(A=os(m.tag,v,m.key,m.mode),A.elementType=m.elementType,A.type=m.type,A.stateNode=m.stateNode,A.alternate=m,m.alternate=A):(A.pendingProps=v,A.type=m.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=m.flags&14680064,A.childLanes=m.childLanes,A.lanes=m.lanes,A.child=m.child,A.memoizedProps=m.memoizedProps,A.memoizedState=m.memoizedState,A.updateQueue=m.updateQueue,v=m.dependencies,A.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},A.sibling=m.sibling,A.index=m.index,A.ref=m.ref,A}function Uh(m,v,A,R,j,z){var ae=2;if(R=m,typeof m=="function")Bh(m)&&(ae=1);else if(typeof m=="string")ae=5;else e:switch(m){case d:return Dl(A.children,j,z,v);case f:ae=8,j|=8;break;case g:return m=os(12,A,v,j|2),m.elementType=g,m.lanes=z,m;case b:return m=os(13,A,v,j),m.elementType=b,m.lanes=z,m;case _:return m=os(19,A,v,j),m.elementType=_,m.lanes=z,m;case P:return Td(A,j,z,v);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case y:ae=10;break e;case x:ae=9;break e;case S:ae=11;break e;case E:ae=14;break e;case M:ae=16,R=null;break e}throw Error(a(130,m==null?m:typeof m,""))}return v=os(ae,A,v,j),v.elementType=m,v.type=R,v.lanes=z,v}function Dl(m,v,A,R){return m=os(7,m,R,v),m.lanes=A,m}function Td(m,v,A,R){return m=os(22,m,R,v),m.elementType=P,m.lanes=A,m.stateNode={},m}function zh(m,v,A){return m=os(6,m,null,v),m.lanes=A,m}function Vh(m,v,A){return v=os(4,m.children!==null?m.children:[],m.key,v),v.lanes=A,v.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},v}function Hh(m,v,A,R,j){this.tag=v,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ye,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qf(0),this.expirationTimes=Qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.identifierPrefix=R,this.onRecoverableError=j,Ie&&(this.mutableSourceEagerHydrationData=null)}function Qy(m,v,A,R,j,z,ae,pe,Le){return m=new Hh(m,v,A,pe,Le),v===1?(v=1,z===!0&&(v|=8)):v=0,z=os(3,null,null,v),m.current=z,z.stateNode=m,z.memoizedState={element:R,isDehydrated:A,cache:null,transitions:null},Cc(z),m}function ex(m){if(!m)return lr;m=m._reactInternals;e:{if(U(m)!==m||m.tag!==1)throw Error(a(170));var v=m;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(gr(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(a(171))}if(m.tag===1){var A=m.type;if(gr(A))return Sc(m,A,v)}return v}function tx(m){var v=m._reactInternals;if(v===void 0)throw typeof m.render=="function"?Error(a(188)):(m=Object.keys(m).join(","),Error(a(268,m)));return m=$(v),m===null?null:m.stateNode}function Cs(m,v){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var A=m.retryLane;m.retryLane=A!==0&&A<v?A:v}}function Pd(m,v){Cs(m,v),(m=m.alternate)&&Cs(m,v)}function $h(m){return m=$(m),m===null?null:m.stateNode}function nx(){return null}return n.attemptContinuousHydration=function(m){if(m.tag===13){var v=wn();fi(m,134217728,v),Pd(m,134217728)}},n.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var v=wn(),A=qs(m);fi(m,A,v),Pd(m,A)}},n.attemptSynchronousHydration=function(m){switch(m.tag){case 3:var v=m.stateNode;if(v.current.memoizedState.isDehydrated){var A=Ac(v.pendingLanes);A!==0&&(pa(v,A|1),Ui(v,Nr()),(sn&6)===0&&(Ol(),_s()))}break;case 13:var R=wn();Yc(function(){return fi(m,1,R)}),Pd(m,1)}},n.batchedUpdates=function(m,v){var A=sn;sn|=1;try{return m(v)}finally{sn=A,sn===0&&(Ol(),rh&&_s())}},n.createComponentSelector=function(m){return{$$typeof:vd,value:m}},n.createContainer=function(m,v,A,R,j,z,ae){return Qy(m,v,!1,null,A,R,j,z,ae)},n.createHasPseudoClassSelector=function(m){return{$$typeof:Pl,value:m}},n.createHydrationContainer=function(m,v,A,R,j,z,ae,pe,Le){return m=Qy(A,R,!0,m,j,z,ae,pe,Le),m.context=ex(null),A=m.current,R=wn(),j=qs(A),z=Ua(R,j),z.callback=v??null,No(A,z),m.current.lanes=j,ol(m,j,R),Ui(m,R),m},n.createPortal=function(m,v,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:R==null?null:""+R,children:m,containerInfo:v,implementation:A}},n.createRoleSelector=function(m){return{$$typeof:Cl,value:m}},n.createTestNameSelector=function(m){return{$$typeof:Za,value:m}},n.createTextSelector=function(m){return{$$typeof:Wc,value:m}},n.deferredUpdates=function(m){var v=dn,A=kn.transition;try{return kn.transition=null,dn=16,m()}finally{dn=v,kn.transition=A}},n.discreteUpdates=function(m,v,A,R,j){var z=dn,ae=kn.transition;try{return kn.transition=null,dn=1,m(v,A,R,j)}finally{dn=z,kn.transition=ae,sn===0&&Ol()}},n.findAllNodes=Ja,n.findBoundingRects=function(m,v){if(!Ge)throw Error(a(363));v=Ja(m,v),m=[];for(var A=0;A<v.length;A++)m.push(W(v[A]));for(v=m.length-1;0<v;v--){A=m[v];for(var R=A.x,j=R+A.width,z=A.y,ae=z+A.height,pe=v-1;0<=pe;pe--)if(v!==pe){var Le=m[pe],tt=Le.x,xt=tt+Le.width,Zt=Le.y,Lt=Zt+Le.height;if(R>=tt&&z>=Zt&&j<=xt&&ae<=Lt){m.splice(v,1);break}else if(R!==tt||A.width!==Le.width||Lt<z||Zt>ae){if(!(z!==Zt||A.height!==Le.height||xt<R||tt>j)){tt>R&&(Le.width+=tt-R,Le.x=R),xt<j&&(Le.width=j-tt),m.splice(v,1);break}}else{Zt>z&&(Le.height+=Zt-z,Le.y=z),Lt<ae&&(Le.height=ae-Zt),m.splice(v,1);break}}}return m},n.findHostInstance=tx,n.findHostInstanceWithNoPortals=function(m){return m=I(m),m=m!==null?V(m):null,m===null?null:m.stateNode},n.findHostInstanceWithWarning=function(m){return tx(m)},n.flushControlled=function(m){var v=sn;sn|=1;var A=kn.transition,R=dn;try{kn.transition=null,dn=1,m()}finally{dn=R,kn.transition=A,sn=v,sn===0&&(Ol(),_s())}},n.flushPassiveEffects=wa,n.flushSync=Yc,n.focusWithin=function(m,v){if(!Ge)throw Error(a(363));for(m=yd(m),v=is(m,v),v=Array.from(v),m=0;m<v.length;){var A=v[m++];if(!Se(A)){if(A.tag===5&&De(A.stateNode))return!0;for(A=A.child;A!==null;)v.push(A),A=A.sibling}}return!1},n.getCurrentUpdatePriority=function(){return dn},n.getFindAllNodesFailureDescription=function(m,v){if(!Ge)throw Error(a(363));var A=0,R=[];m=[yd(m),0];for(var j=0;j<m.length;){var z=m[j++],ae=m[j++],pe=v[ae];if((z.tag!==5||!Se(z))&&(xd(z,pe)&&(R.push(Fo(pe)),ae++,ae>A&&(A=ae)),ae<v.length))for(z=z.child;z!==null;)m.push(z,ae),z=z.sibling}if(A<v.length){for(m=[];A<v.length;A++)m.push(Fo(v[A]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},n.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return ee(m.child.stateNode);default:return m.child.stateNode}},n.injectIntoDevTools=function(m){if(m={bundleType:m.bundleType,version:m.version,rendererPackageName:m.rendererPackageName,rendererConfig:m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:$h,findFiberByHostInstance:m.findFiberByHostInstance||nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(v.isDisabled||!v.supportsFiber)m=!0;else{try{Ku=v.inject(m),ma=v}catch{}m=!!v.checkDCE}}return m},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(m,v,A,R){if(!Ge)throw Error(a(363));m=Ja(m,v);var j=dt(m,A,R).disconnect;return{disconnect:function(){j()}}},n.registerMutableSourceForHydration=function(m,v){var A=v._getVersion;A=A(v._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[v,A]:m.mutableSourceEagerHydrationData.push(v,A)},n.runWithPriority=function(m,v){var A=dn;try{return dn=m,v()}finally{dn=A}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(m,v,A,R){var j=v.current,z=wn(),ae=qs(j);return A=ex(A),v.context===null?v.context=A:v.pendingContext=A,v=Ua(z,ae),v.payload={element:m},R=R===void 0?null:R,R!==null&&(v.callback=R),No(j,v),m=fi(j,ae,z),m!==null&&oh(m,j,ae),ae},n}),qT}var a6;function VMe(){return a6||(a6=1,$T.exports=zMe()),$T.exports}var HMe=VMe();const $Me=Rn(HMe);var o6=MG();const FO={},WMe=t=>void Object.assign(FO,t);function GMe(t,e){function n(d,{args:f=[],attach:g,...y},x){let S=`${d[0].toUpperCase()}${d.slice(1)}`,b;if(d==="primitive"){if(y.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=y.object;b=Sp(_,{type:d,root:x,attach:g,primitive:!0})}else{const _=FO[S];if(!_)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");b=Sp(new _(...f),{type:d,root:x,attach:g,memoizedProps:{args:f}})}return b.__r3f.attach===void 0&&(b.isBufferGeometry?b.__r3f.attach="geometry":b.isMaterial&&(b.__r3f.attach="material")),S!=="inject"&&KT(b,y),b}function r(d,f){let g=!1;if(f){var y,x;(y=f.__r3f)!=null&&y.attach?YT(d,f,f.__r3f.attach):f.isObject3D&&d.isObject3D&&(d.add(f),g=!0),g||(x=d.__r3f)==null||x.objects.push(f),f.__r3f||Sp(f,{}),f.__r3f.parent=d,YN(f),Mp(f)}}function i(d,f,g){let y=!1;if(f){var x,S;if((x=f.__r3f)!=null&&x.attach)YT(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){f.parent=d,f.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:f});const b=d.children.filter(E=>E!==f),_=b.indexOf(g);d.children=[...b.slice(0,_),f,...b.slice(_)],y=!0}y||(S=d.__r3f)==null||S.objects.push(f),f.__r3f||Sp(f,{}),f.__r3f.parent=d,YN(f),Mp(f)}}function s(d,f,g=!1){d&&[...d].forEach(y=>a(f,y,g))}function a(d,f,g){if(f){var y,x,S;if(f.__r3f&&(f.__r3f.parent=null),(y=d.__r3f)!=null&&y.objects&&(d.__r3f.objects=d.__r3f.objects.filter(P=>P!==f)),(x=f.__r3f)!=null&&x.attach)f6(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){var b;d.remove(f),(b=f.__r3f)!=null&&b.root&&QMe(u1(f),f)}const E=(S=f.__r3f)==null?void 0:S.primitive,M=!E&&(g===void 0?f.dispose!==null:g);if(!E){var _;s((_=f.__r3f)==null?void 0:_.objects,f,M),s(f.children,f,M)}if(delete f.__r3f,M&&f.dispose&&f.type!=="Scene"){const P=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?o6.unstable_scheduleCallback(o6.unstable_IdlePriority,P):P()}Mp(d)}}function o(d,f,g,y){var x;const S=(x=d.__r3f)==null?void 0:x.parent;if(!S)return;const b=n(f,g,d.__r3f.root);if(d.children){for(const _ of d.children)_.__r3f&&r(b,_);d.children=d.children.filter(_=>!_.__r3f)}d.__r3f.objects.forEach(_=>r(b,_)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||a(S,d),b.parent&&(b.__r3f.autoRemovedBeforeAppend=!0),r(S,b),b.raycast&&b.__r3f.eventCount&&u1(b).getState().internal.interaction.push(b),[y,y.alternate].forEach(_=>{_!==null&&(_.stateNode=b,_.ref&&(typeof _.ref=="function"?_.ref(b):_.ref.current=b))})}const l=()=>{};return{reconciler:$Me({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,f)=>{if(!f)return;const g=d.getState().scene;g.__r3f&&(g.__r3f.root=d,r(g,f))},removeChildFromContainer:(d,f)=>{f&&a(d.getState().scene,f)},insertInContainerBefore:(d,f,g)=>{if(!f||!g)return;const y=d.getState().scene;y.__r3f&&i(y,f,g)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var f;return!!((f=d==null?void 0:d.__r3f)!=null?f:{}).handlers},prepareUpdate(d,f,g,y){var x;if(((x=d==null?void 0:d.__r3f)!=null?x:{}).primitive&&y.object&&y.object!==d)return[!0];{const{args:b=[],children:_,...E}=y,{args:M=[],children:P,...C}=g;if(!Array.isArray(b))throw new Error("R3F: the args prop must be an array!");if(b.some((O,D)=>O!==M[D]))return[!0];const N=RG(d,E,C,!0);return N.changes.length?[!1,N]:null}},commitUpdate(d,[f,g],y,x,S,b){f?o(d,y,S,b):KT(d,g)},commitMount(d,f,g,y){var x;const S=(x=d.__r3f)!=null?x:{};d.raycast&&S.handlers&&S.eventCount&&u1(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Sp(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var f;const{attach:g,parent:y}=(f=d.__r3f)!=null?f:{};g&&y&&f6(y,d,g),d.isObject3D&&(d.visible=!1),Mp(d)},unhideInstance(d,f){var g;const{attach:y,parent:x}=(g=d.__r3f)!=null?g:{};y&&x&&YT(x,d,y),(d.isObject3D&&f.visible==null||f.visible)&&(d.visible=!0),Mp(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Up.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&sr.fun(performance.now)?performance.now:sr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:sr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:sr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:KT}}var l6,c6;const XT=t=>"colorSpace"in t||"outputColorSpace"in t,EG=()=>{var t;return(t=FO.ColorManagement)!=null?t:null},AG=t=>t&&t.isOrthographicCamera,qMe=t=>t&&t.hasOwnProperty("current"),Ny=typeof window<"u"&&((l6=window.document)!=null&&l6.createElement||((c6=window.navigator)==null?void 0:c6.product)==="ReactNative")?B.useLayoutEffect:B.useEffect;function TG(t){const e=B.useRef(t);return Ny(()=>void(e.current=t),[t]),e}function XMe({set:t}){return Ny(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}let PG=class extends B.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};PG.getDerivedStateFromError=()=>({error:!0});const CG="__default",u6=new Map,YMe=t=>t&&!!t.memoized&&!!t.changes;function NG(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const x0=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function u1(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const sr={obj:t=>t===Object(t)&&!sr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(sr.str(t)||sr.num(t)||sr.boo(t))return t===e;const s=sr.obj(t);if(s&&r==="reference")return t===e;const a=sr.arr(t);if(a&&n==="reference")return t===e;if((a||s)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(o in i?e:t)if(!sr.equ(t[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:t)if(t[o]!==e[o])return!1;if(sr.und(o)){if(a&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function KMe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Sp(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function XN(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,a)=>s[a],t),{target:n,key:i}}else return{target:n,key:e}}const d6=/-\d+$/;function YT(t,e,n){if(sr.str(n)){if(d6.test(n)){const s=n.replace(d6,""),{target:a,key:o}=XN(t,s);Array.isArray(a[o])||(a[o]=[])}const{target:r,key:i}=XN(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function f6(t,e,n){var r,i;if(sr.str(n)){const{target:s,key:a}=XN(t,n),o=e.__r3f.previousAttach;o===void 0?delete s[a]:s[a]=o}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function RG(t,{children:e,key:n,ref:r,...i},{children:s,key:a,ref:o,...l}={},c=!1){const d=t.__r3f,f=Object.entries(i),g=[];if(c){const x=Object.keys(l);for(let S=0;S<x.length;S++)i.hasOwnProperty(x[S])||f.unshift([x[S],CG+"remove"])}f.forEach(([x,S])=>{var b;if((b=t.__r3f)!=null&&b.primitive&&x==="object"||sr.equ(S,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return g.push([x,S,!0,[]]);let _=[];x.includes("-")&&(_=x.split("-")),g.push([x,S,!1,_]);for(const E in i){const M=i[E];E.startsWith(`${x}-`)&&g.push([E,M,!1,E.split("-")])}});const y={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(y.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(y.attach=d.memoizedProps.attach),{memoized:y,changes:g}}function KT(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:o}=YMe(e)?e:RG(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let g=0;g<o.length;g++){let[y,x,S,b]=o[g];if(XT(t)){const P="srgb",C="srgb-linear";y==="encoding"?(y="colorSpace",x=x===3001?P:C):y==="outputEncoding"&&(y="outputColorSpace",x=x===3001?P:C)}let _=t,E=_[y];if(b.length&&(E=b.reduce((M,P)=>M[P],t),!(E&&E.set))){const[M,...P]=b.reverse();_=P.reverse().reduce((C,N)=>C[N],t),y=M}if(x===CG+"remove")if(_.constructor){let M=u6.get(_.constructor);M||(M=new _.constructor,u6.set(_.constructor,M)),x=M[y]}else x=0;if(S&&r)x?r.handlers[y]=x:delete r.handlers[y],r.eventCount=Object.keys(r.handlers).length;else if(E&&E.set&&(E.copy||E instanceof Af)){if(Array.isArray(x))E.fromArray?E.fromArray(x):E.set(...x);else if(E.copy&&x&&x.constructor&&E.constructor===x.constructor)E.copy(x);else if(x!==void 0){var c;const M=(c=E)==null?void 0:c.isColor;!M&&E.setScalar?E.setScalar(x):E instanceof Af&&x instanceof Af?E.mask=x.mask:E.set(x),!EG()&&s&&!s.linear&&M&&E.convertSRGBToLinear()}}else{var d;if(_[y]=x,(d=_[y])!=null&&d.isTexture&&_[y].format===hs&&_[y].type===el&&s){const M=_[y];XT(M)&&XT(s.gl)?M.colorSpace=s.gl.outputColorSpace:M.encoding=s.gl.outputEncoding}}Mp(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const g=u1(t).getState().internal,y=g.interaction.indexOf(t);y>-1&&g.interaction.splice(y,1),r.eventCount&&g.interaction.push(t)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(n=t.__r3f)!=null&&n.parent&&YN(t),t}function Mp(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function YN(t){t.onUpdate==null||t.onUpdate(t)}function ZMe(t,e){t.manual||(AG(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Vb(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function JMe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Up.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Up.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Up.ContinuousEventPriority;default:return Up.DefaultEventPriority}}function kG(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function QMe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{kG(n.capturedMap,e,r,i)})}function eEe(t){function e(l){const{internal:c}=t.getState(),d=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+d]}))}function r(l,c){const d=t.getState(),f=new Set,g=[],y=c?c(d.internal.interaction):d.internal.interaction;for(let _=0;_<y.length;_++){const E=x0(y[_]);E&&(E.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function x(_){const E=x0(_);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var M;E.events.compute==null||E.events.compute(l,E,(M=E.previousRoot)==null?void 0:M.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(_,!0):[]}let S=y.flatMap(x).sort((_,E)=>{const M=x0(_.object),P=x0(E.object);return!M||!P?_.distance-E.distance:P.events.priority-M.events.priority||_.distance-E.distance}).filter(_=>{const E=Vb(_);return f.has(E)?!1:(f.add(E),!0)});d.events.filter&&(S=d.events.filter(S,d));for(const _ of S){let E=_.object;for(;E;){var b;(b=E.__r3f)!=null&&b.eventCount&&g.push({..._,eventObject:E}),E=E.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let _ of d.internal.capturedMap.get(l.pointerId).values())f.has(Vb(_.intersection))||g.push(_.intersection);return g}function i(l,c,d,f){const g=t.getState();if(l.length){const y={stopped:!1};for(const x of l){const S=x0(x.object)||g,{raycaster:b,pointer:_,camera:E,internal:M}=S,P=new ie(_.x,_.y,0).unproject(E),C=L=>{var I,$;return(I=($=M.capturedMap.get(L))==null?void 0:$.has(x.eventObject))!=null?I:!1},N=L=>{const I={intersection:x,target:c.target};M.capturedMap.has(L)?M.capturedMap.get(L).set(x.eventObject,I):M.capturedMap.set(L,new Map([[x.eventObject,I]])),c.target.setPointerCapture(L)},O=L=>{const I=M.capturedMap.get(L);I&&kG(M.capturedMap,x.eventObject,I,L)};let D={};for(let L in c){let I=c[L];typeof I!="function"&&(D[L]=I)}let U={...x,...D,pointer:_,intersections:l,stopped:y.stopped,delta:d,unprojectedPoint:P,ray:b.ray,camera:E,stopPropagation(){const L="pointerId"in c&&M.capturedMap.get(c.pointerId);if((!L||L.has(x.eventObject))&&(U.stopped=y.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(I=>I.eventObject===x.eventObject))){const I=l.slice(0,l.indexOf(x));s([...I,x])}},target:{hasPointerCapture:C,setPointerCapture:N,releasePointerCapture:O},currentTarget:{hasPointerCapture:C,setPointerCapture:N,releasePointerCapture:O},nativeEvent:c};if(f(U),y.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const d of c.hovered.values())if(!l.length||!l.find(f=>f.object===d.object&&f.index===d.index&&f.instanceId===d.instanceId)){const g=d.eventObject.__r3f,y=g==null?void 0:g.handlers;if(c.hovered.delete(Vb(d)),g!=null&&g.eventCount){const x={...d,intersections:l};y.onPointerOut==null||y.onPointerOut(x),y.onPointerLeave==null||y.onPointerLeave(x)}}}function a(l,c){for(let d=0;d<c.length;d++){const f=c[d].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=t.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:f,internal:g}=t.getState();g.lastEvent.current=d;const y=l==="onPointerMove",x=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",b=r(d,y?n:void 0),_=x?e(d):0;l==="onPointerDown"&&(g.initialClick=[d.offsetX,d.offsetY],g.initialHits=b.map(M=>M.eventObject)),x&&!b.length&&_<=2&&(a(d,g.interaction),f&&f(d)),y&&s(b);function E(M){const P=M.eventObject,C=P.__r3f,N=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(y){if(N.onPointerOver||N.onPointerEnter||N.onPointerOut||N.onPointerLeave){const O=Vb(M),D=g.hovered.get(O);D?D.stopped&&M.stopPropagation():(g.hovered.set(O,M),N.onPointerOver==null||N.onPointerOver(M),N.onPointerEnter==null||N.onPointerEnter(M))}N.onPointerMove==null||N.onPointerMove(M)}else{const O=N[l];O?(!x||g.initialHits.includes(P))&&(a(d,g.interaction.filter(D=>!g.initialHits.includes(D))),O(M)):x&&g.initialHits.includes(P)&&a(d,g.interaction.filter(D=>!g.initialHits.includes(D)))}}i(b,d,_,E)}}return{handlePointer:o}}const OG=t=>!!(t!=null&&t.render),IG=B.createContext(null),tEe=(t,e)=>{const n=BMe((o,l)=>{const c=new ie,d=new ie,f=new ie;function g(_=l().camera,E=d,M=l().size){const{width:P,height:C,top:N,left:O}=M,D=P/C;E.isVector3?f.copy(E):f.set(...E);const U=_.getWorldPosition(c).distanceTo(f);if(AG(_))return{width:P/_.zoom,height:C/_.zoom,top:N,left:O,factor:1,distance:U,aspect:D};{const L=_.fov*Math.PI/180,I=2*Math.tan(L/2)*U,$=I*(P/C);return{width:$,height:I,top:N,left:O,factor:P/$,distance:U,aspect:D}}}let y;const x=_=>o(E=>({performance:{...E.performance,current:_}})),S=new $e;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>t(l(),_),advance:(_,E)=>e(_,E,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new IO,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();y&&clearTimeout(y),_.performance.current!==_.performance.min&&x(_.performance.min),y=setTimeout(()=>x(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:_=>o(E=>({...E,events:{...E.events,..._}})),setSize:(_,E,M,P,C)=>{const N=l().camera,O={width:_,height:E,top:P||0,left:C||0,updateStyle:M};o(D=>({size:O,viewport:{...D.viewport,...g(N,d,O)}}))},setDpr:_=>o(E=>{const M=NG(_);return{viewport:{...E.viewport,dpr:M,initialDpr:E.viewport.initialDpr||M}}}),setFrameloop:(_="always")=>{const E=l().clock;E.stop(),E.elapsedTime=0,_!=="never"&&(E.start(),E.elapsedTime=0),o(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:B.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,E,M)=>{const P=l().internal;return P.priority=P.priority+(E>0?1:0),P.subscribers.push({ref:_,priority:E,store:M}),P.subscribers=P.subscribers.sort((C,N)=>C.priority-N.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(E>0?1:0),C.subscribers=C.subscribers.filter(N=>N.ref!==_))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:d,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var g;i=l,s=c.dpr,ZMe(o,l),d.setPixelRatio(c.dpr);const y=(g=l.updateStyle)!=null?g:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,y)}o!==a&&(a=o,f(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};let Hb,nEe=new Set,rEe=new Set,iEe=new Set;function ZT(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function b0(t,e){switch(t){case"before":return ZT(nEe,e);case"after":return ZT(rEe,e);case"tail":return ZT(iEe,e)}}let JT,QT;function eP(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),JT=e.internal.subscribers,Hb=0;Hb<JT.length;Hb++)QT=JT[Hb],QT.ref.current(QT.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function sEe(t){let e=!1,n=!1,r,i,s;function a(c){i=requestAnimationFrame(a),e=!0,r=0,b0("before",c),n=!0;for(const f of t.values()){var d;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=eP(c,s))}if(n=!1,b0("after",c),r===0)return b0("tail",c),e=!1,cancelAnimationFrame(i)}function o(c,d=1){var f;if(!c)return t.forEach(g=>o(g.store.getState(),d));(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(d>1?c.internal.frames=Math.min(60,c.internal.frames+d):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(c,d=!0,f,g){if(d&&b0("before",c),f)eP(c,f,g);else for(const y of t.values())eP(c,y.store.getState());d&&b0("after",c)}return{loop:a,invalidate:o,advance:l}}function LG(){const t=B.useContext(IG);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Km(t=n=>n,e){return LG()(t,e)}function Zm(t,e=0){const n=LG(),r=n.getState().internal.subscribe,i=TG(t);return Ny(()=>r(i,e,n),[e,r,n]),null}const Tm=new Map,{invalidate:h6,advance:p6}=sEe(Tm),{reconciler:Nw,applyProps:wp}=GMe(Tm,JMe),_p={objects:"shallow",strict:!1},aEe=(t,e)=>{const n=typeof t=="function"?t(e):t;return OG(n)?n:new gO({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function oEe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:a,updateStyle:o=n}=e;return{width:r,height:i,top:s,left:a,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function lEe(t){const e=Tm.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||tEe(h6,p6),a=n||Nw.createContainer(s,Up.ConcurrentRoot,null,!1,null,"",i,null);e||Tm.set(t,{fiber:a,store:s});let o,l=!1,c;return{configure(d={}){let{gl:f,size:g,scene:y,events:x,onCreated:S,shadows:b=!1,linear:_=!1,flat:E=!1,legacy:M=!1,orthographic:P=!1,frameloop:C="always",dpr:N=[1,2],performance:O,raycaster:D,camera:U,onPointerMissed:L}=d,I=s.getState(),$=I.gl;I.gl||I.set({gl:$=aEe(f,t)});let X=I.raycaster;X||I.set({raycaster:X=new _G});const{params:V,...Z}=D||{};if(sr.equ(Z,X,_p)||wp(X,{...Z}),sr.equ(V,X.params,_p)||wp(X,{params:{...X.params,...V}}),!I.camera||I.camera===c&&!sr.equ(c,U,_p)){c=U;const K=U instanceof wy,q=K?U:P?new My(0,0,0,0,.1,1e3):new yi(75,0,.1,1e3);K||(q.position.z=5,U&&(wp(q,U),("aspect"in U||"left"in U||"right"in U||"bottom"in U||"top"in U)&&(q.manual=!0,q.updateProjectionMatrix())),!I.camera&&!(U!=null&&U.rotation)&&q.lookAt(0,0,0)),I.set({camera:q}),X.camera=q}if(!I.scene){let K;y!=null&&y.isScene?K=y:(K=new vO,y&&wp(K,y)),I.set({scene:Sp(K)})}if(!I.xr){var ee;const K=(ve,se)=>{const de=s.getState();de.frameloop!=="never"&&p6(ve,!0,de,se)},q=()=>{const ve=s.getState();ve.gl.xr.enabled=ve.gl.xr.isPresenting,ve.gl.xr.setAnimationLoop(ve.gl.xr.isPresenting?K:null),ve.gl.xr.isPresenting||h6(ve)},ne={connect(){const ve=s.getState().gl;ve.xr.addEventListener("sessionstart",q),ve.xr.addEventListener("sessionend",q)},disconnect(){const ve=s.getState().gl;ve.xr.removeEventListener("sessionstart",q),ve.xr.removeEventListener("sessionend",q)}};typeof((ee=$.xr)==null?void 0:ee.addEventListener)=="function"&&ne.connect(),I.set({xr:ne})}if($.shadowMap){const K=$.shadowMap.enabled,q=$.shadowMap.type;if($.shadowMap.enabled=!!b,sr.boo(b))$.shadowMap.type=V0;else if(sr.str(b)){var re;const ne={basic:h9,percentage:T_,soft:V0,variance:po};$.shadowMap.type=(re=ne[b])!=null?re:V0}else sr.obj(b)&&Object.assign($.shadowMap,b);(K!==$.shadowMap.enabled||q!==$.shadowMap.type)&&($.shadowMap.needsUpdate=!0)}const H=EG();H&&("enabled"in H?H.enabled=!M:"legacyMode"in H&&(H.legacyMode=M)),l||wp($,{outputEncoding:_?3e3:3001,toneMapping:E?Qo:Kk}),I.legacy!==M&&I.set(()=>({legacy:M})),I.linear!==_&&I.set(()=>({linear:_})),I.flat!==E&&I.set(()=>({flat:E})),f&&!sr.fun(f)&&!OG(f)&&!sr.equ(f,$,_p)&&wp($,f),x&&!I.events.handlers&&I.set({events:x(s)});const J=oEe(t,g);return sr.equ(J,I.size,_p)||I.setSize(J.width,J.height,J.updateStyle,J.top,J.left),N&&I.viewport.dpr!==NG(N)&&I.setDpr(N),I.frameloop!==C&&I.setFrameloop(C),I.onPointerMissed||I.set({onPointerMissed:L}),O&&!sr.equ(O,I.performance,_p)&&I.set(K=>({performance:{...K.performance,...O}})),o=S,l=!0,this},render(d){return l||this.configure(),Nw.updateContainer(p.jsx(cEe,{store:s,children:d,onCreated:o,rootElement:t}),a,null,()=>{}),s},unmount(){DG(t)}}}function cEe({store:t,children:e,onCreated:n,rootElement:r}){return Ny(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),p.jsx(IG.Provider,{value:t,children:e})}function DG(t,e){const n=Tm.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Nw.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,o,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),KMe(i),Tm.delete(t)}catch{}},500)})}}Nw.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:B.version});const tP={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function uEe(t){const{handlePointer:e}=eEe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(tP).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([a,o])=>{const[l,c]=tP[a];n.addEventListener(l,o,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,a])=>{if(r&&r.connected instanceof HTMLElement){const[o]=tP[s];r.connected.removeEventListener(o,a)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function m6(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function dEe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=B.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=B.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,d=B.useRef(!1);B.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,g,y]=B.useMemo(()=>{const _=()=>{if(!o.current.element)return;const{left:E,top:M,width:P,height:C,bottom:N,right:O,x:D,y:U}=o.current.element.getBoundingClientRect(),L={left:E,top:M,width:P,height:C,bottom:N,right:O,x:D,y:U};o.current.element instanceof HTMLElement&&r&&(L.height=o.current.element.offsetHeight,L.width=o.current.element.offsetWidth),Object.freeze(L),d.current&&!mEe(o.current.lastBounds,L)&&a(o.current.lastBounds=L)};return[_,c?m6(_,c):_,l?m6(_,l):_]},[a,r,l,c]);function x(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function S(){o.current.element&&(o.current.resizeObserver=new i(y),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const b=_=>{!_||_===o.current.element||(x(),o.current.element=_,o.current.scrollContainers=jG(_),S())};return hEe(y,!!e),fEe(g),B.useEffect(()=>{x(),S()},[e,y,g]),B.useEffect(()=>x,[]),[b,s,f]}function fEe(t){B.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function hEe(t,e){B.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function jG(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...jG(t.parentElement)]}const pEe=["x","y","top","bottom","left","right","width","height"],mEe=(t,e)=>pEe.every(n=>t[n]===e[n]);var gEe=Object.defineProperty,vEe=Object.defineProperties,yEe=Object.getOwnPropertyDescriptors,g6=Object.getOwnPropertySymbols,xEe=Object.prototype.hasOwnProperty,bEe=Object.prototype.propertyIsEnumerable,v6=(t,e,n)=>e in t?gEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y6=(t,e)=>{for(var n in e||(e={}))xEe.call(e,n)&&v6(t,n,e[n]);if(g6)for(var n of g6(e))bEe.call(e,n)&&v6(t,n,e[n]);return t},wEe=(t,e)=>vEe(t,yEe(e)),x6,b6;typeof window<"u"&&((x6=window.document)!=null&&x6.createElement||((b6=window.navigator)==null?void 0:b6.product)==="ReactNative")?B.useLayoutEffect:B.useEffect;function FG(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=FG(r,e,n);if(i)return i;r=r.sibling}}function BG(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const w6=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=w6;return}return w6.apply(this,arguments)};const BO=BG(B.createContext(null));class UG extends B.Component{render(){return B.createElement(BO.Provider,{value:this._reactInternals},this.props.children)}}function _Ee(){const t=B.useContext(BO);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=B.useId();return B.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=FG(r,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function SEe(){const t=_Ee(),[e]=B.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==BO&&!e.has(i)&&e.set(i,B.useContext(BG(i)))}n=n.return}return e}function MEe(){const t=SEe();return B.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>B.createElement(e,null,B.createElement(n.Provider,wEe(y6({},r),{value:t.get(n)}))),e=>B.createElement(UG,y6({},e))),[t])}const EEe=B.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:a=uEe,eventSource:o,eventPrefix:l,shadows:c,linear:d,flat:f,legacy:g,orthographic:y,frameloop:x,dpr:S,performance:b,raycaster:_,camera:E,scene:M,onPointerMissed:P,onCreated:C,...N},O){B.useMemo(()=>WMe(IMe),[]);const D=MEe(),[U,L]=dEe({scroll:!0,debounce:{scroll:50,resize:0},...r}),I=B.useRef(null),$=B.useRef(null);B.useImperativeHandle(O,()=>I.current);const X=TG(P),[V,Z]=B.useState(!1),[ee,re]=B.useState(!1);if(V)throw V;if(ee)throw ee;const H=B.useRef(null);Ny(()=>{const K=I.current;L.width>0&&L.height>0&&K&&(H.current||(H.current=lEe(K)),H.current.configure({gl:s,events:a,shadows:c,linear:d,flat:f,legacy:g,orthographic:y,frameloop:x,dpr:S,performance:b,raycaster:_,camera:E,scene:M,size:L,onPointerMissed:(...q)=>X.current==null?void 0:X.current(...q),onCreated:q=>{q.events.connect==null||q.events.connect(o?qMe(o)?o.current:o:$.current),l&&q.setEvents({compute:(ne,ve)=>{const se=ne[l+"X"],de=ne[l+"Y"];ve.pointer.set(se/ve.size.width*2-1,-(de/ve.size.height)*2+1),ve.raycaster.setFromCamera(ve.pointer,ve.camera)}}),C==null||C(q)}}),H.current.render(p.jsx(D,{children:p.jsx(PG,{set:re,children:p.jsx(B.Suspense,{fallback:p.jsx(XMe,{set:Z}),children:e??null})})})))}),B.useEffect(()=>{const K=I.current;if(K)return()=>DG(K)},[]);const J=o?"none":"auto";return p.jsx("div",{ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:J,...i},...N,children:p.jsx("div",{ref:U,style:{width:"100%",height:"100%"},children:p.jsx("canvas",{ref:I,style:{display:"block"},children:n})})})}),AEe=B.forwardRef(function(e,n){return p.jsx(UG,{children:p.jsx(EEe,{...e,ref:n})})});function KN(){const{isDark:t}=Nm();return B.useEffect(()=>{console.log("FallbackBackground mounted with isDark:",t)},[t]),p.jsxs("div",{className:"dynamic-background-container",children:[p.jsx("div",{style:{position:"fixed",top:"10px",right:"10px",background:"rgba(0,255,0,0.8)",color:"white",padding:"5px",borderRadius:"3px",fontSize:"12px",zIndex:1e3},children:"BG: CSS Fallback"}),p.jsx("div",{className:"background-glow"}),p.jsxs("div",{className:`absolute inset-0 ${t?"dark-fallback-bg":"light-fallback-bg"}`,children:[p.jsx("div",{className:"css-diamond diamond-1"}),p.jsx("div",{className:"css-diamond diamond-2"}),p.jsx("div",{className:"css-diamond diamond-3"}),p.jsx("div",{className:"css-diamond diamond-4"}),p.jsx("div",{className:"css-web web-1"}),p.jsx("div",{className:"css-web web-2"}),p.jsx("div",{className:"css-particles",children:Array.from({length:15},(e,n)=>p.jsx("div",{className:`css-particle particle-${n+1}`},n))})]}),p.jsx("div",{className:`absolute inset-0 pointer-events-none ${t?"bg-gradient-to-br from-gray-900/20 via-transparent to-gray-800/15":"bg-gradient-to-br from-white/10 via-transparent to-gray-50/5"}`})]})}function TEe(){const[t,e]=B.useState(!1);return B.useEffect(()=>{const n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),r=navigator.hardwareConcurrency&&navigator.hardwareConcurrency<=2,i=window.innerWidth<768;console.log("Performance check:",{isMobile:n,isLowEndDevice:r,isSmallScreen:i,hardwareConcurrency:navigator.hardwareConcurrency}),e(n||r||i)},[]),{isLowPerformance:t}}const PEe=({isLowPerformance:t})=>{const e=B.useRef(),{mouse:n}=Km(),r=B.useMemo(()=>{const i=t?1:3,s=new Xm(t?2:3,i),a=s.attributes.position.array,o=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=a[l+1],f=a[l+2],g=.9+Math.sin(Math.atan2(d,c)*8)*.1;o.push(c*g,d*g,f*g)}return s.setAttribute("position",new Tt(o,3)),s},[t]);return Zm(i=>{if(e.current){const s=t?.2:.5;e.current.rotation.y=i.clock.elapsedTime*.5*s,e.current.rotation.x=n.y*.3+Math.sin(i.clock.elapsedTime*.3*s)*.1,e.current.rotation.z=n.x*.2+Math.cos(i.clock.elapsedTime*.4*s)*.08;const o=1+Math.sqrt(n.x*n.x+n.y*n.y)*(t?.1:.2),l=1+Math.sin(i.clock.elapsedTime*.8*s)*.08;e.current.scale.setScalar(l*o)}}),p.jsx("mesh",{ref:e,position:[0,0,0],geometry:r,children:p.jsx("meshBasicMaterial",{color:"#9406E6",transparent:!0,opacity:t?.3:.5,wireframe:!0})})},CEe=({isLowPerformance:t})=>{const e=B.useRef(),{mouse:n}=Km(),r=B.useMemo(()=>{const i=t?1:2;return new Ty(t?2.2:3.3,i)},[t]);return Zm(i=>{if(e.current){const s=t?.2:.5;e.current.rotation.y=i.clock.elapsedTime*.3*s,e.current.rotation.x=n.y*.2+Math.sin(i.clock.elapsedTime*.5*s)*.15,e.current.rotation.z=n.x*.15+Math.cos(i.clock.elapsedTime*.6*s)*.1;const o=1+Math.sqrt(n.x*n.x+n.y*n.y)*(t?.08:.15),l=1+Math.sin(i.clock.elapsedTime*1.2*s)*.05;e.current.scale.setScalar(l*o)}}),p.jsx("mesh",{ref:e,position:[0,0,.5],geometry:r,children:p.jsx("meshBasicMaterial",{color:"#00FFFF",transparent:!0,opacity:t?.25:.4,wireframe:!0})})},NEe=({isLowPerformance:t})=>{const e=B.useRef(),{mouse:n}=Km(),r=B.useMemo(()=>{const i=t?0:1;return new Ay(3.6,i)},[t]);return Zm(i=>{if(e.current){const s=t?.2:.5;e.current.rotation.y=-i.clock.elapsedTime*.4*s,e.current.rotation.x=n.y*.15+Math.sin(i.clock.elapsedTime*.7*s)*.12,e.current.rotation.z=n.x*.1+Math.cos(i.clock.elapsedTime*.8*s)*.08;const o=1+Math.sqrt(n.x*n.x+n.y*n.y)*.05,l=1+Math.sin(i.clock.elapsedTime*.6*s)*.03;e.current.scale.setScalar(l*o)}}),t?null:p.jsx("mesh",{ref:e,position:[0,0,-.5],geometry:r,children:p.jsx("meshBasicMaterial",{color:"#FFFFFF",transparent:!0,opacity:.2,wireframe:!0})})},REe=({isLowPerformance:t})=>{const e=B.useRef(),{mouse:n}=Km(),r=t?20:60,i=B.useMemo(()=>Array.from({length:r},(s,a)=>({angle:a/r*Math.PI*2,radius:4+a%3*1.5,speed:.08+Math.random()*.1,verticalOffset:(Math.random()-.5)*3,size:Math.random()*(t?.04:.06)+.02,delay:a*.15,orbitRadius:4+Math.sin(a*.3)*1.5,layer:a%3})),[r,t]);return Zm(s=>{e.current&&e.current.children.forEach((a,o)=>{const l=t?.2:.5,c=s.clock.elapsedTime*i[o].speed*l+i[o].delay,d=i[o].angle+c,f=i[o].orbitRadius+Math.sin(c*.5)*.8,g=Math.sqrt(n.x*n.x+n.y*n.y),y=1+g*(t?.2:.3);a.position.x=Math.cos(d)*f*y,a.position.z=Math.sin(d)*f*y,a.position.y=i[o].verticalOffset+Math.sin(c*.8)*.6,a.position.x+=n.x*.3,a.position.y+=n.y*.3,a.material.opacity=.3+Math.sin(c*2+o)*.2,a.rotation.z=c*.6,a.rotation.x=c*.4;const x=1+Math.sin(c*2+o)*.2;a.scale.setScalar(x*(1+g*.15))})}),p.jsx("group",{ref:e,children:i.map((s,a)=>p.jsxs("mesh",{children:[p.jsx("sphereGeometry",{args:[s.size,t?4:6,t?4:6]}),p.jsx("meshBasicMaterial",{color:s.layer===0?"#9406E6":s.layer===1?"#00FFFF":"#FFFFFF",transparent:!0,opacity:.6})]},a))})},kEe=({isLowPerformance:t})=>{const e=B.useRef(),n=B.useRef([]),{mouse:r}=Km(),i=t?300:1200,s=B.useMemo(()=>{const a=new Float32Array(i*3);n.current=[];for(let o=0;o<i;o++)a[o*3]=(Math.random()-.5)*(t?30:50),a[o*3+1]=(Math.random()-.5)*(t?25:40),a[o*3+2]=(Math.random()-.5)*(t?20:35),n.current.push({x:(Math.random()-.5)*.015,y:(Math.random()-.5)*.01,z:(Math.random()-.5)*.012});return a},[i,t]);return Zm(a=>{if(e.current){const o=e.current.geometry.attributes.position.array,l=a.clock.elapsedTime,c=t?.2:.5,f=1+Math.sqrt(r.x*r.x+r.y*r.y)*.3;for(let g=0;g<i;g++){const y=g*3;n.current[g].x+=Math.sin(l*.3*c+g*.01)*8e-4,n.current[g].y+=Math.cos(l*.2*c+g*.01)*6e-4,o[y]+=n.current[g].x*f,o[y+1]+=n.current[g].y*f,o[y+2]+=n.current[g].z;const x=o[y],S=o[y+1],b=Math.sqrt((x-r.x*8)**2+(S-r.y*8)**2);if(b<6){const E=(6-b)*.001;o[y]+=(r.x*8-x)*E,o[y+1]+=(r.y*8-S)*E}o[y+2]+=Math.sin(l*.6*c+x*.08+S*.08)*.3;const _=t?15:25;o[y]>_&&(o[y]=-_),o[y]<-_&&(o[y]=_),o[y+1]>_*.8&&(o[y+1]=-_*.8),o[y+1]<-_*.8&&(o[y+1]=_*.8),o[y+2]>_*.7&&(o[y+2]=-_*.7),o[y+2]<-_*.7&&(o[y+2]=_*.7)}e.current.geometry.attributes.position.needsUpdate=!0,e.current.rotation.y=a.clock.elapsedTime*.03*c+r.x*.1,e.current.rotation.x=r.y*.05}}),p.jsxs("points",{ref:e,children:[p.jsx("bufferGeometry",{children:p.jsx("bufferAttribute",{attach:"attributes-position",count:i,array:s,itemSize:3})}),p.jsx("pointsMaterial",{transparent:!0,color:"#9406E6",size:t?.01:.015,sizeAttenuation:!0,opacity:t?.15:.2})]})},OEe=({isDark:t,isLowPerformance:e})=>{const n=B.useRef(),{mouse:r,viewport:i}=Km();Zm(c=>{if(n.current){const d=c.clock.elapsedTime,f=e?.2:.5;n.current.material.uniforms.uTime.value=d*f,n.current.material.uniforms.uMouse.value.set(r.x*.3,r.y*.3),n.current.material.uniforms.uMouseVelocity.value=Math.sqrt(r.x**2+r.y**2),n.current.material.uniforms.uIsDark.value=t?1:0,n.current.position.z=-15+Math.sin(d*.2*f)*.8+r.y*1.5,n.current.rotation.x=r.y*.03,n.current.rotation.y=r.x*.02}});const s=B.useMemo(()=>({vertexShader:`
         varying vec2 vUv;
         uniform float uTime;
         uniform vec2 uMouse;
         uniform float uMouseVelocity;
         
         void main() {
            vUv = uv;
            vec3 pos = position;
            
            float mouseInfluence = uMouseVelocity * 0.2;
            pos.z += sin(pos.x * 0.1 + uTime * 0.15 + mouseInfluence) * 0.06;
            pos.z += sin(pos.y * 0.08 + uTime * 0.12 + mouseInfluence) * 0.04;
            
            float mouseDistance = distance(uv, uMouse + 0.5);
            pos.z += sin(mouseDistance * 6.0 - uTime * 2.0) * 0.03 * (1.0 - mouseDistance);
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
         }
      `,fragmentShader:`
         uniform float uTime;
         uniform vec2 uMouse;
         uniform float uMouseVelocity;
         uniform float uIsDark;
         varying vec2 vUv;
         
         void main() {
            vec2 uv = vUv;
            float time = uTime * 0.06;
            
            // Your specified gradient colors
            vec3 purple = vec3(0.58, 0.024, 0.9);  // #9406E6
            vec3 cyan = vec3(0.0, 1.0, 1.0);       // #00FFFF
            
            // Create diagonal gradient from top-left to bottom-right (br direction)
            float gradientFactor = 1.0 - ((1.0 - uv.x) + uv.y) * 0.5;
            gradientFactor = clamp(gradientFactor, 0.0, 1.0);
            
            // Add subtle wave animations to make it dynamic
            float wave1 = sin(uv.x * 2.5 + time * 1.2) * 0.04;
            float wave2 = sin(uv.y * 2.0 + time * 1.0) * 0.03;
            float wave3 = sin((uv.x + uv.y) * 1.5 + time * 1.5) * 0.025;
            
            // Mouse interaction creates subtle color shifts
            float mouseDistance = distance(uv, uMouse + 0.5);
            float mouseEffect = (1.0 - smoothstep(0.0, 0.5, mouseDistance)) * 0.08;
            float mouseWave = sin(mouseDistance * 10.0 - time * 5.0) * 0.04 * (1.0 - mouseDistance);
            
            // Apply waves and mouse effects to gradient
            gradientFactor += wave1 + wave2 + wave3 + mouseEffect + mouseWave;
            gradientFactor = clamp(gradientFactor, 0.0, 1.0);
            
            // Smooth gradient interpolation from purple to cyan
            vec3 finalColor = mix(purple, cyan, gradientFactor);
            
            // Theme-based intensity adjustment
            float intensity = mix(0.85, 0.65, uIsDark);
            finalColor *= intensity;
            
            // Subtle breathing effect
            float breathe = 0.92 + sin(time * 0.5) * 0.04 + uMouseVelocity * 0.02;
            finalColor *= breathe;
            
            // Add gentle energy pulses
            float pulse1 = sin(time * 1.0 + uv.x * 1.5) * 0.015 + 0.985;
            float pulse2 = sin(time * 0.8 + uv.y * 1.2) * 0.015 + 0.985;
            finalColor *= pulse1 * pulse2;
            
            // Mouse creates subtle bright spots
            float mouseGlow = (1.0 - smoothstep(0.0, 0.2, mouseDistance)) * 0.1;
            finalColor += mouseGlow * mix(purple * 0.2, cyan * 0.2, sin(time * 2.0) * 0.5 + 0.5);
            
            gl_FragColor = vec4(finalColor, 1.0);
         }
      `,uniforms:{uTime:{value:0},uMouse:{value:new $e(0,0)},uMouseVelocity:{value:0},uIsDark:{value:0}}}),[]),a=e?32:96,o=Math.max(i.width*1.5,e?50:80),l=Math.max(i.height*1.5,e?50:80);return p.jsxs("mesh",{ref:n,rotation:[0,0,0],position:[0,0,-15],children:[p.jsx("planeGeometry",{args:[o,l,a,a]}),p.jsx("shaderMaterial",{...s,transparent:!1,side:bo})]})};function IEe({isLowPerformance:t,isDark:e}){return B.useEffect(()=>{console.log("Enhanced BackgroundScene mounted with:",{isLowPerformance:t,isDark:e})},[t,e]),p.jsxs(p.Fragment,{children:[p.jsx("ambientLight",{intensity:t?.3:.5}),!t&&p.jsxs(p.Fragment,{children:[p.jsx("pointLight",{position:[10,10,10],intensity:.3,color:"#9406E6"}),p.jsx("pointLight",{position:[-10,-10,10],intensity:.2,color:"#00FFFF"}),p.jsx("pointLight",{position:[0,15,8],intensity:.2,color:"#FFFFFF"})]}),p.jsx(OEe,{isDark:e,isLowPerformance:t}),p.jsx(PEe,{isLowPerformance:t}),p.jsx(CEe,{isLowPerformance:t}),p.jsx(NEe,{isLowPerformance:t}),p.jsx(REe,{isLowPerformance:t}),p.jsx(kEe,{isLowPerformance:t})]})}class LEe extends oe.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return console.error("ErrorBoundary caught error:",e),{hasError:!0}}componentDidCatch(e,n){console.warn("Enhanced background rendering error, falling back to CSS:",e.message),console.error("Error details:",e,n)}render(){return this.state.hasError?(console.log("ErrorBoundary: Rendering FallbackBackground"),p.jsx(KN,{})):this.props.children}}function DEe(){const{isDark:t}=Nm(),{isLowPerformance:e}=TEe(),[n,r]=B.useState(!0);return console.log("Enhanced Background render:",{isDark:t,isLowPerformance:e,useThreeJS:n}),B.useEffect(()=>{try{const i=document.createElement("canvas");i.getContext("webgl")||i.getContext("experimental-webgl")?console.log("WebGL is supported"):(console.warn("WebGL not supported, using CSS fallback"),r(!1))}catch{console.warn("WebGL check failed, using CSS fallback"),r(!1)}},[]),!n||e&&navigator.hardwareConcurrency<=1?(console.log("Using CSS fallback background"),p.jsx(KN,{})):(console.log("Rendering Enhanced Three.js background"),p.jsx(LEe,{children:p.jsxs("div",{className:"dynamic-background-container",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",minWidth:"100vw",minHeight:"100vh",maxWidth:"100vw",maxHeight:"100vh",overflow:"hidden",zIndex:-1,margin:0,padding:0},children:[p.jsx("div",{style:{position:"fixed",top:"10px",right:"10px",color:"white",padding:"5px",borderRadius:"3px",fontSize:"12px",zIndex:1e3}}),p.jsx(B.Suspense,{fallback:p.jsx(KN,{}),children:p.jsx(AEe,{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",minWidth:"100vw",minHeight:"100vh",maxWidth:"100vw",maxHeight:"100vh",display:"block",zIndex:-1,pointerEvents:"auto",margin:0,padding:0,border:"none",outline:"none"},camera:{position:[0,0,e?8:10],fov:e?75:65,aspect:window.innerWidth/window.innerHeight,near:.1,far:1e3},dpr:e?[.5,1]:[1,1.2],performance:{min:e?.3:.5},gl:{antialias:!e,alpha:!1,powerPreference:"low-power",precision:e?"lowp":"highp",preserveDrawingBuffer:!1},resize:{scroll:!1,debounce:{scroll:50,resize:0}},onCreated:({gl:i,camera:s,size:a})=>{console.log("Enhanced Three.js Canvas created successfully"),console.log("Canvas size:",a),console.log("Camera aspect:",s.aspect),i.setSize(a.width,a.height,!1),s.aspect=a.width/a.height,s.updateProjectionMatrix()},children:p.jsx(IEe,{isLowPerformance:e,isDark:t})})})]})}))}function jEe(){return p.jsx(p.Fragment,{children:p.jsxs(wY,{children:[p.jsx(DEe,{}),p.jsx(bY,{position:"top-right"}),p.jsx(Lye,{}),p.jsx(Iye,{})]})})}bq.createRoot(document.getElementById("root")).render(p.jsx(oe.StrictMode,{children:p.jsx(wX,{children:p.jsx(XQ,{children:p.jsx(ete,{children:p.jsx(tte,{children:p.jsx(AX,{clientId:IV.GOOGLE_CLIENT_ID,children:p.jsx(jEe,{})})})})})})}));
